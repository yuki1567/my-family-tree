# Issue 管理

## 概要

このプロジェクトでは、GitHubのissue機能を使用してタスク管理を行います。
各issueは小さな作業単位（2-4時間）に分割し、明確な受け入れ基準を設定します。

## Issue分類とラベル

### ラベル定義

| ラベル        | 説明                                   | 使用例                                       |
| ------------- | -------------------------------------- | -------------------------------------------- |
| `bug`         | 不具合や期待通りに動かない問題         | ログインできない、データが正しく保存されない |
| `chore`       | 開発環境・ビルド・設定の改善           | Docker設定の更新、依存関係の更新             |
| `docs`        | ドキュメント関連                       | README更新、API仕様書作成                    |
| `enhancement` | 既存コードの改善・拡張・修正           | パフォーマンス改善、UIの改善                 |
| `feature`     | 完全に新しい機能・コンポーネントの作成 | ユーザー認証機能、新しいページの追加         |
| `refactor`    | 動作は変えずに内部のコードを整理・改善 | コードの構造改善、重複コード削除             |
| `test`        | テストコードの追加や修正               | 単体テスト追加、E2Eテスト改善                |

### ラベル選択ガイド

**機能追加の場合**:

- 全く新しい機能 → `feature`
- 既存機能の拡張 → `enhancement`

**問題修正の場合**:

- 動作しない・間違った動作 → `bug`
- コードの品質改善 → `refactor`

**その他**:

- 設定・環境関連 → `chore`
- 説明書・仕様書 → `docs`
- テスト関連 → `test`

## Issue作成要件

### タイトル作成

- 1行（最大50文字）
- 簡潔でわかりやすい表現

### 本文構成

#### 必須項目

1. **背景**
   - なぜこの作業が必要か
   - 現在の問題や課題

2. **提案内容**
   - 具体的に何を実装・修正するか
   - 技術的なアプローチ（分かる範囲で）

3. **受け入れ基準**
   - 最低3項目以上
   - 検証可能な具体的な基準
   - チェックボックス形式で記載

#### 本文テンプレート

```markdown
## 背景

[なぜこの作業が必要か]

## 提案内容

[具体的に何を実装・修正するか]

## 受け入れ基準

- [ ] [検証可能な基準1]
- [ ] [検証可能な基準2]
- [ ] [検証可能な基準3]
```

### Issue分割ガイドライン

**分割すべき場合**:

- 作業時間が4時間を超える見込み
- 複数の異なる技術領域にまたがる
- 独立して検証できる複数の要件がある

**分割例**:

```
大きなissue: "ユーザー管理機能の実装"
↓
小さなissue:
- "ユーザー作成API実装"
- "ユーザー一覧画面作成"
- "ユーザー編集API実装"
```

## 優先度管理

### 優先度決定方法

1. **タイトルの `[数字]` で昇順ソート**
   - 小さい数字 = 高優先度
   - 例: `[1]` > `[2]` > `[10]`

2. **数字なしのissueは最低優先度**

3. **同じ優先度の場合はissue番号昇順**

### 自動選択条件（process-issueコマンド用）

- **状態**: Open（未クローズ）
- **アサイン**: 未アサイン（assignees が空）
- **優先度**: 上記ルールに従って最高優先度

## Issue ライフサイクル

### 状態管理

1. **Open**: 作業待ち
2. **In Progress**: 誰かにアサインされ作業中
3. **Closed**: 完了（PRマージ後）

### アサイン管理

- 作業開始時に自動アサイン（process-issueコマンド）
- 作業完了後はアサインを維持（履歴として）

### 関連PR

- issue番号をPRタイトルに含める
- PR説明で `Closes #issue番号` を記載
- PRマージ時にissueが自動クローズ

## ベストプラクティス

### Issue作成時

- [ ] 既存issueとの重複確認
- [ ] 実装状況の事前確認
- [ ] 適切なラベル付与
- [ ] 検証可能な受け入れ基準設定

### 作業中

- [ ] 進捗をissueコメントで報告
- [ ] 仕様変更があれば受け入れ基準を更新
- [ ] ブロッカーがあれば早期に報告

### 完了時

- [ ] 受け入れ基準すべてを検証
- [ ] PR作成とissueクローズ
- [ ] 関連ドキュメントの更新

## 関連コマンド

- `create-issue`: issue作成支援
- `process-issue`: 最優先issue選択と開発環境準備
- `gh issue list`: issue一覧表示
- `gh issue view [番号]`: issue詳細表示
