import{createRequire}from"module";const require=createRequire(import.meta.url);
var VY=Object.create;var bu=Object.defineProperty;var FY=Object.getOwnPropertyDescriptor;var GY=Object.getOwnPropertyNames;var HY=Object.getPrototypeOf,qY=Object.prototype.hasOwnProperty;var yR=r=>{throw TypeError(r)};var V=(r=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(r,{get:(e,t)=>(typeof require<"u"?require:e)[t]}):r)(function(r){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+r+'" is not supported')});var p=(r,e)=>()=>(r&&(e=r(r=0)),e);var T=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),Ae=(r,e)=>{for(var t in e)bu(r,t,{get:e[t],enumerable:!0})},OR=(r,e,t,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of GY(e))!qY.call(r,s)&&s!==t&&bu(r,s,{get:()=>e[s],enumerable:!(o=FY(e,s))||o.enumerable});return r};var Nn=(r,e,t)=>(t=r!=null?VY(HY(r)):{},OR(e||!r||!r.__esModule?bu(t,"default",{value:r,enumerable:!0}):t,r)),ee=r=>OR(bu({},"__esModule",{value:!0}),r);var fm=(r,e,t)=>e.has(r)||yR("Cannot "+t);var ko=(r,e,t)=>(fm(r,e,"read from private field"),t?t.call(r):e.get(r)),Lu=(r,e,t)=>e.has(r)?yR("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t),pm=(r,e,t,o)=>(fm(r,e,"write to private field"),o?o.call(r,t):e.set(r,t),t),dm=(r,e,t)=>(fm(r,e,"access private method"),t);var AR,RR=p(()=>{AR=typeof globalThis=="object"?globalThis:global});var NR=p(()=>{RR()});var CR=p(()=>{NR()});var cn,hm=p(()=>{cn="1.9.0"});function jY(r){var e=new Set([r]),t=new Set,o=r.match(PR);if(!o)return function(){return!1};var s={major:+o[1],minor:+o[2],patch:+o[3],prerelease:o[4]};if(s.prerelease!=null)return function(l){return l===r};function a(n){return t.add(n),!1}function i(n){return e.add(n),!0}return function(l){if(e.has(l))return!0;if(t.has(l))return!1;var c=l.match(PR);if(!c)return a(l);var u={major:+c[1],minor:+c[2],patch:+c[3],prerelease:c[4]};return u.prerelease!=null||s.major!==u.major?a(l):s.major===0?s.minor===u.minor&&s.patch<=u.patch?i(l):a(l):s.minor<=u.minor?i(l):a(l)}}var PR,IR,bR=p(()=>{hm();PR=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;IR=jY(cn)});function Pr(r,e,t,o){var s;o===void 0&&(o=!1);var a=qa[Ha]=(s=qa[Ha])!==null&&s!==void 0?s:{version:cn};if(!o&&a[r]){var i=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+r);return t.error(i.stack||i.message),!1}if(a.version!==cn){var i=new Error("@opentelemetry/api: Registration of version v"+a.version+" for "+r+" does not match previously registered API v"+cn);return t.error(i.stack||i.message),!1}return a[r]=e,t.debug("@opentelemetry/api: Registered a global for "+r+" v"+cn+"."),!0}function xt(r){var e,t,o=(e=qa[Ha])===null||e===void 0?void 0:e.version;if(!(!o||!IR(o)))return(t=qa[Ha])===null||t===void 0?void 0:t[r]}function Ir(r,e){e.debug("@opentelemetry/api: Unregistering a global for "+r+" v"+cn+".");var t=qa[Ha];t&&delete t[r]}var YY,Ha,qa,Ti=p(()=>{CR();hm();bR();YY=cn.split(".")[0],Ha=Symbol.for("opentelemetry.js.api."+YY),qa=AR});function ja(r,e,t){var o=xt("diag");if(o)return t.unshift(e),o[r].apply(o,zY([],KY(t),!1))}var KY,zY,LR,xR=p(()=>{Ti();KY=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var o=t.call(r),s,a=[],i;try{for(;(e===void 0||e-- >0)&&!(s=o.next()).done;)a.push(s.value)}catch(n){i={error:n}}finally{try{s&&!s.done&&(t=o.return)&&t.call(o)}finally{if(i)throw i.error}}return a},zY=function(r,e,t){if(t||arguments.length===2)for(var o=0,s=e.length,a;o<s;o++)(a||!(o in e))&&(a||(a=Array.prototype.slice.call(e,0,o)),a[o]=e[o]);return r.concat(a||Array.prototype.slice.call(e))},LR=(function(){function r(e){this._namespace=e.namespace||"DiagComponentLogger"}return r.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return ja("debug",this._namespace,e)},r.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return ja("error",this._namespace,e)},r.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return ja("info",this._namespace,e)},r.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return ja("warn",this._namespace,e)},r.prototype.verbose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return ja("verbose",this._namespace,e)},r})()});var H,xu=p(()=>{(function(r){r[r.NONE=0]="NONE",r[r.ERROR=30]="ERROR",r[r.WARN=50]="WARN",r[r.INFO=60]="INFO",r[r.DEBUG=70]="DEBUG",r[r.VERBOSE=80]="VERBOSE",r[r.ALL=9999]="ALL"})(H||(H={}))});function MR(r,e){r<H.NONE?r=H.NONE:r>H.ALL&&(r=H.ALL),e=e||{};function t(o,s){var a=e[o];return typeof a=="function"&&r>=s?a.bind(e):function(){}}return{error:t("error",H.ERROR),warn:t("warn",H.WARN),info:t("info",H.INFO),debug:t("debug",H.DEBUG),verbose:t("verbose",H.VERBOSE)}}var wR=p(()=>{xu()});var $Y,XY,WY,ft,Si=p(()=>{xR();wR();xu();Ti();$Y=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var o=t.call(r),s,a=[],i;try{for(;(e===void 0||e-- >0)&&!(s=o.next()).done;)a.push(s.value)}catch(n){i={error:n}}finally{try{s&&!s.done&&(t=o.return)&&t.call(o)}finally{if(i)throw i.error}}return a},XY=function(r,e,t){if(t||arguments.length===2)for(var o=0,s=e.length,a;o<s;o++)(a||!(o in e))&&(a||(a=Array.prototype.slice.call(e,0,o)),a[o]=e[o]);return r.concat(a||Array.prototype.slice.call(e))},WY="diag",ft=(function(){function r(){function e(s){return function(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];var n=xt("diag");if(n)return n[s].apply(n,XY([],$Y(a),!1))}}var t=this,o=function(s,a){var i,n,l;if(a===void 0&&(a={logLevel:H.INFO}),s===t){var c=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return t.error((i=c.stack)!==null&&i!==void 0?i:c.message),!1}typeof a=="number"&&(a={logLevel:a});var u=xt("diag"),f=MR((n=a.logLevel)!==null&&n!==void 0?n:H.INFO,s);if(u&&!a.suppressOverrideMessage){var _=(l=new Error().stack)!==null&&l!==void 0?l:"<failed to generate stacktrace>";u.warn("Current logger will be overwritten from "+_),f.warn("Current logger will overwrite one already registered from "+_)}return Pr("diag",f,t,!0)};t.setLogger=o,t.disable=function(){Ir(WY,t)},t.createComponentLogger=function(s){return new LR(s)},t.verbose=e("verbose"),t.debug=e("debug"),t.info=e("info"),t.warn=e("warn"),t.error=e("error")}return r.instance=function(){return this._instance||(this._instance=new r),this._instance},r})()});var JY,QY,DR,UR=p(()=>{JY=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var o=t.call(r),s,a=[],i;try{for(;(e===void 0||e-- >0)&&!(s=o.next()).done;)a.push(s.value)}catch(n){i={error:n}}finally{try{s&&!s.done&&(t=o.return)&&t.call(o)}finally{if(i)throw i.error}}return a},QY=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],o=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&o>=r.length&&(r=void 0),{value:r&&r[o++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},DR=(function(){function r(e){this._entries=e?new Map(e):new Map}return r.prototype.getEntry=function(e){var t=this._entries.get(e);if(t)return Object.assign({},t)},r.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map(function(e){var t=JY(e,2),o=t[0],s=t[1];return[o,s]})},r.prototype.setEntry=function(e,t){var o=new r(this._entries);return o._entries.set(e,t),o},r.prototype.removeEntry=function(e){var t=new r(this._entries);return t._entries.delete(e),t},r.prototype.removeEntries=function(){for(var e,t,o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];var a=new r(this._entries);try{for(var i=QY(o),n=i.next();!n.done;n=i.next()){var l=n.value;a._entries.delete(l)}}catch(c){e={error:c}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}return a},r.prototype.clear=function(){return new r},r})()});var kR,BR=p(()=>{kR=Symbol("BaggageEntryMetadata")});function VR(r){return r===void 0&&(r={}),new DR(new Map(Object.entries(r)))}function br(r){return typeof r!="string"&&(ZY.error("Cannot create baggage metadata from unknown type: "+typeof r),r=""),{__TYPE__:kR,toString:function(){return r}}}var ZY,_m=p(()=>{Si();UR();BR();ZY=ft.instance()});function De(r){return Symbol.for(r)}var eK,Mu,Ya=p(()=>{eK=(function(){function r(e){var t=this;t._currentContext=e?new Map(e):new Map,t.getValue=function(o){return t._currentContext.get(o)},t.setValue=function(o,s){var a=new r(t._currentContext);return a._currentContext.set(o,s),a},t.deleteValue=function(o){var s=new r(t._currentContext);return s._currentContext.delete(o),s}}return r})(),Mu=new eK});var Em,wu,FR=p(()=>{Em=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}],wu=(function(){function r(){function e(o){return function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];if(console){var i=console[o];if(typeof i!="function"&&(i=console.log),typeof i=="function")return i.apply(console,s)}}}for(var t=0;t<Em.length;t++)this[Em[t].n]=e(Em[t].c)}return r})()});function Uu(){return Tm}var gi,tK,Du,rK,nK,iK,oK,mm,sK,aK,lK,Tm,cK,uK,fK,pK,dK,hK,_K,Sm=p(()=>{gi=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(o[a]=s[a])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}})(),tK=(function(){function r(){}return r.prototype.createGauge=function(e,t){return uK},r.prototype.createHistogram=function(e,t){return fK},r.prototype.createCounter=function(e,t){return cK},r.prototype.createUpDownCounter=function(e,t){return pK},r.prototype.createObservableGauge=function(e,t){return hK},r.prototype.createObservableCounter=function(e,t){return dK},r.prototype.createObservableUpDownCounter=function(e,t){return _K},r.prototype.addBatchObservableCallback=function(e,t){},r.prototype.removeBatchObservableCallback=function(e){},r})(),Du=(function(){function r(){}return r})(),rK=(function(r){gi(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.add=function(t,o){},e})(Du),nK=(function(r){gi(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.add=function(t,o){},e})(Du),iK=(function(r){gi(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.record=function(t,o){},e})(Du),oK=(function(r){gi(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.record=function(t,o){},e})(Du),mm=(function(){function r(){}return r.prototype.addCallback=function(e){},r.prototype.removeCallback=function(e){},r})(),sK=(function(r){gi(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e})(mm),aK=(function(r){gi(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e})(mm),lK=(function(r){gi(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e})(mm),Tm=new tK,cK=new rK,uK=new iK,fK=new oK,pK=new nK,dK=new sK,hK=new aK,_K=new lK});var Ot,GR=p(()=>{(function(r){r[r.INT=0]="INT",r[r.DOUBLE=1]="DOUBLE"})(Ot||(Ot={}))});var ku,Bu,gm=p(()=>{ku={get:function(r,e){if(r!=null)return r[e]},keys:function(r){return r==null?[]:Object.keys(r)}},Bu={set:function(r,e,t){r!=null&&(r[e]=t)}}});var EK,mK,HR,qR=p(()=>{Ya();EK=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var o=t.call(r),s,a=[],i;try{for(;(e===void 0||e-- >0)&&!(s=o.next()).done;)a.push(s.value)}catch(n){i={error:n}}finally{try{s&&!s.done&&(t=o.return)&&t.call(o)}finally{if(i)throw i.error}}return a},mK=function(r,e,t){if(t||arguments.length===2)for(var o=0,s=e.length,a;o<s;o++)(a||!(o in e))&&(a||(a=Array.prototype.slice.call(e,0,o)),a[o]=e[o]);return r.concat(a||Array.prototype.slice.call(e))},HR=(function(){function r(){}return r.prototype.active=function(){return Mu},r.prototype.with=function(e,t,o){for(var s=[],a=3;a<arguments.length;a++)s[a-3]=arguments[a];return t.call.apply(t,mK([o],EK(s),!1))},r.prototype.bind=function(e,t){return t},r.prototype.enable=function(){return this},r.prototype.disable=function(){return this},r})()});var TK,SK,vm,gK,Cn,Ka=p(()=>{qR();Ti();Si();TK=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var o=t.call(r),s,a=[],i;try{for(;(e===void 0||e-- >0)&&!(s=o.next()).done;)a.push(s.value)}catch(n){i={error:n}}finally{try{s&&!s.done&&(t=o.return)&&t.call(o)}finally{if(i)throw i.error}}return a},SK=function(r,e,t){if(t||arguments.length===2)for(var o=0,s=e.length,a;o<s;o++)(a||!(o in e))&&(a||(a=Array.prototype.slice.call(e,0,o)),a[o]=e[o]);return r.concat(a||Array.prototype.slice.call(e))},vm="context",gK=new HR,Cn=(function(){function r(){}return r.getInstance=function(){return this._instance||(this._instance=new r),this._instance},r.prototype.setGlobalContextManager=function(e){return Pr(vm,e,ft.instance())},r.prototype.active=function(){return this._getContextManager().active()},r.prototype.with=function(e,t,o){for(var s,a=[],i=3;i<arguments.length;i++)a[i-3]=arguments[i];return(s=this._getContextManager()).with.apply(s,SK([e,t,o],TK(a),!1))},r.prototype.bind=function(e,t){return this._getContextManager().bind(e,t)},r.prototype._getContextManager=function(){return xt(vm)||gK},r.prototype.disable=function(){this._getContextManager().disable(),Ir(vm,ft.instance())},r})()});var se,ym=p(()=>{(function(r){r[r.NONE=0]="NONE",r[r.SAMPLED=1]="SAMPLED"})(se||(se={}))});var za,$a,Bo,Vu=p(()=>{ym();za="0000000000000000",$a="00000000000000000000000000000000",Bo={traceId:$a,spanId:za,traceFlags:se.NONE}});var Pn,Fu=p(()=>{Vu();Pn=(function(){function r(e){e===void 0&&(e=Bo),this._spanContext=e}return r.prototype.spanContext=function(){return this._spanContext},r.prototype.setAttribute=function(e,t){return this},r.prototype.setAttributes=function(e){return this},r.prototype.addEvent=function(e,t){return this},r.prototype.addLink=function(e){return this},r.prototype.addLinks=function(e){return this},r.prototype.setStatus=function(e){return this},r.prototype.updateName=function(e){return this},r.prototype.end=function(e){},r.prototype.isRecording=function(){return!1},r.prototype.recordException=function(e,t){},r})()});function Gu(r){return r.getValue(Om)||void 0}function jR(){return Gu(Cn.getInstance().active())}function Xa(r,e){return r.setValue(Om,e)}function YR(r){return r.deleteValue(Om)}function KR(r,e){return Xa(r,new Pn(e))}function Hu(r){var e;return(e=Gu(r))===null||e===void 0?void 0:e.spanContext()}var Om,Am=p(()=>{Ya();Fu();Ka();Om=De("OpenTelemetry Context Key SPAN")});function Mt(r){return vK.test(r)&&r!==$a}function vi(r){return yK.test(r)&&r!==za}function xe(r){return Mt(r.traceId)&&vi(r.spanId)}function zR(r){return new Pn(r)}var vK,yK,qu=p(()=>{Vu();Fu();vK=/^([0-9a-f]{32})$/i,yK=/^[0-9a-f]{16}$/i});function OK(r){return typeof r=="object"&&typeof r.spanId=="string"&&typeof r.traceId=="string"&&typeof r.traceFlags=="number"}var Rm,ju,Nm=p(()=>{Ka();Am();Fu();qu();Rm=Cn.getInstance(),ju=(function(){function r(){}return r.prototype.startSpan=function(e,t,o){o===void 0&&(o=Rm.active());var s=!!(t!=null&&t.root);if(s)return new Pn;var a=o&&Hu(o);return OK(a)&&xe(a)?new Pn(a):new Pn},r.prototype.startActiveSpan=function(e,t,o,s){var a,i,n;if(!(arguments.length<2)){arguments.length===2?n=t:arguments.length===3?(a=t,n=o):(a=t,i=o,n=s);var l=i??Rm.active(),c=this.startSpan(e,a,l),u=Xa(l,c);return Rm.with(u,n,void 0,c)}},r})()});var AK,Yu,Cm=p(()=>{Nm();AK=new ju,Yu=(function(){function r(e,t,o,s){this._provider=e,this.name=t,this.version=o,this.options=s}return r.prototype.startSpan=function(e,t,o){return this._getTracer().startSpan(e,t,o)},r.prototype.startActiveSpan=function(e,t,o,s){var a=this._getTracer();return Reflect.apply(a.startActiveSpan,a,arguments)},r.prototype._getTracer=function(){if(this._delegate)return this._delegate;var e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):AK},r})()});var $R,XR=p(()=>{Nm();$R=(function(){function r(){}return r.prototype.getTracer=function(e,t,o){return new ju},r})()});var RK,Wa,Pm=p(()=>{Cm();XR();RK=new $R,Wa=(function(){function r(){}return r.prototype.getTracer=function(e,t,o){var s;return(s=this.getDelegateTracer(e,t,o))!==null&&s!==void 0?s:new Yu(this,e,t,o)},r.prototype.getDelegate=function(){var e;return(e=this._delegate)!==null&&e!==void 0?e:RK},r.prototype.setDelegate=function(e){this._delegate=e},r.prototype.getDelegateTracer=function(e,t,o){var s;return(s=this._delegate)===null||s===void 0?void 0:s.getTracer(e,t,o)},r})()});var ke,WR=p(()=>{(function(r){r[r.NOT_RECORD=0]="NOT_RECORD",r[r.RECORD=1]="RECORD",r[r.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(ke||(ke={}))});var qt,JR=p(()=>{(function(r){r[r.INTERNAL=0]="INTERNAL",r[r.SERVER=1]="SERVER",r[r.CLIENT=2]="CLIENT",r[r.PRODUCER=3]="PRODUCER",r[r.CONSUMER=4]="CONSUMER"})(qt||(qt={}))});var Lr,QR=p(()=>{(function(r){r[r.UNSET=0]="UNSET",r[r.OK=1]="OK",r[r.ERROR=2]="ERROR"})(Lr||(Lr={}))});function ZR(r){return PK.test(r)}function eN(r){return IK.test(r)&&!bK.test(r)}var Im,NK,CK,PK,IK,bK,tN=p(()=>{Im="[_0-9a-z-*/]",NK="[a-z]"+Im+"{0,255}",CK="[a-z0-9]"+Im+"{0,240}@[a-z]"+Im+"{0,13}",PK=new RegExp("^(?:"+NK+"|"+CK+")$"),IK=/^[ -~]{0,255}[!-~]$/,bK=/,|=/});var rN,LK,nN,iN,oN,sN=p(()=>{tN();rN=32,LK=512,nN=",",iN="=",oN=(function(){function r(e){this._internalState=new Map,e&&this._parse(e)}return r.prototype.set=function(e,t){var o=this._clone();return o._internalState.has(e)&&o._internalState.delete(e),o._internalState.set(e,t),o},r.prototype.unset=function(e){var t=this._clone();return t._internalState.delete(e),t},r.prototype.get=function(e){return this._internalState.get(e)},r.prototype.serialize=function(){var e=this;return this._keys().reduce(function(t,o){return t.push(o+iN+e.get(o)),t},[]).join(nN)},r.prototype._parse=function(e){e.length>LK||(this._internalState=e.split(nN).reverse().reduce(function(t,o){var s=o.trim(),a=s.indexOf(iN);if(a!==-1){var i=s.slice(0,a),n=s.slice(a+1,o.length);ZR(i)&&eN(n)&&t.set(i,n)}return t},new Map),this._internalState.size>rN&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,rN))))},r.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},r.prototype._clone=function(){var e=new r;return e._internalState=new Map(this._internalState),e},r})()});function aN(r){return new oN(r)}var lN=p(()=>{sN()});var me,cN=p(()=>{Ka();me=Cn.getInstance()});var S,uN=p(()=>{Si();S=ft.instance()});var xK,fN,pN=p(()=>{Sm();xK=(function(){function r(){}return r.prototype.getMeter=function(e,t,o){return Tm},r})(),fN=new xK});var bm,dN,hN=p(()=>{pN();Ti();Si();bm="metrics",dN=(function(){function r(){}return r.getInstance=function(){return this._instance||(this._instance=new r),this._instance},r.prototype.setGlobalMeterProvider=function(e){return Pr(bm,e,ft.instance())},r.prototype.getMeterProvider=function(){return xt(bm)||fN},r.prototype.getMeter=function(e,t,o){return this.getMeterProvider().getMeter(e,t,o)},r.prototype.disable=function(){Ir(bm,ft.instance())},r})()});var yi,_N=p(()=>{hN();yi=dN.getInstance()});var EN,mN=p(()=>{EN=(function(){function r(){}return r.prototype.inject=function(e,t){},r.prototype.extract=function(e,t){return e},r.prototype.fields=function(){return[]},r})()});function xm(r){return r.getValue(Lm)||void 0}function TN(){return xm(Cn.getInstance().active())}function SN(r,e){return r.setValue(Lm,e)}function gN(r){return r.deleteValue(Lm)}var Lm,vN=p(()=>{Ka();Ya();Lm=De("OpenTelemetry Baggage Key")});var Mm,MK,yN,ON=p(()=>{Ti();mN();gm();vN();_m();Si();Mm="propagation",MK=new EN,yN=(function(){function r(){this.createBaggage=VR,this.getBaggage=xm,this.getActiveBaggage=TN,this.setBaggage=SN,this.deleteBaggage=gN}return r.getInstance=function(){return this._instance||(this._instance=new r),this._instance},r.prototype.setGlobalPropagator=function(e){return Pr(Mm,e,ft.instance())},r.prototype.inject=function(e,t,o){return o===void 0&&(o=Bu),this._getGlobalPropagator().inject(e,t,o)},r.prototype.extract=function(e,t,o){return o===void 0&&(o=ku),this._getGlobalPropagator().extract(e,t,o)},r.prototype.fields=function(){return this._getGlobalPropagator().fields()},r.prototype.disable=function(){Ir(Mm,ft.instance())},r.prototype._getGlobalPropagator=function(){return xt(Mm)||MK},r})()});var Ue,AN=p(()=>{ON();Ue=yN.getInstance()});var wm,RN,NN=p(()=>{Ti();Pm();qu();Am();Si();wm="trace",RN=(function(){function r(){this._proxyTracerProvider=new Wa,this.wrapSpanContext=zR,this.isSpanContextValid=xe,this.deleteSpan=YR,this.getSpan=Gu,this.getActiveSpan=jR,this.getSpanContext=Hu,this.setSpan=Xa,this.setSpanContext=KR}return r.getInstance=function(){return this._instance||(this._instance=new r),this._instance},r.prototype.setGlobalTracerProvider=function(e){var t=Pr(wm,this._proxyTracerProvider,ft.instance());return t&&this._proxyTracerProvider.setDelegate(e),t},r.prototype.getTracerProvider=function(){return xt(wm)||this._proxyTracerProvider},r.prototype.getTracer=function(e,t){return this.getTracerProvider().getTracer(e,t)},r.prototype.disable=function(){Ir(wm,ft.instance()),this._proxyTracerProvider=new Wa},r})()});var ie,CN=p(()=>{NN();ie=RN.getInstance()});var ot={};Ae(ot,{DiagConsoleLogger:()=>wu,DiagLogLevel:()=>H,INVALID_SPANID:()=>za,INVALID_SPAN_CONTEXT:()=>Bo,INVALID_TRACEID:()=>$a,ProxyTracer:()=>Yu,ProxyTracerProvider:()=>Wa,ROOT_CONTEXT:()=>Mu,SamplingDecision:()=>ke,SpanKind:()=>qt,SpanStatusCode:()=>Lr,TraceFlags:()=>se,ValueType:()=>Ot,baggageEntryMetadataFromString:()=>br,context:()=>me,createContextKey:()=>De,createNoopMeter:()=>Uu,createTraceState:()=>aN,default:()=>wK,defaultTextMapGetter:()=>ku,defaultTextMapSetter:()=>Bu,diag:()=>S,isSpanContextValid:()=>xe,isValidSpanId:()=>vi,isValidTraceId:()=>Mt,metrics:()=>yi,propagation:()=>Ue,trace:()=>ie});var wK,P=p(()=>{_m();Ya();FR();xu();Sm();GR();gm();Cm();Pm();WR();JR();QR();ym();lN();qu();Vu();cN();uN();_N();AN();CN();wK={context:me,diag:S,metrics:yi,propagation:Ue,trace:ie}});function Be(r){for(var e={},t=r.length,o=0;o<t;o++){var s=r[o];s&&(e[String(s).toUpperCase().replace(/[-.]/g,"_")]=s)}return e}var Dm=p(()=>{});var PN,IN,bN,LN,xN,MN,wN,DN,UN,kN,BN,VN,FN,GN,HN,qN,jN,YN,KN,zN,$N,XN,WN,JN,QN,ZN,eC,tC,rC,nC,iC,oC,sC,aC,lC,cC,uC,fC,pC,dC,hC,_C,EC,mC,TC,SC,gC,vC,yC,OC,AC,RC,NC,CC,PC,IC,bC,LC,xC,MC,wC,DC,UC,kC,BC,VC,FC,GC,HC,qC,jC,YC,KC,zC,$C,XC,WC,JC,QC,ZC,eP,tP,rP,nP,iP,oP,sP,aP,lP,cP,uP,fP,pP,dP,hP,_P,EP,mP,TP,SP,gP,vP,yP,OP,AP,RP,NP,CP,PP,IP,bP,LP,xP,MP,wP,DP,UP,kP,BP,VP,FP,GP,HP,qP,jP,YP,KP,zP,DK,UK,kK,BK,VK,FK,GK,HK,qK,jK,YK,KK,zK,$K,XK,WK,JK,QK,ZK,ez,tz,Ja,Qa,Um,rz,nz,iz,oz,sz,az,lz,cz,uz,fz,pz,dz,hz,_z,Ez,mz,Tz,Sz,gz,vz,yz,Oz,Az,Rz,Nz,Cz,Pz,Iz,bz,Lz,xz,Mz,wz,Dz,Uz,kz,Bz,Vz,Fz,Gz,Hz,qz,jz,Yz,Kz,zz,$z,Xz,Wz,Jz,Qz,Zz,e$,t$,r$,n$,i$,o$,s$,a$,l$,c$,u$,f$,p$,d$,h$,_$,E$,m$,T$,S$,g$,v$,y$,O$,A$,R$,N$,C$,P$,I$,b$,L$,x$,M$,w$,D$,U$,k$,B$,V$,F$,G$,H$,q$,j$,Y$,K$,z$,$$,X$,W$,J$,Q$,$P,XP,WP,JP,QP,ZP,eI,tI,rI,nI,iI,oI,sI,aI,lI,cI,uI,fI,pI,dI,hI,_I,EI,mI,TI,SI,gI,vI,yI,OI,AI,RI,NI,CI,PI,II,bI,LI,xI,MI,wI,DI,UI,kI,BI,VI,FI,Z$,eX,tX,rX,nX,iX,oX,sX,aX,lX,cX,uX,fX,pX,dX,hX,_X,EX,mX,TX,SX,gX,vX,yX,OX,AX,RX,NX,CX,PX,IX,bX,LX,xX,MX,wX,DX,UX,kX,BX,VX,FX,GX,HX,qX,jX,YX,KX,GI,HI,qI,jI,YI,KI,zI,$I,XI,WI,JI,zX,$X,XX,WX,JX,QX,ZX,eW,tW,rW,nW,iW,QI,ZI,eb,tb,rb,oW,sW,aW,lW,cW,uW,nb,ib,ob,fW,pW,dW,hW,sb,ab,lb,cb,_W,EW,mW,TW,SW,ub,fb,pb,db,hb,_b,Eb,gW,vW,yW,OW,AW,RW,NW,CW,mb,Tb,Sb,gb,vb,PW,IW,bW,LW,xW,MW,yb,Ob,Ab,Rb,Nb,Cb,Pb,Ib,bb,Lb,xb,Mb,wb,Db,Ub,kb,Bb,Vb,Fb,Gb,Hb,wW,DW,UW,kW,BW,VW,FW,GW,HW,qW,jW,YW,KW,zW,$W,XW,WW,JW,QW,ZW,e8,t8,qb,jb,Yb,Kb,zb,r8,n8,i8,o8,s8,a8,$b,Xb,l8,c8,u8,Wb,Jb,f8,p8,d8,Qb,Zb,eL,tL,rL,nL,iL,oL,sL,aL,lL,cL,uL,fL,pL,dL,hL,h8,_8,E8,m8,T8,S8,g8,v8,y8,O8,A8,R8,N8,C8,P8,I8,b8,L8,_L,EL,x8,M8,w8,mL=p(()=>{Dm();PN="aws.lambda.invoked_arn",IN="db.system",bN="db.connection_string",LN="db.user",xN="db.jdbc.driver_classname",MN="db.name",wN="db.statement",DN="db.operation",UN="db.mssql.instance_name",kN="db.cassandra.keyspace",BN="db.cassandra.page_size",VN="db.cassandra.consistency_level",FN="db.cassandra.table",GN="db.cassandra.idempotence",HN="db.cassandra.speculative_execution_count",qN="db.cassandra.coordinator.id",jN="db.cassandra.coordinator.dc",YN="db.hbase.namespace",KN="db.redis.database_index",zN="db.mongodb.collection",$N="db.sql.table",XN="exception.type",WN="exception.message",JN="exception.stacktrace",QN="exception.escaped",ZN="faas.trigger",eC="faas.execution",tC="faas.document.collection",rC="faas.document.operation",nC="faas.document.time",iC="faas.document.name",oC="faas.time",sC="faas.cron",aC="faas.coldstart",lC="faas.invoked_name",cC="faas.invoked_provider",uC="faas.invoked_region",fC="net.transport",pC="net.peer.ip",dC="net.peer.port",hC="net.peer.name",_C="net.host.ip",EC="net.host.port",mC="net.host.name",TC="net.host.connection.type",SC="net.host.connection.subtype",gC="net.host.carrier.name",vC="net.host.carrier.mcc",yC="net.host.carrier.mnc",OC="net.host.carrier.icc",AC="peer.service",RC="enduser.id",NC="enduser.role",CC="enduser.scope",PC="thread.id",IC="thread.name",bC="code.function",LC="code.namespace",xC="code.filepath",MC="code.lineno",wC="http.method",DC="http.url",UC="http.target",kC="http.host",BC="http.scheme",VC="http.status_code",FC="http.flavor",GC="http.user_agent",HC="http.request_content_length",qC="http.request_content_length_uncompressed",jC="http.response_content_length",YC="http.response_content_length_uncompressed",KC="http.server_name",zC="http.route",$C="http.client_ip",XC="aws.dynamodb.table_names",WC="aws.dynamodb.consumed_capacity",JC="aws.dynamodb.item_collection_metrics",QC="aws.dynamodb.provisioned_read_capacity",ZC="aws.dynamodb.provisioned_write_capacity",eP="aws.dynamodb.consistent_read",tP="aws.dynamodb.projection",rP="aws.dynamodb.limit",nP="aws.dynamodb.attributes_to_get",iP="aws.dynamodb.index_name",oP="aws.dynamodb.select",sP="aws.dynamodb.global_secondary_indexes",aP="aws.dynamodb.local_secondary_indexes",lP="aws.dynamodb.exclusive_start_table",cP="aws.dynamodb.table_count",uP="aws.dynamodb.scan_forward",fP="aws.dynamodb.segment",pP="aws.dynamodb.total_segments",dP="aws.dynamodb.count",hP="aws.dynamodb.scanned_count",_P="aws.dynamodb.attribute_definitions",EP="aws.dynamodb.global_secondary_index_updates",mP="messaging.system",TP="messaging.destination",SP="messaging.destination_kind",gP="messaging.temp_destination",vP="messaging.protocol",yP="messaging.protocol_version",OP="messaging.url",AP="messaging.message_id",RP="messaging.conversation_id",NP="messaging.message_payload_size_bytes",CP="messaging.message_payload_compressed_size_bytes",PP="messaging.operation",IP="messaging.consumer_id",bP="messaging.rabbitmq.routing_key",LP="messaging.kafka.message_key",xP="messaging.kafka.consumer_group",MP="messaging.kafka.client_id",wP="messaging.kafka.partition",DP="messaging.kafka.tombstone",UP="rpc.system",kP="rpc.service",BP="rpc.method",VP="rpc.grpc.status_code",FP="rpc.jsonrpc.version",GP="rpc.jsonrpc.request_id",HP="rpc.jsonrpc.error_code",qP="rpc.jsonrpc.error_message",jP="message.type",YP="message.id",KP="message.compressed_size",zP="message.uncompressed_size",DK=PN,UK=IN,kK=bN,BK=LN,VK=xN,FK=MN,GK=wN,HK=DN,qK=UN,jK=kN,YK=BN,KK=VN,zK=FN,$K=GN,XK=HN,WK=qN,JK=jN,QK=YN,ZK=KN,ez=zN,tz=$N,Ja=XN,Qa=WN,Um=JN,rz=QN,nz=ZN,iz=eC,oz=tC,sz=rC,az=nC,lz=iC,cz=oC,uz=sC,fz=aC,pz=lC,dz=cC,hz=uC,_z=fC,Ez=pC,mz=dC,Tz=hC,Sz=_C,gz=EC,vz=mC,yz=TC,Oz=SC,Az=gC,Rz=vC,Nz=yC,Cz=OC,Pz=AC,Iz=RC,bz=NC,Lz=CC,xz=PC,Mz=IC,wz=bC,Dz=LC,Uz=xC,kz=MC,Bz=wC,Vz=DC,Fz=UC,Gz=kC,Hz=BC,qz=VC,jz=FC,Yz=GC,Kz=HC,zz=qC,$z=jC,Xz=YC,Wz=KC,Jz=zC,Qz=$C,Zz=XC,e$=WC,t$=JC,r$=QC,n$=ZC,i$=eP,o$=tP,s$=rP,a$=nP,l$=iP,c$=oP,u$=sP,f$=aP,p$=lP,d$=cP,h$=uP,_$=fP,E$=pP,m$=dP,T$=hP,S$=_P,g$=EP,v$=mP,y$=TP,O$=SP,A$=gP,R$=vP,N$=yP,C$=OP,P$=AP,I$=RP,b$=NP,L$=CP,x$=PP,M$=IP,w$=bP,D$=LP,U$=xP,k$=MP,B$=wP,V$=DP,F$=UP,G$=kP,H$=BP,q$=VP,j$=FP,Y$=GP,K$=HP,z$=qP,$$=jP,X$=YP,W$=KP,J$=zP,Q$=Be([PN,IN,bN,LN,xN,MN,wN,DN,UN,kN,BN,VN,FN,GN,HN,qN,jN,YN,KN,zN,$N,XN,WN,JN,QN,ZN,eC,tC,rC,nC,iC,oC,sC,aC,lC,cC,uC,fC,pC,dC,hC,_C,EC,mC,TC,SC,gC,vC,yC,OC,AC,RC,NC,CC,PC,IC,bC,LC,xC,MC,wC,DC,UC,kC,BC,VC,FC,GC,HC,qC,jC,YC,KC,zC,$C,XC,WC,JC,QC,ZC,eP,tP,rP,nP,iP,oP,sP,aP,lP,cP,uP,fP,pP,dP,hP,_P,EP,mP,TP,SP,gP,vP,yP,OP,AP,RP,NP,CP,PP,IP,bP,LP,xP,MP,wP,DP,UP,kP,BP,VP,FP,GP,HP,qP,jP,YP,KP,zP]),$P="other_sql",XP="mssql",WP="mysql",JP="oracle",QP="db2",ZP="postgresql",eI="redshift",tI="hive",rI="cloudscape",nI="hsqldb",iI="progress",oI="maxdb",sI="hanadb",aI="ingres",lI="firstsql",cI="edb",uI="cache",fI="adabas",pI="firebird",dI="derby",hI="filemaker",_I="informix",EI="instantdb",mI="interbase",TI="mariadb",SI="netezza",gI="pervasive",vI="pointbase",yI="sqlite",OI="sybase",AI="teradata",RI="vertica",NI="h2",CI="coldfusion",PI="cassandra",II="hbase",bI="mongodb",LI="redis",xI="couchbase",MI="couchdb",wI="cosmosdb",DI="dynamodb",UI="neo4j",kI="geode",BI="elasticsearch",VI="memcached",FI="cockroachdb",Z$=$P,eX=XP,tX=WP,rX=JP,nX=QP,iX=ZP,oX=eI,sX=tI,aX=rI,lX=nI,cX=iI,uX=oI,fX=sI,pX=aI,dX=lI,hX=cI,_X=uI,EX=fI,mX=pI,TX=dI,SX=hI,gX=_I,vX=EI,yX=mI,OX=TI,AX=SI,RX=gI,NX=vI,CX=yI,PX=OI,IX=AI,bX=RI,LX=NI,xX=CI,MX=PI,wX=II,DX=bI,UX=LI,kX=xI,BX=MI,VX=wI,FX=DI,GX=UI,HX=kI,qX=BI,jX=VI,YX=FI,KX=Be([$P,XP,WP,JP,QP,ZP,eI,tI,rI,nI,iI,oI,sI,aI,lI,cI,uI,fI,pI,dI,hI,_I,EI,mI,TI,SI,gI,vI,yI,OI,AI,RI,NI,CI,PI,II,bI,LI,xI,MI,wI,DI,UI,kI,BI,VI,FI]),GI="all",HI="each_quorum",qI="quorum",jI="local_quorum",YI="one",KI="two",zI="three",$I="local_one",XI="any",WI="serial",JI="local_serial",zX=GI,$X=HI,XX=qI,WX=jI,JX=YI,QX=KI,ZX=zI,eW=$I,tW=XI,rW=WI,nW=JI,iW=Be([GI,HI,qI,jI,YI,KI,zI,$I,XI,WI,JI]),QI="datasource",ZI="http",eb="pubsub",tb="timer",rb="other",oW=QI,sW=ZI,aW=eb,lW=tb,cW=rb,uW=Be([QI,ZI,eb,tb,rb]),nb="insert",ib="edit",ob="delete",fW=nb,pW=ib,dW=ob,hW=Be([nb,ib,ob]),sb="alibaba_cloud",ab="aws",lb="azure",cb="gcp",_W=sb,EW=ab,mW=lb,TW=cb,SW=Be([sb,ab,lb,cb]),ub="ip_tcp",fb="ip_udp",pb="ip",db="unix",hb="pipe",_b="inproc",Eb="other",gW=ub,vW=fb,yW=pb,OW=db,AW=hb,RW=_b,NW=Eb,CW=Be([ub,fb,pb,db,hb,_b,Eb]),mb="wifi",Tb="wired",Sb="cell",gb="unavailable",vb="unknown",PW=mb,IW=Tb,bW=Sb,LW=gb,xW=vb,MW=Be([mb,Tb,Sb,gb,vb]),yb="gprs",Ob="edge",Ab="umts",Rb="cdma",Nb="evdo_0",Cb="evdo_a",Pb="cdma2000_1xrtt",Ib="hsdpa",bb="hsupa",Lb="hspa",xb="iden",Mb="evdo_b",wb="lte",Db="ehrpd",Ub="hspap",kb="gsm",Bb="td_scdma",Vb="iwlan",Fb="nr",Gb="nrnsa",Hb="lte_ca",wW=yb,DW=Ob,UW=Ab,kW=Rb,BW=Nb,VW=Cb,FW=Pb,GW=Ib,HW=bb,qW=Lb,jW=xb,YW=Mb,KW=wb,zW=Db,$W=Ub,XW=kb,WW=Bb,JW=Vb,QW=Fb,ZW=Gb,e8=Hb,t8=Be([yb,Ob,Ab,Rb,Nb,Cb,Pb,Ib,bb,Lb,xb,Mb,wb,Db,Ub,kb,Bb,Vb,Fb,Gb,Hb]),qb="1.0",jb="1.1",Yb="2.0",Kb="SPDY",zb="QUIC",r8=qb,n8=jb,i8=Yb,o8=Kb,s8=zb,a8={HTTP_1_0:qb,HTTP_1_1:jb,HTTP_2_0:Yb,SPDY:Kb,QUIC:zb},$b="queue",Xb="topic",l8=$b,c8=Xb,u8=Be([$b,Xb]),Wb="receive",Jb="process",f8=Wb,p8=Jb,d8=Be([Wb,Jb]),Qb=0,Zb=1,eL=2,tL=3,rL=4,nL=5,iL=6,oL=7,sL=8,aL=9,lL=10,cL=11,uL=12,fL=13,pL=14,dL=15,hL=16,h8=Qb,_8=Zb,E8=eL,m8=tL,T8=rL,S8=nL,g8=iL,v8=oL,y8=sL,O8=aL,A8=lL,R8=cL,N8=uL,C8=fL,P8=pL,I8=dL,b8=hL,L8={OK:Qb,CANCELLED:Zb,UNKNOWN:eL,INVALID_ARGUMENT:tL,DEADLINE_EXCEEDED:rL,NOT_FOUND:nL,ALREADY_EXISTS:iL,PERMISSION_DENIED:oL,RESOURCE_EXHAUSTED:sL,FAILED_PRECONDITION:aL,ABORTED:lL,OUT_OF_RANGE:cL,UNIMPLEMENTED:uL,INTERNAL:fL,UNAVAILABLE:pL,DATA_LOSS:dL,UNAUTHENTICATED:hL},_L="SENT",EL="RECEIVED",x8=_L,M8=EL,w8=Be([_L,EL])});var TL=p(()=>{mL()});var SL,gL,vL,yL,OL,AL,RL,NL,CL,PL,IL,bL,LL,xL,ML,wL,DL,UL,kL,BL,VL,FL,GL,HL,qL,jL,YL,KL,zL,$L,XL,WL,JL,QL,ZL,e0,t0,r0,n0,i0,o0,s0,a0,l0,c0,u0,f0,p0,d0,h0,_0,E0,m0,T0,S0,g0,v0,y0,O0,A0,R0,N0,C0,P0,I0,b0,L0,x0,M0,w0,D0,U0,k0,B0,V0,F0,G0,H0,q0,j0,Y0,D8,U8,k8,B8,V8,F8,G8,H8,q8,j8,Y8,K8,z8,$8,X8,W8,J8,Q8,Z8,e5,t5,r5,n5,i5,o5,s5,a5,l5,c5,u5,km,Bm,f5,Vm,p5,d5,h5,_5,E5,m5,T5,S5,g5,v5,y5,O5,A5,R5,N5,C5,P5,I5,b5,L5,x5,M5,Fm,w5,D5,Gm,Hm,qm,jm,Ym,U5,Km,zm,st,Vo,Za,at,k5,$m,B5,Se,ge,ve,V5,F5,G5,H5,q5,K0,z0,$0,X0,j5,Y5,K5,z5,$5,W0,J0,Q0,Z0,ex,tx,rx,nx,ix,ox,sx,ax,lx,cx,ux,fx,px,X5,W5,J5,Q5,Z5,e7,t7,r7,n7,i7,o7,s7,a7,l7,c7,u7,f7,p7,dx,hx,d7,h7,_7,_x,Ex,mx,Tx,Sx,gx,vx,E7,m7,T7,S7,g7,v7,y7,O7,yx,Ox,Ax,Rx,Nx,Cx,Px,Ix,bx,Lx,xx,A7,R7,N7,C7,P7,I7,b7,L7,x7,M7,w7,D7,Mx,wx,Dx,Ux,kx,Bx,Vx,Fx,Gx,Hx,U7,k7,B7,V7,F7,wt,G7,H7,q7,j7,Y7,qx=p(()=>{Dm();SL="cloud.provider",gL="cloud.account.id",vL="cloud.region",yL="cloud.availability_zone",OL="cloud.platform",AL="aws.ecs.container.arn",RL="aws.ecs.cluster.arn",NL="aws.ecs.launchtype",CL="aws.ecs.task.arn",PL="aws.ecs.task.family",IL="aws.ecs.task.revision",bL="aws.eks.cluster.arn",LL="aws.log.group.names",xL="aws.log.group.arns",ML="aws.log.stream.names",wL="aws.log.stream.arns",DL="container.name",UL="container.id",kL="container.runtime",BL="container.image.name",VL="container.image.tag",FL="deployment.environment",GL="device.id",HL="device.model.identifier",qL="device.model.name",jL="faas.name",YL="faas.id",KL="faas.version",zL="faas.instance",$L="faas.max_memory",XL="host.id",WL="host.name",JL="host.type",QL="host.arch",ZL="host.image.name",e0="host.image.id",t0="host.image.version",r0="k8s.cluster.name",n0="k8s.node.name",i0="k8s.node.uid",o0="k8s.namespace.name",s0="k8s.pod.uid",a0="k8s.pod.name",l0="k8s.container.name",c0="k8s.replicaset.uid",u0="k8s.replicaset.name",f0="k8s.deployment.uid",p0="k8s.deployment.name",d0="k8s.statefulset.uid",h0="k8s.statefulset.name",_0="k8s.daemonset.uid",E0="k8s.daemonset.name",m0="k8s.job.uid",T0="k8s.job.name",S0="k8s.cronjob.uid",g0="k8s.cronjob.name",v0="os.type",y0="os.description",O0="os.name",A0="os.version",R0="process.pid",N0="process.executable.name",C0="process.executable.path",P0="process.command",I0="process.command_line",b0="process.command_args",L0="process.owner",x0="process.runtime.name",M0="process.runtime.version",w0="process.runtime.description",D0="service.name",U0="service.namespace",k0="service.instance.id",B0="service.version",V0="telemetry.sdk.name",F0="telemetry.sdk.language",G0="telemetry.sdk.version",H0="telemetry.auto.version",q0="webengine.name",j0="webengine.version",Y0="webengine.description",D8=SL,U8=gL,k8=vL,B8=yL,V8=OL,F8=AL,G8=RL,H8=NL,q8=CL,j8=PL,Y8=IL,K8=bL,z8=LL,$8=xL,X8=ML,W8=wL,J8=DL,Q8=UL,Z8=kL,e5=BL,t5=VL,r5=FL,n5=GL,i5=HL,o5=qL,s5=jL,a5=YL,l5=KL,c5=zL,u5=$L,km=XL,Bm=WL,f5=JL,Vm=QL,p5=ZL,d5=e0,h5=t0,_5=r0,E5=n0,m5=i0,T5=o0,S5=s0,g5=a0,v5=l0,y5=c0,O5=u0,A5=f0,R5=p0,N5=d0,C5=h0,P5=_0,I5=E0,b5=m0,L5=T0,x5=S0,M5=g0,Fm=v0,w5=y0,D5=O0,Gm=A0,Hm=R0,qm=N0,jm=C0,Ym=P0,U5=I0,Km=b0,zm=L0,st=x0,Vo=M0,Za=w0,at=D0,k5=U0,$m=k0,B5=B0,Se=V0,ge=F0,ve=G0,V5=H0,F5=q0,G5=j0,H5=Y0,q5=Be([SL,gL,vL,yL,OL,AL,RL,NL,CL,PL,IL,bL,LL,xL,ML,wL,DL,UL,kL,BL,VL,FL,GL,HL,qL,jL,YL,KL,zL,$L,XL,WL,JL,QL,ZL,e0,t0,r0,n0,i0,o0,s0,a0,l0,c0,u0,f0,p0,d0,h0,_0,E0,m0,T0,S0,g0,v0,y0,O0,A0,R0,N0,C0,P0,I0,b0,L0,x0,M0,w0,D0,U0,k0,B0,V0,F0,G0,H0,q0,j0,Y0]),K0="alibaba_cloud",z0="aws",$0="azure",X0="gcp",j5=K0,Y5=z0,K5=$0,z5=X0,$5=Be([K0,z0,$0,X0]),W0="alibaba_cloud_ecs",J0="alibaba_cloud_fc",Q0="aws_ec2",Z0="aws_ecs",ex="aws_eks",tx="aws_lambda",rx="aws_elastic_beanstalk",nx="azure_vm",ix="azure_container_instances",ox="azure_aks",sx="azure_functions",ax="azure_app_service",lx="gcp_compute_engine",cx="gcp_cloud_run",ux="gcp_kubernetes_engine",fx="gcp_cloud_functions",px="gcp_app_engine",X5=W0,W5=J0,J5=Q0,Q5=Z0,Z5=ex,e7=tx,t7=rx,r7=nx,n7=ix,i7=ox,o7=sx,s7=ax,a7=lx,l7=cx,c7=ux,u7=fx,f7=px,p7=Be([W0,J0,Q0,Z0,ex,tx,rx,nx,ix,ox,sx,ax,lx,cx,ux,fx,px]),dx="ec2",hx="fargate",d7=dx,h7=hx,_7=Be([dx,hx]),_x="amd64",Ex="arm32",mx="arm64",Tx="ia64",Sx="ppc32",gx="ppc64",vx="x86",E7=_x,m7=Ex,T7=mx,S7=Tx,g7=Sx,v7=gx,y7=vx,O7=Be([_x,Ex,mx,Tx,Sx,gx,vx]),yx="windows",Ox="linux",Ax="darwin",Rx="freebsd",Nx="netbsd",Cx="openbsd",Px="dragonflybsd",Ix="hpux",bx="aix",Lx="solaris",xx="z_os",A7=yx,R7=Ox,N7=Ax,C7=Rx,P7=Nx,I7=Cx,b7=Px,L7=Ix,x7=bx,M7=Lx,w7=xx,D7=Be([yx,Ox,Ax,Rx,Nx,Cx,Px,Ix,bx,Lx,xx]),Mx="cpp",wx="dotnet",Dx="erlang",Ux="go",kx="java",Bx="nodejs",Vx="php",Fx="python",Gx="ruby",Hx="webjs",U7=Mx,k7=wx,B7=Dx,V7=Ux,F7=kx,wt=Bx,G7=Vx,H7=Fx,q7=Gx,j7=Hx,Y7=Be([Mx,wx,Dx,Ux,kx,Bx,Vx,Fx,Gx,Hx])});var jx=p(()=>{qx()});var K7,z7,$7,X7,W7,J7,Q7,Z7,e9,t9,r9,n9,i9,o9,s9,a9,l9,c9,u9,f9,p9,d9,h9,_9,E9,m9,T9,S9,g9,v9,y9,O9,A9,R9,N9,C9,P9,I9,b9,L9,x9,M9,w9,D9,U9,k9,B9,V9,F9,G9,H9,q9,j9,Y9,K9,z9,$9,X9,W9,J9,Q9,Z9,eJ,tJ,rJ,nJ,iJ,oJ,sJ,aJ,lJ,cJ,uJ,fJ,pJ,dJ,hJ,_J,EJ,mJ,TJ,SJ,gJ,vJ,yJ,OJ,AJ,RJ,NJ,CJ,PJ,IJ,bJ,LJ,xJ,MJ,wJ,DJ,UJ,kJ,BJ,VJ,FJ,GJ,HJ,qJ,jJ,YJ,KJ,zJ,Yx=p(()=>{K7="aspnetcore.rate_limiting.result",z7="acquired",$7="endpoint_limiter",X7="global_limiter",W7="request_canceled",J7="telemetry.sdk.language",Q7="cpp",Z7="dotnet",e9="erlang",t9="go",r9="java",n9="nodejs",i9="php",o9="python",s9="ruby",a9="rust",l9="swift",c9="webjs",u9="telemetry.sdk.name",f9="telemetry.sdk.version",p9="aspnetcore.diagnostics.handler.type",d9="aspnetcore.diagnostics.exception.result",h9="aborted",_9="handled",E9="skipped",m9="unhandled",T9="aspnetcore.rate_limiting.policy",S9="aspnetcore.request.is_unhandled",g9="aspnetcore.routing.is_fallback",v9="aspnetcore.routing.match_status",y9="failure",O9="success",A9="client.address",R9="client.port",N9="error.type",C9="_OTHER",P9="exception.escaped",I9="exception.message",b9="exception.stacktrace",L9="exception.type",x9=function(r){return"http.request.header."+r},M9="http.request.method",w9="_OTHER",D9="CONNECT",U9="DELETE",k9="GET",B9="HEAD",V9="OPTIONS",F9="PATCH",G9="POST",H9="PUT",q9="TRACE",j9="http.request.method_original",Y9="http.request.resend_count",K9=function(r){return"http.response.header."+r},z9="http.response.status_code",$9="http.route",X9="jvm.gc.action",W9="jvm.gc.name",J9="jvm.memory.pool.name",Q9="jvm.memory.type",Z9="heap",eJ="non_heap",tJ="jvm.thread.daemon",rJ="jvm.thread.state",nJ="blocked",iJ="new",oJ="runnable",sJ="terminated",aJ="timed_waiting",lJ="waiting",cJ="network.local.address",uJ="network.local.port",fJ="network.peer.address",pJ="network.peer.port",dJ="network.protocol.name",hJ="network.protocol.version",_J="network.transport",EJ="pipe",mJ="quic",TJ="tcp",SJ="udp",gJ="unix",vJ="network.type",yJ="ipv4",OJ="ipv6",AJ="otel.scope.name",RJ="otel.scope.version",NJ="otel.status_code",CJ="ERROR",PJ="OK",IJ="otel.status_description",bJ="server.address",LJ="server.port",xJ="service.name",MJ="service.version",wJ="signalr.connection.status",DJ="app_shutdown",UJ="normal_closure",kJ="timeout",BJ="signalr.transport",VJ="long_polling",FJ="server_sent_events",GJ="web_sockets",HJ="url.fragment",qJ="url.full",jJ="url.path",YJ="url.query",KJ="url.scheme",zJ="user_agent.original"});var $J,XJ,WJ,JJ,QJ,ZJ,eQ,tQ,rQ,nQ,iQ,oQ,sQ,aQ,lQ,cQ,uQ,fQ,pQ,dQ,hQ,_Q,EQ,mQ,TQ,SQ,gQ,vQ,yQ,OQ,AQ,Kx=p(()=>{$J="aspnetcore.diagnostics.exceptions",XJ="aspnetcore.rate_limiting.active_request_leases",WJ="aspnetcore.rate_limiting.queued_requests",JJ="aspnetcore.rate_limiting.request.time_in_queue",QJ="aspnetcore.rate_limiting.request_lease.duration",ZJ="aspnetcore.rate_limiting.requests",eQ="aspnetcore.routing.match_attempts",tQ="http.client.request.duration",rQ="http.server.request.duration",nQ="jvm.class.count",iQ="jvm.class.loaded",oQ="jvm.class.unloaded",sQ="jvm.cpu.count",aQ="jvm.cpu.recent_utilization",lQ="jvm.cpu.time",cQ="jvm.gc.duration",uQ="jvm.memory.committed",fQ="jvm.memory.limit",pQ="jvm.memory.used",dQ="jvm.memory.used_after_last_gc",hQ="jvm.thread.count",_Q="kestrel.active_connections",EQ="kestrel.active_tls_handshakes",mQ="kestrel.connection.duration",TQ="kestrel.queued_connections",SQ="kestrel.queued_requests",gQ="kestrel.rejected_connections",vQ="kestrel.tls_handshake.duration",yQ="kestrel.upgraded_connections",OQ="signalr.server.active_connections",AQ="signalr.server.connection.duration"});var zx={};Ae(zx,{ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT_VALUE_ABORTED:()=>h9,ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT_VALUE_HANDLED:()=>_9,ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT_VALUE_SKIPPED:()=>E9,ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT_VALUE_UNHANDLED:()=>m9,ASPNETCORE_RATE_LIMITING_RESULT_VALUE_ACQUIRED:()=>z7,ASPNETCORE_RATE_LIMITING_RESULT_VALUE_ENDPOINT_LIMITER:()=>$7,ASPNETCORE_RATE_LIMITING_RESULT_VALUE_GLOBAL_LIMITER:()=>X7,ASPNETCORE_RATE_LIMITING_RESULT_VALUE_REQUEST_CANCELED:()=>W7,ASPNETCORE_ROUTING_MATCH_STATUS_VALUE_FAILURE:()=>y9,ASPNETCORE_ROUTING_MATCH_STATUS_VALUE_SUCCESS:()=>O9,ATTR_ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT:()=>d9,ATTR_ASPNETCORE_DIAGNOSTICS_HANDLER_TYPE:()=>p9,ATTR_ASPNETCORE_RATE_LIMITING_POLICY:()=>T9,ATTR_ASPNETCORE_RATE_LIMITING_RESULT:()=>K7,ATTR_ASPNETCORE_REQUEST_IS_UNHANDLED:()=>S9,ATTR_ASPNETCORE_ROUTING_IS_FALLBACK:()=>g9,ATTR_ASPNETCORE_ROUTING_MATCH_STATUS:()=>v9,ATTR_CLIENT_ADDRESS:()=>A9,ATTR_CLIENT_PORT:()=>R9,ATTR_ERROR_TYPE:()=>N9,ATTR_EXCEPTION_ESCAPED:()=>P9,ATTR_EXCEPTION_MESSAGE:()=>I9,ATTR_EXCEPTION_STACKTRACE:()=>b9,ATTR_EXCEPTION_TYPE:()=>L9,ATTR_HTTP_REQUEST_HEADER:()=>x9,ATTR_HTTP_REQUEST_METHOD:()=>M9,ATTR_HTTP_REQUEST_METHOD_ORIGINAL:()=>j9,ATTR_HTTP_REQUEST_RESEND_COUNT:()=>Y9,ATTR_HTTP_RESPONSE_HEADER:()=>K9,ATTR_HTTP_RESPONSE_STATUS_CODE:()=>z9,ATTR_HTTP_ROUTE:()=>$9,ATTR_JVM_GC_ACTION:()=>X9,ATTR_JVM_GC_NAME:()=>W9,ATTR_JVM_MEMORY_POOL_NAME:()=>J9,ATTR_JVM_MEMORY_TYPE:()=>Q9,ATTR_JVM_THREAD_DAEMON:()=>tJ,ATTR_JVM_THREAD_STATE:()=>rJ,ATTR_NETWORK_LOCAL_ADDRESS:()=>cJ,ATTR_NETWORK_LOCAL_PORT:()=>uJ,ATTR_NETWORK_PEER_ADDRESS:()=>fJ,ATTR_NETWORK_PEER_PORT:()=>pJ,ATTR_NETWORK_PROTOCOL_NAME:()=>dJ,ATTR_NETWORK_PROTOCOL_VERSION:()=>hJ,ATTR_NETWORK_TRANSPORT:()=>_J,ATTR_NETWORK_TYPE:()=>vJ,ATTR_OTEL_SCOPE_NAME:()=>AJ,ATTR_OTEL_SCOPE_VERSION:()=>RJ,ATTR_OTEL_STATUS_CODE:()=>NJ,ATTR_OTEL_STATUS_DESCRIPTION:()=>IJ,ATTR_SERVER_ADDRESS:()=>bJ,ATTR_SERVER_PORT:()=>LJ,ATTR_SERVICE_NAME:()=>xJ,ATTR_SERVICE_VERSION:()=>MJ,ATTR_SIGNALR_CONNECTION_STATUS:()=>wJ,ATTR_SIGNALR_TRANSPORT:()=>BJ,ATTR_TELEMETRY_SDK_LANGUAGE:()=>J7,ATTR_TELEMETRY_SDK_NAME:()=>u9,ATTR_TELEMETRY_SDK_VERSION:()=>f9,ATTR_URL_FRAGMENT:()=>HJ,ATTR_URL_FULL:()=>qJ,ATTR_URL_PATH:()=>jJ,ATTR_URL_QUERY:()=>YJ,ATTR_URL_SCHEME:()=>KJ,ATTR_USER_AGENT_ORIGINAL:()=>zJ,AWSECSLAUNCHTYPEVALUES_EC2:()=>d7,AWSECSLAUNCHTYPEVALUES_FARGATE:()=>h7,AwsEcsLaunchtypeValues:()=>_7,CLOUDPLATFORMVALUES_ALIBABA_CLOUD_ECS:()=>X5,CLOUDPLATFORMVALUES_ALIBABA_CLOUD_FC:()=>W5,CLOUDPLATFORMVALUES_AWS_EC2:()=>J5,CLOUDPLATFORMVALUES_AWS_ECS:()=>Q5,CLOUDPLATFORMVALUES_AWS_EKS:()=>Z5,CLOUDPLATFORMVALUES_AWS_ELASTIC_BEANSTALK:()=>t7,CLOUDPLATFORMVALUES_AWS_LAMBDA:()=>e7,CLOUDPLATFORMVALUES_AZURE_AKS:()=>i7,CLOUDPLATFORMVALUES_AZURE_APP_SERVICE:()=>s7,CLOUDPLATFORMVALUES_AZURE_CONTAINER_INSTANCES:()=>n7,CLOUDPLATFORMVALUES_AZURE_FUNCTIONS:()=>o7,CLOUDPLATFORMVALUES_AZURE_VM:()=>r7,CLOUDPLATFORMVALUES_GCP_APP_ENGINE:()=>f7,CLOUDPLATFORMVALUES_GCP_CLOUD_FUNCTIONS:()=>u7,CLOUDPLATFORMVALUES_GCP_CLOUD_RUN:()=>l7,CLOUDPLATFORMVALUES_GCP_COMPUTE_ENGINE:()=>a7,CLOUDPLATFORMVALUES_GCP_KUBERNETES_ENGINE:()=>c7,CLOUDPROVIDERVALUES_ALIBABA_CLOUD:()=>j5,CLOUDPROVIDERVALUES_AWS:()=>Y5,CLOUDPROVIDERVALUES_AZURE:()=>K5,CLOUDPROVIDERVALUES_GCP:()=>z5,CloudPlatformValues:()=>p7,CloudProviderValues:()=>$5,DBCASSANDRACONSISTENCYLEVELVALUES_ALL:()=>zX,DBCASSANDRACONSISTENCYLEVELVALUES_ANY:()=>tW,DBCASSANDRACONSISTENCYLEVELVALUES_EACH_QUORUM:()=>$X,DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_ONE:()=>eW,DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_QUORUM:()=>WX,DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_SERIAL:()=>nW,DBCASSANDRACONSISTENCYLEVELVALUES_ONE:()=>JX,DBCASSANDRACONSISTENCYLEVELVALUES_QUORUM:()=>XX,DBCASSANDRACONSISTENCYLEVELVALUES_SERIAL:()=>rW,DBCASSANDRACONSISTENCYLEVELVALUES_THREE:()=>ZX,DBCASSANDRACONSISTENCYLEVELVALUES_TWO:()=>QX,DBSYSTEMVALUES_ADABAS:()=>EX,DBSYSTEMVALUES_CACHE:()=>_X,DBSYSTEMVALUES_CASSANDRA:()=>MX,DBSYSTEMVALUES_CLOUDSCAPE:()=>aX,DBSYSTEMVALUES_COCKROACHDB:()=>YX,DBSYSTEMVALUES_COLDFUSION:()=>xX,DBSYSTEMVALUES_COSMOSDB:()=>VX,DBSYSTEMVALUES_COUCHBASE:()=>kX,DBSYSTEMVALUES_COUCHDB:()=>BX,DBSYSTEMVALUES_DB2:()=>nX,DBSYSTEMVALUES_DERBY:()=>TX,DBSYSTEMVALUES_DYNAMODB:()=>FX,DBSYSTEMVALUES_EDB:()=>hX,DBSYSTEMVALUES_ELASTICSEARCH:()=>qX,DBSYSTEMVALUES_FILEMAKER:()=>SX,DBSYSTEMVALUES_FIREBIRD:()=>mX,DBSYSTEMVALUES_FIRSTSQL:()=>dX,DBSYSTEMVALUES_GEODE:()=>HX,DBSYSTEMVALUES_H2:()=>LX,DBSYSTEMVALUES_HANADB:()=>fX,DBSYSTEMVALUES_HBASE:()=>wX,DBSYSTEMVALUES_HIVE:()=>sX,DBSYSTEMVALUES_HSQLDB:()=>lX,DBSYSTEMVALUES_INFORMIX:()=>gX,DBSYSTEMVALUES_INGRES:()=>pX,DBSYSTEMVALUES_INSTANTDB:()=>vX,DBSYSTEMVALUES_INTERBASE:()=>yX,DBSYSTEMVALUES_MARIADB:()=>OX,DBSYSTEMVALUES_MAXDB:()=>uX,DBSYSTEMVALUES_MEMCACHED:()=>jX,DBSYSTEMVALUES_MONGODB:()=>DX,DBSYSTEMVALUES_MSSQL:()=>eX,DBSYSTEMVALUES_MYSQL:()=>tX,DBSYSTEMVALUES_NEO4J:()=>GX,DBSYSTEMVALUES_NETEZZA:()=>AX,DBSYSTEMVALUES_ORACLE:()=>rX,DBSYSTEMVALUES_OTHER_SQL:()=>Z$,DBSYSTEMVALUES_PERVASIVE:()=>RX,DBSYSTEMVALUES_POINTBASE:()=>NX,DBSYSTEMVALUES_POSTGRESQL:()=>iX,DBSYSTEMVALUES_PROGRESS:()=>cX,DBSYSTEMVALUES_REDIS:()=>UX,DBSYSTEMVALUES_REDSHIFT:()=>oX,DBSYSTEMVALUES_SQLITE:()=>CX,DBSYSTEMVALUES_SYBASE:()=>PX,DBSYSTEMVALUES_TERADATA:()=>IX,DBSYSTEMVALUES_VERTICA:()=>bX,DbCassandraConsistencyLevelValues:()=>iW,DbSystemValues:()=>KX,ERROR_TYPE_VALUE_OTHER:()=>C9,FAASDOCUMENTOPERATIONVALUES_DELETE:()=>dW,FAASDOCUMENTOPERATIONVALUES_EDIT:()=>pW,FAASDOCUMENTOPERATIONVALUES_INSERT:()=>fW,FAASINVOKEDPROVIDERVALUES_ALIBABA_CLOUD:()=>_W,FAASINVOKEDPROVIDERVALUES_AWS:()=>EW,FAASINVOKEDPROVIDERVALUES_AZURE:()=>mW,FAASINVOKEDPROVIDERVALUES_GCP:()=>TW,FAASTRIGGERVALUES_DATASOURCE:()=>oW,FAASTRIGGERVALUES_HTTP:()=>sW,FAASTRIGGERVALUES_OTHER:()=>cW,FAASTRIGGERVALUES_PUBSUB:()=>aW,FAASTRIGGERVALUES_TIMER:()=>lW,FaasDocumentOperationValues:()=>hW,FaasInvokedProviderValues:()=>SW,FaasTriggerValues:()=>uW,HOSTARCHVALUES_AMD64:()=>E7,HOSTARCHVALUES_ARM32:()=>m7,HOSTARCHVALUES_ARM64:()=>T7,HOSTARCHVALUES_IA64:()=>S7,HOSTARCHVALUES_PPC32:()=>g7,HOSTARCHVALUES_PPC64:()=>v7,HOSTARCHVALUES_X86:()=>y7,HTTPFLAVORVALUES_HTTP_1_0:()=>r8,HTTPFLAVORVALUES_HTTP_1_1:()=>n8,HTTPFLAVORVALUES_HTTP_2_0:()=>i8,HTTPFLAVORVALUES_QUIC:()=>s8,HTTPFLAVORVALUES_SPDY:()=>o8,HTTP_REQUEST_METHOD_VALUE_CONNECT:()=>D9,HTTP_REQUEST_METHOD_VALUE_DELETE:()=>U9,HTTP_REQUEST_METHOD_VALUE_GET:()=>k9,HTTP_REQUEST_METHOD_VALUE_HEAD:()=>B9,HTTP_REQUEST_METHOD_VALUE_OPTIONS:()=>V9,HTTP_REQUEST_METHOD_VALUE_OTHER:()=>w9,HTTP_REQUEST_METHOD_VALUE_PATCH:()=>F9,HTTP_REQUEST_METHOD_VALUE_POST:()=>G9,HTTP_REQUEST_METHOD_VALUE_PUT:()=>H9,HTTP_REQUEST_METHOD_VALUE_TRACE:()=>q9,HostArchValues:()=>O7,HttpFlavorValues:()=>a8,JVM_MEMORY_TYPE_VALUE_HEAP:()=>Z9,JVM_MEMORY_TYPE_VALUE_NON_HEAP:()=>eJ,JVM_THREAD_STATE_VALUE_BLOCKED:()=>nJ,JVM_THREAD_STATE_VALUE_NEW:()=>iJ,JVM_THREAD_STATE_VALUE_RUNNABLE:()=>oJ,JVM_THREAD_STATE_VALUE_TERMINATED:()=>sJ,JVM_THREAD_STATE_VALUE_TIMED_WAITING:()=>aJ,JVM_THREAD_STATE_VALUE_WAITING:()=>lJ,MESSAGETYPEVALUES_RECEIVED:()=>M8,MESSAGETYPEVALUES_SENT:()=>x8,MESSAGINGDESTINATIONKINDVALUES_QUEUE:()=>l8,MESSAGINGDESTINATIONKINDVALUES_TOPIC:()=>c8,MESSAGINGOPERATIONVALUES_PROCESS:()=>p8,MESSAGINGOPERATIONVALUES_RECEIVE:()=>f8,METRIC_ASPNETCORE_DIAGNOSTICS_EXCEPTIONS:()=>$J,METRIC_ASPNETCORE_RATE_LIMITING_ACTIVE_REQUEST_LEASES:()=>XJ,METRIC_ASPNETCORE_RATE_LIMITING_QUEUED_REQUESTS:()=>WJ,METRIC_ASPNETCORE_RATE_LIMITING_REQUESTS:()=>ZJ,METRIC_ASPNETCORE_RATE_LIMITING_REQUEST_LEASE_DURATION:()=>QJ,METRIC_ASPNETCORE_RATE_LIMITING_REQUEST_TIME_IN_QUEUE:()=>JJ,METRIC_ASPNETCORE_ROUTING_MATCH_ATTEMPTS:()=>eQ,METRIC_HTTP_CLIENT_REQUEST_DURATION:()=>tQ,METRIC_HTTP_SERVER_REQUEST_DURATION:()=>rQ,METRIC_JVM_CLASS_COUNT:()=>nQ,METRIC_JVM_CLASS_LOADED:()=>iQ,METRIC_JVM_CLASS_UNLOADED:()=>oQ,METRIC_JVM_CPU_COUNT:()=>sQ,METRIC_JVM_CPU_RECENT_UTILIZATION:()=>aQ,METRIC_JVM_CPU_TIME:()=>lQ,METRIC_JVM_GC_DURATION:()=>cQ,METRIC_JVM_MEMORY_COMMITTED:()=>uQ,METRIC_JVM_MEMORY_LIMIT:()=>fQ,METRIC_JVM_MEMORY_USED:()=>pQ,METRIC_JVM_MEMORY_USED_AFTER_LAST_GC:()=>dQ,METRIC_JVM_THREAD_COUNT:()=>hQ,METRIC_KESTREL_ACTIVE_CONNECTIONS:()=>_Q,METRIC_KESTREL_ACTIVE_TLS_HANDSHAKES:()=>EQ,METRIC_KESTREL_CONNECTION_DURATION:()=>mQ,METRIC_KESTREL_QUEUED_CONNECTIONS:()=>TQ,METRIC_KESTREL_QUEUED_REQUESTS:()=>SQ,METRIC_KESTREL_REJECTED_CONNECTIONS:()=>gQ,METRIC_KESTREL_TLS_HANDSHAKE_DURATION:()=>vQ,METRIC_KESTREL_UPGRADED_CONNECTIONS:()=>yQ,METRIC_SIGNALR_SERVER_ACTIVE_CONNECTIONS:()=>OQ,METRIC_SIGNALR_SERVER_CONNECTION_DURATION:()=>AQ,MessageTypeValues:()=>w8,MessagingDestinationKindValues:()=>u8,MessagingOperationValues:()=>d8,NETHOSTCONNECTIONSUBTYPEVALUES_CDMA:()=>kW,NETHOSTCONNECTIONSUBTYPEVALUES_CDMA2000_1XRTT:()=>FW,NETHOSTCONNECTIONSUBTYPEVALUES_EDGE:()=>DW,NETHOSTCONNECTIONSUBTYPEVALUES_EHRPD:()=>zW,NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_0:()=>BW,NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_A:()=>VW,NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_B:()=>YW,NETHOSTCONNECTIONSUBTYPEVALUES_GPRS:()=>wW,NETHOSTCONNECTIONSUBTYPEVALUES_GSM:()=>XW,NETHOSTCONNECTIONSUBTYPEVALUES_HSDPA:()=>GW,NETHOSTCONNECTIONSUBTYPEVALUES_HSPA:()=>qW,NETHOSTCONNECTIONSUBTYPEVALUES_HSPAP:()=>$W,NETHOSTCONNECTIONSUBTYPEVALUES_HSUPA:()=>HW,NETHOSTCONNECTIONSUBTYPEVALUES_IDEN:()=>jW,NETHOSTCONNECTIONSUBTYPEVALUES_IWLAN:()=>JW,NETHOSTCONNECTIONSUBTYPEVALUES_LTE:()=>KW,NETHOSTCONNECTIONSUBTYPEVALUES_LTE_CA:()=>e8,NETHOSTCONNECTIONSUBTYPEVALUES_NR:()=>QW,NETHOSTCONNECTIONSUBTYPEVALUES_NRNSA:()=>ZW,NETHOSTCONNECTIONSUBTYPEVALUES_TD_SCDMA:()=>WW,NETHOSTCONNECTIONSUBTYPEVALUES_UMTS:()=>UW,NETHOSTCONNECTIONTYPEVALUES_CELL:()=>bW,NETHOSTCONNECTIONTYPEVALUES_UNAVAILABLE:()=>LW,NETHOSTCONNECTIONTYPEVALUES_UNKNOWN:()=>xW,NETHOSTCONNECTIONTYPEVALUES_WIFI:()=>PW,NETHOSTCONNECTIONTYPEVALUES_WIRED:()=>IW,NETTRANSPORTVALUES_INPROC:()=>RW,NETTRANSPORTVALUES_IP:()=>yW,NETTRANSPORTVALUES_IP_TCP:()=>gW,NETTRANSPORTVALUES_IP_UDP:()=>vW,NETTRANSPORTVALUES_OTHER:()=>NW,NETTRANSPORTVALUES_PIPE:()=>AW,NETTRANSPORTVALUES_UNIX:()=>OW,NETWORK_TRANSPORT_VALUE_PIPE:()=>EJ,NETWORK_TRANSPORT_VALUE_QUIC:()=>mJ,NETWORK_TRANSPORT_VALUE_TCP:()=>TJ,NETWORK_TRANSPORT_VALUE_UDP:()=>SJ,NETWORK_TRANSPORT_VALUE_UNIX:()=>gJ,NETWORK_TYPE_VALUE_IPV4:()=>yJ,NETWORK_TYPE_VALUE_IPV6:()=>OJ,NetHostConnectionSubtypeValues:()=>t8,NetHostConnectionTypeValues:()=>MW,NetTransportValues:()=>CW,OSTYPEVALUES_AIX:()=>x7,OSTYPEVALUES_DARWIN:()=>N7,OSTYPEVALUES_DRAGONFLYBSD:()=>b7,OSTYPEVALUES_FREEBSD:()=>C7,OSTYPEVALUES_HPUX:()=>L7,OSTYPEVALUES_LINUX:()=>R7,OSTYPEVALUES_NETBSD:()=>P7,OSTYPEVALUES_OPENBSD:()=>I7,OSTYPEVALUES_SOLARIS:()=>M7,OSTYPEVALUES_WINDOWS:()=>A7,OSTYPEVALUES_Z_OS:()=>w7,OTEL_STATUS_CODE_VALUE_ERROR:()=>CJ,OTEL_STATUS_CODE_VALUE_OK:()=>PJ,OsTypeValues:()=>D7,RPCGRPCSTATUSCODEVALUES_ABORTED:()=>A8,RPCGRPCSTATUSCODEVALUES_ALREADY_EXISTS:()=>g8,RPCGRPCSTATUSCODEVALUES_CANCELLED:()=>_8,RPCGRPCSTATUSCODEVALUES_DATA_LOSS:()=>I8,RPCGRPCSTATUSCODEVALUES_DEADLINE_EXCEEDED:()=>T8,RPCGRPCSTATUSCODEVALUES_FAILED_PRECONDITION:()=>O8,RPCGRPCSTATUSCODEVALUES_INTERNAL:()=>C8,RPCGRPCSTATUSCODEVALUES_INVALID_ARGUMENT:()=>m8,RPCGRPCSTATUSCODEVALUES_NOT_FOUND:()=>S8,RPCGRPCSTATUSCODEVALUES_OK:()=>h8,RPCGRPCSTATUSCODEVALUES_OUT_OF_RANGE:()=>R8,RPCGRPCSTATUSCODEVALUES_PERMISSION_DENIED:()=>v8,RPCGRPCSTATUSCODEVALUES_RESOURCE_EXHAUSTED:()=>y8,RPCGRPCSTATUSCODEVALUES_UNAUTHENTICATED:()=>b8,RPCGRPCSTATUSCODEVALUES_UNAVAILABLE:()=>P8,RPCGRPCSTATUSCODEVALUES_UNIMPLEMENTED:()=>N8,RPCGRPCSTATUSCODEVALUES_UNKNOWN:()=>E8,RpcGrpcStatusCodeValues:()=>L8,SEMATTRS_AWS_DYNAMODB_ATTRIBUTES_TO_GET:()=>a$,SEMATTRS_AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS:()=>S$,SEMATTRS_AWS_DYNAMODB_CONSISTENT_READ:()=>i$,SEMATTRS_AWS_DYNAMODB_CONSUMED_CAPACITY:()=>e$,SEMATTRS_AWS_DYNAMODB_COUNT:()=>m$,SEMATTRS_AWS_DYNAMODB_EXCLUSIVE_START_TABLE:()=>p$,SEMATTRS_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES:()=>u$,SEMATTRS_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES:()=>g$,SEMATTRS_AWS_DYNAMODB_INDEX_NAME:()=>l$,SEMATTRS_AWS_DYNAMODB_ITEM_COLLECTION_METRICS:()=>t$,SEMATTRS_AWS_DYNAMODB_LIMIT:()=>s$,SEMATTRS_AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES:()=>f$,SEMATTRS_AWS_DYNAMODB_PROJECTION:()=>o$,SEMATTRS_AWS_DYNAMODB_PROVISIONED_READ_CAPACITY:()=>r$,SEMATTRS_AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY:()=>n$,SEMATTRS_AWS_DYNAMODB_SCANNED_COUNT:()=>T$,SEMATTRS_AWS_DYNAMODB_SCAN_FORWARD:()=>h$,SEMATTRS_AWS_DYNAMODB_SEGMENT:()=>_$,SEMATTRS_AWS_DYNAMODB_SELECT:()=>c$,SEMATTRS_AWS_DYNAMODB_TABLE_COUNT:()=>d$,SEMATTRS_AWS_DYNAMODB_TABLE_NAMES:()=>Zz,SEMATTRS_AWS_DYNAMODB_TOTAL_SEGMENTS:()=>E$,SEMATTRS_AWS_LAMBDA_INVOKED_ARN:()=>DK,SEMATTRS_CODE_FILEPATH:()=>Uz,SEMATTRS_CODE_FUNCTION:()=>wz,SEMATTRS_CODE_LINENO:()=>kz,SEMATTRS_CODE_NAMESPACE:()=>Dz,SEMATTRS_DB_CASSANDRA_CONSISTENCY_LEVEL:()=>KK,SEMATTRS_DB_CASSANDRA_COORDINATOR_DC:()=>JK,SEMATTRS_DB_CASSANDRA_COORDINATOR_ID:()=>WK,SEMATTRS_DB_CASSANDRA_IDEMPOTENCE:()=>$K,SEMATTRS_DB_CASSANDRA_KEYSPACE:()=>jK,SEMATTRS_DB_CASSANDRA_PAGE_SIZE:()=>YK,SEMATTRS_DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT:()=>XK,SEMATTRS_DB_CASSANDRA_TABLE:()=>zK,SEMATTRS_DB_CONNECTION_STRING:()=>kK,SEMATTRS_DB_HBASE_NAMESPACE:()=>QK,SEMATTRS_DB_JDBC_DRIVER_CLASSNAME:()=>VK,SEMATTRS_DB_MONGODB_COLLECTION:()=>ez,SEMATTRS_DB_MSSQL_INSTANCE_NAME:()=>qK,SEMATTRS_DB_NAME:()=>FK,SEMATTRS_DB_OPERATION:()=>HK,SEMATTRS_DB_REDIS_DATABASE_INDEX:()=>ZK,SEMATTRS_DB_SQL_TABLE:()=>tz,SEMATTRS_DB_STATEMENT:()=>GK,SEMATTRS_DB_SYSTEM:()=>UK,SEMATTRS_DB_USER:()=>BK,SEMATTRS_ENDUSER_ID:()=>Iz,SEMATTRS_ENDUSER_ROLE:()=>bz,SEMATTRS_ENDUSER_SCOPE:()=>Lz,SEMATTRS_EXCEPTION_ESCAPED:()=>rz,SEMATTRS_EXCEPTION_MESSAGE:()=>Qa,SEMATTRS_EXCEPTION_STACKTRACE:()=>Um,SEMATTRS_EXCEPTION_TYPE:()=>Ja,SEMATTRS_FAAS_COLDSTART:()=>fz,SEMATTRS_FAAS_CRON:()=>uz,SEMATTRS_FAAS_DOCUMENT_COLLECTION:()=>oz,SEMATTRS_FAAS_DOCUMENT_NAME:()=>lz,SEMATTRS_FAAS_DOCUMENT_OPERATION:()=>sz,SEMATTRS_FAAS_DOCUMENT_TIME:()=>az,SEMATTRS_FAAS_EXECUTION:()=>iz,SEMATTRS_FAAS_INVOKED_NAME:()=>pz,SEMATTRS_FAAS_INVOKED_PROVIDER:()=>dz,SEMATTRS_FAAS_INVOKED_REGION:()=>hz,SEMATTRS_FAAS_TIME:()=>cz,SEMATTRS_FAAS_TRIGGER:()=>nz,SEMATTRS_HTTP_CLIENT_IP:()=>Qz,SEMATTRS_HTTP_FLAVOR:()=>jz,SEMATTRS_HTTP_HOST:()=>Gz,SEMATTRS_HTTP_METHOD:()=>Bz,SEMATTRS_HTTP_REQUEST_CONTENT_LENGTH:()=>Kz,SEMATTRS_HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED:()=>zz,SEMATTRS_HTTP_RESPONSE_CONTENT_LENGTH:()=>$z,SEMATTRS_HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED:()=>Xz,SEMATTRS_HTTP_ROUTE:()=>Jz,SEMATTRS_HTTP_SCHEME:()=>Hz,SEMATTRS_HTTP_SERVER_NAME:()=>Wz,SEMATTRS_HTTP_STATUS_CODE:()=>qz,SEMATTRS_HTTP_TARGET:()=>Fz,SEMATTRS_HTTP_URL:()=>Vz,SEMATTRS_HTTP_USER_AGENT:()=>Yz,SEMATTRS_MESSAGE_COMPRESSED_SIZE:()=>W$,SEMATTRS_MESSAGE_ID:()=>X$,SEMATTRS_MESSAGE_TYPE:()=>$$,SEMATTRS_MESSAGE_UNCOMPRESSED_SIZE:()=>J$,SEMATTRS_MESSAGING_CONSUMER_ID:()=>M$,SEMATTRS_MESSAGING_CONVERSATION_ID:()=>I$,SEMATTRS_MESSAGING_DESTINATION:()=>y$,SEMATTRS_MESSAGING_DESTINATION_KIND:()=>O$,SEMATTRS_MESSAGING_KAFKA_CLIENT_ID:()=>k$,SEMATTRS_MESSAGING_KAFKA_CONSUMER_GROUP:()=>U$,SEMATTRS_MESSAGING_KAFKA_MESSAGE_KEY:()=>D$,SEMATTRS_MESSAGING_KAFKA_PARTITION:()=>B$,SEMATTRS_MESSAGING_KAFKA_TOMBSTONE:()=>V$,SEMATTRS_MESSAGING_MESSAGE_ID:()=>P$,SEMATTRS_MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES:()=>L$,SEMATTRS_MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES:()=>b$,SEMATTRS_MESSAGING_OPERATION:()=>x$,SEMATTRS_MESSAGING_PROTOCOL:()=>R$,SEMATTRS_MESSAGING_PROTOCOL_VERSION:()=>N$,SEMATTRS_MESSAGING_RABBITMQ_ROUTING_KEY:()=>w$,SEMATTRS_MESSAGING_SYSTEM:()=>v$,SEMATTRS_MESSAGING_TEMP_DESTINATION:()=>A$,SEMATTRS_MESSAGING_URL:()=>C$,SEMATTRS_NET_HOST_CARRIER_ICC:()=>Cz,SEMATTRS_NET_HOST_CARRIER_MCC:()=>Rz,SEMATTRS_NET_HOST_CARRIER_MNC:()=>Nz,SEMATTRS_NET_HOST_CARRIER_NAME:()=>Az,SEMATTRS_NET_HOST_CONNECTION_SUBTYPE:()=>Oz,SEMATTRS_NET_HOST_CONNECTION_TYPE:()=>yz,SEMATTRS_NET_HOST_IP:()=>Sz,SEMATTRS_NET_HOST_NAME:()=>vz,SEMATTRS_NET_HOST_PORT:()=>gz,SEMATTRS_NET_PEER_IP:()=>Ez,SEMATTRS_NET_PEER_NAME:()=>Tz,SEMATTRS_NET_PEER_PORT:()=>mz,SEMATTRS_NET_TRANSPORT:()=>_z,SEMATTRS_PEER_SERVICE:()=>Pz,SEMATTRS_RPC_GRPC_STATUS_CODE:()=>q$,SEMATTRS_RPC_JSONRPC_ERROR_CODE:()=>K$,SEMATTRS_RPC_JSONRPC_ERROR_MESSAGE:()=>z$,SEMATTRS_RPC_JSONRPC_REQUEST_ID:()=>Y$,SEMATTRS_RPC_JSONRPC_VERSION:()=>j$,SEMATTRS_RPC_METHOD:()=>H$,SEMATTRS_RPC_SERVICE:()=>G$,SEMATTRS_RPC_SYSTEM:()=>F$,SEMATTRS_THREAD_ID:()=>xz,SEMATTRS_THREAD_NAME:()=>Mz,SEMRESATTRS_AWS_ECS_CLUSTER_ARN:()=>G8,SEMRESATTRS_AWS_ECS_CONTAINER_ARN:()=>F8,SEMRESATTRS_AWS_ECS_LAUNCHTYPE:()=>H8,SEMRESATTRS_AWS_ECS_TASK_ARN:()=>q8,SEMRESATTRS_AWS_ECS_TASK_FAMILY:()=>j8,SEMRESATTRS_AWS_ECS_TASK_REVISION:()=>Y8,SEMRESATTRS_AWS_EKS_CLUSTER_ARN:()=>K8,SEMRESATTRS_AWS_LOG_GROUP_ARNS:()=>$8,SEMRESATTRS_AWS_LOG_GROUP_NAMES:()=>z8,SEMRESATTRS_AWS_LOG_STREAM_ARNS:()=>W8,SEMRESATTRS_AWS_LOG_STREAM_NAMES:()=>X8,SEMRESATTRS_CLOUD_ACCOUNT_ID:()=>U8,SEMRESATTRS_CLOUD_AVAILABILITY_ZONE:()=>B8,SEMRESATTRS_CLOUD_PLATFORM:()=>V8,SEMRESATTRS_CLOUD_PROVIDER:()=>D8,SEMRESATTRS_CLOUD_REGION:()=>k8,SEMRESATTRS_CONTAINER_ID:()=>Q8,SEMRESATTRS_CONTAINER_IMAGE_NAME:()=>e5,SEMRESATTRS_CONTAINER_IMAGE_TAG:()=>t5,SEMRESATTRS_CONTAINER_NAME:()=>J8,SEMRESATTRS_CONTAINER_RUNTIME:()=>Z8,SEMRESATTRS_DEPLOYMENT_ENVIRONMENT:()=>r5,SEMRESATTRS_DEVICE_ID:()=>n5,SEMRESATTRS_DEVICE_MODEL_IDENTIFIER:()=>i5,SEMRESATTRS_DEVICE_MODEL_NAME:()=>o5,SEMRESATTRS_FAAS_ID:()=>a5,SEMRESATTRS_FAAS_INSTANCE:()=>c5,SEMRESATTRS_FAAS_MAX_MEMORY:()=>u5,SEMRESATTRS_FAAS_NAME:()=>s5,SEMRESATTRS_FAAS_VERSION:()=>l5,SEMRESATTRS_HOST_ARCH:()=>Vm,SEMRESATTRS_HOST_ID:()=>km,SEMRESATTRS_HOST_IMAGE_ID:()=>d5,SEMRESATTRS_HOST_IMAGE_NAME:()=>p5,SEMRESATTRS_HOST_IMAGE_VERSION:()=>h5,SEMRESATTRS_HOST_NAME:()=>Bm,SEMRESATTRS_HOST_TYPE:()=>f5,SEMRESATTRS_K8S_CLUSTER_NAME:()=>_5,SEMRESATTRS_K8S_CONTAINER_NAME:()=>v5,SEMRESATTRS_K8S_CRONJOB_NAME:()=>M5,SEMRESATTRS_K8S_CRONJOB_UID:()=>x5,SEMRESATTRS_K8S_DAEMONSET_NAME:()=>I5,SEMRESATTRS_K8S_DAEMONSET_UID:()=>P5,SEMRESATTRS_K8S_DEPLOYMENT_NAME:()=>R5,SEMRESATTRS_K8S_DEPLOYMENT_UID:()=>A5,SEMRESATTRS_K8S_JOB_NAME:()=>L5,SEMRESATTRS_K8S_JOB_UID:()=>b5,SEMRESATTRS_K8S_NAMESPACE_NAME:()=>T5,SEMRESATTRS_K8S_NODE_NAME:()=>E5,SEMRESATTRS_K8S_NODE_UID:()=>m5,SEMRESATTRS_K8S_POD_NAME:()=>g5,SEMRESATTRS_K8S_POD_UID:()=>S5,SEMRESATTRS_K8S_REPLICASET_NAME:()=>O5,SEMRESATTRS_K8S_REPLICASET_UID:()=>y5,SEMRESATTRS_K8S_STATEFULSET_NAME:()=>C5,SEMRESATTRS_K8S_STATEFULSET_UID:()=>N5,SEMRESATTRS_OS_DESCRIPTION:()=>w5,SEMRESATTRS_OS_NAME:()=>D5,SEMRESATTRS_OS_TYPE:()=>Fm,SEMRESATTRS_OS_VERSION:()=>Gm,SEMRESATTRS_PROCESS_COMMAND:()=>Ym,SEMRESATTRS_PROCESS_COMMAND_ARGS:()=>Km,SEMRESATTRS_PROCESS_COMMAND_LINE:()=>U5,SEMRESATTRS_PROCESS_EXECUTABLE_NAME:()=>qm,SEMRESATTRS_PROCESS_EXECUTABLE_PATH:()=>jm,SEMRESATTRS_PROCESS_OWNER:()=>zm,SEMRESATTRS_PROCESS_PID:()=>Hm,SEMRESATTRS_PROCESS_RUNTIME_DESCRIPTION:()=>Za,SEMRESATTRS_PROCESS_RUNTIME_NAME:()=>st,SEMRESATTRS_PROCESS_RUNTIME_VERSION:()=>Vo,SEMRESATTRS_SERVICE_INSTANCE_ID:()=>$m,SEMRESATTRS_SERVICE_NAME:()=>at,SEMRESATTRS_SERVICE_NAMESPACE:()=>k5,SEMRESATTRS_SERVICE_VERSION:()=>B5,SEMRESATTRS_TELEMETRY_AUTO_VERSION:()=>V5,SEMRESATTRS_TELEMETRY_SDK_LANGUAGE:()=>ge,SEMRESATTRS_TELEMETRY_SDK_NAME:()=>Se,SEMRESATTRS_TELEMETRY_SDK_VERSION:()=>ve,SEMRESATTRS_WEBENGINE_DESCRIPTION:()=>H5,SEMRESATTRS_WEBENGINE_NAME:()=>F5,SEMRESATTRS_WEBENGINE_VERSION:()=>G5,SIGNALR_CONNECTION_STATUS_VALUE_APP_SHUTDOWN:()=>DJ,SIGNALR_CONNECTION_STATUS_VALUE_NORMAL_CLOSURE:()=>UJ,SIGNALR_CONNECTION_STATUS_VALUE_TIMEOUT:()=>kJ,SIGNALR_TRANSPORT_VALUE_LONG_POLLING:()=>VJ,SIGNALR_TRANSPORT_VALUE_SERVER_SENT_EVENTS:()=>FJ,SIGNALR_TRANSPORT_VALUE_WEB_SOCKETS:()=>GJ,SemanticAttributes:()=>Q$,SemanticResourceAttributes:()=>q5,TELEMETRYSDKLANGUAGEVALUES_CPP:()=>U7,TELEMETRYSDKLANGUAGEVALUES_DOTNET:()=>k7,TELEMETRYSDKLANGUAGEVALUES_ERLANG:()=>B7,TELEMETRYSDKLANGUAGEVALUES_GO:()=>V7,TELEMETRYSDKLANGUAGEVALUES_JAVA:()=>F7,TELEMETRYSDKLANGUAGEVALUES_NODEJS:()=>wt,TELEMETRYSDKLANGUAGEVALUES_PHP:()=>G7,TELEMETRYSDKLANGUAGEVALUES_PYTHON:()=>H7,TELEMETRYSDKLANGUAGEVALUES_RUBY:()=>q7,TELEMETRYSDKLANGUAGEVALUES_WEBJS:()=>j7,TELEMETRY_SDK_LANGUAGE_VALUE_CPP:()=>Q7,TELEMETRY_SDK_LANGUAGE_VALUE_DOTNET:()=>Z7,TELEMETRY_SDK_LANGUAGE_VALUE_ERLANG:()=>e9,TELEMETRY_SDK_LANGUAGE_VALUE_GO:()=>t9,TELEMETRY_SDK_LANGUAGE_VALUE_JAVA:()=>r9,TELEMETRY_SDK_LANGUAGE_VALUE_NODEJS:()=>n9,TELEMETRY_SDK_LANGUAGE_VALUE_PHP:()=>i9,TELEMETRY_SDK_LANGUAGE_VALUE_PYTHON:()=>o9,TELEMETRY_SDK_LANGUAGE_VALUE_RUBY:()=>s9,TELEMETRY_SDK_LANGUAGE_VALUE_RUST:()=>a9,TELEMETRY_SDK_LANGUAGE_VALUE_SWIFT:()=>l9,TELEMETRY_SDK_LANGUAGE_VALUE_WEBJS:()=>c9,TelemetrySdkLanguageValues:()=>Y7});var Ve=p(()=>{TL();jx();Yx();Kx()});function $u(r){return r.setValue(Xm,!0)}function Xx(r){return r.deleteValue(Xm)}function At(r){return r.getValue(Xm)===!0}var Xm,tl=p(()=>{P();Xm=De("OpenTelemetry SDK Context Key SUPPRESS_TRACING")});var Xu,Wx=p(()=>{Xu="baggage"});function Ju(r){return r.reduce((e,t)=>{let o=`${e}${e!==""?",":""}${t}`;return o.length>8192?e:o},"")}function Qu(r){return r.getAllEntries().map(([e,t])=>{let o=`${encodeURIComponent(e)}=${encodeURIComponent(t.value)}`;return t.metadata!==void 0&&(o+=";"+t.metadata.toString()),o})}function rl(r){let e=r.split(";");if(e.length<=0)return;let t=e.shift();if(!t)return;let o=t.indexOf("=");if(o<=0)return;let s=decodeURIComponent(t.substring(0,o).trim()),a=decodeURIComponent(t.substring(o+1).trim()),i;return e.length>0&&(i=br(e.join(";"))),{key:s,value:a,metadata:i}}function Qx(r){return typeof r!="string"||r.length===0?{}:r.split(",").map(e=>rl(e)).filter(e=>e!==void 0&&e.value.length>0).reduce((e,t)=>(e[t.key]=t.value,e),{})}var Wm=p(()=>{P()});var Zu,Zx=p(()=>{P();tl();Wx();Wm();Zu=class{inject(e,t,o){let s=Ue.getBaggage(e);if(!s||At(e))return;let a=Qu(s).filter(n=>n.length<=4096).slice(0,180),i=Ju(a);i.length>0&&o.set(t,Xu,i)}extract(e,t,o){let s=o.get(t,Xu),a=Array.isArray(s)?s.join(","):s;if(!a)return e;let i={};return a.length===0||(a.split(",").forEach(l=>{let c=rl(l);if(c){let u={value:c.value};c.metadata&&(u.metadata=c.metadata),i[c.key]=u}}),Object.entries(i).length===0)?e:Ue.setBaggage(e,Ue.createBaggage(i))}fields(){return[Xu]}}});var ef,eM=p(()=>{ef=class{constructor(e,t){this._monotonicClock=t,this._epochMillis=e.now(),this._performanceMillis=t.now()}now(){let e=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+e}}});function tM(r){let e={};if(typeof r!="object"||r==null)return e;for(let[t,o]of Object.entries(r)){if(!Jm(t)){S.warn(`Invalid attribute key: ${t}`);continue}if(!Qm(o)){S.warn(`Invalid attribute value set for key: ${t}`);continue}Array.isArray(o)?e[t]=o.slice():e[t]=o}return e}function Jm(r){return typeof r=="string"&&r.length>0}function Qm(r){return r==null?!0:Array.isArray(r)?wQ(r):rM(r)}function wQ(r){let e;for(let t of r)if(t!=null){if(!e){if(rM(t)){e=typeof t;continue}return!1}if(typeof t!==e)return!1}return!0}function rM(r){switch(typeof r){case"number":case"boolean":case"string":return!0}return!1}var nM=p(()=>{P()});function tf(){return r=>{S.error(DQ(r))}}function DQ(r){return typeof r=="string"?r:JSON.stringify(UQ(r))}function UQ(r){let e={},t=r;for(;t!==null;)Object.getOwnPropertyNames(t).forEach(o=>{if(e[o])return;let s=t[o];s&&(e[o]=String(s))}),t=Object.getPrototypeOf(t);return e}var Zm=p(()=>{P()});function oM(r){iM=r}function rf(r){try{iM(r)}catch{}}var iM,eT=p(()=>{Zm();iM=tf()});var Go,tT=p(()=>{(function(r){r.AlwaysOff="always_off",r.AlwaysOn="always_on",r.ParentBasedAlwaysOff="parentbased_always_off",r.ParentBasedAlwaysOn="parentbased_always_on",r.ParentBasedTraceIdRatio="parentbased_traceidratio",r.TraceIdRatio="traceidratio"})(Go||(Go={}))});function VQ(r){return BQ.indexOf(r)>-1}function GQ(r){return FQ.indexOf(r)>-1}function qQ(r){return HQ.indexOf(r)>-1}function jQ(r,e,t){if(typeof t[r]>"u")return;let o=String(t[r]);e[r]=o.toLowerCase()==="true"}function YQ(r,e,t,o=-1/0,s=1/0){if(typeof t[r]<"u"){let a=Number(t[r]);isNaN(a)||(a<o?e[r]=o:a>s?e[r]=s:e[r]=a)}}function KQ(r,e,t,o=kQ){let s=t[r];typeof s=="string"&&(e[r]=s.split(o).map(a=>a.trim()))}function $Q(r,e,t){let o=t[r];if(typeof o=="string"){let s=zQ[o.toUpperCase()];s!=null&&(e[r]=s)}}function sl(r){let e={};for(let t in ol){let o=t;switch(o){case"OTEL_LOG_LEVEL":$Q(o,e,r);break;default:if(VQ(o))jQ(o,e,r);else if(GQ(o))YQ(o,e,r);else if(qQ(o))KQ(o,e,r);else{let s=r[o];typeof s<"u"&&s!==null&&(e[o]=String(s))}}}return e}var kQ,BQ,FQ,HQ,nl,il,rT,nT,ol,zQ,iT=p(()=>{P();tT();kQ=",",BQ=["OTEL_SDK_DISABLED"];FQ=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_BLRP_EXPORT_TIMEOUT","OTEL_BLRP_MAX_EXPORT_BATCH_SIZE","OTEL_BLRP_MAX_QUEUE_SIZE","OTEL_BLRP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_OTLP_LOGS_TIMEOUT","OTEL_EXPORTER_JAEGER_AGENT_PORT"];HQ=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS","OTEL_SEMCONV_STABILITY_OPT_IN"];nl=1/0,il=128,rT=128,nT=128,ol={OTEL_SDK_DISABLED:!1,CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_BLRP_EXPORT_TIMEOUT:3e4,OTEL_BLRP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BLRP_MAX_QUEUE_SIZE:2048,OTEL_BLRP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_AGENT_PORT:6832,OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_LOGS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_OTLP_LOGS_HEADERS:"",OTEL_EXPORTER_OTLP_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_TRACES_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_METRICS_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_LOGS_TIMEOUT:1e4,OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:H.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:nl,OTEL_ATTRIBUTE_COUNT_LIMIT:il,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:nl,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:il,OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT:nl,OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT:il,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:rT,OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:nT,OTEL_TRACES_EXPORTER:"",OTEL_TRACES_SAMPLER:Go.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:"",OTEL_LOGS_EXPORTER:"",OTEL_EXPORTER_OTLP_INSECURE:"",OTEL_EXPORTER_OTLP_TRACES_INSECURE:"",OTEL_EXPORTER_OTLP_METRICS_INSECURE:"",OTEL_EXPORTER_OTLP_LOGS_INSECURE:"",OTEL_EXPORTER_OTLP_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_COMPRESSION:"",OTEL_EXPORTER_OTLP_TRACES_COMPRESSION:"",OTEL_EXPORTER_OTLP_METRICS_COMPRESSION:"",OTEL_EXPORTER_OTLP_LOGS_COMPRESSION:"",OTEL_EXPORTER_OTLP_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_TRACES_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_LOGS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE:"cumulative",OTEL_SEMCONV_STABILITY_OPT_IN:[]};zQ={ALL:H.ALL,VERBOSE:H.VERBOSE,DEBUG:H.DEBUG,INFO:H.INFO,WARN:H.WARN,ERROR:H.ERROR,NONE:H.NONE}});function Ho(){let r=sl(process.env);return Object.assign({},ol,r)}function nf(){return sl(process.env)}var sM=p(()=>{iT()});var of,aM=p(()=>{of=typeof globalThis=="object"?globalThis:global});function lM(r){return r>=48&&r<=57?r-48:r>=97&&r<=102?r-87:r-55}function sf(r){let e=new Uint8Array(r.length/2),t=0;for(let o=0;o<r.length;o+=2){let s=lM(r.charCodeAt(o)),a=lM(r.charCodeAt(o+1));e[t++]=s<<4|a}return e}var oT=p(()=>{});function af(r){return Buffer.from(sf(r)).toString("base64")}var cM=p(()=>{oT()});function uM(r){return function(){for(let t=0;t<r/4;t++)lf.writeUInt32BE(Math.random()*2**32>>>0,t*4);for(let t=0;t<r&&!(lf[t]>0);t++)t===r-1&&(lf[r-1]=1);return lf.toString("hex",0,r)}}var qo,lf,fM=p(()=>{qo=class{constructor(){this.generateTraceId=uM(16),this.generateSpanId=uM(8)}},lf=Buffer.allocUnsafe(16)});import{performance as XQ}from"perf_hooks";var In,pM=p(()=>{In=XQ});var cf,sT=p(()=>{cf="1.29.0"});var bn,dM=p(()=>{sT();Ve();bn={[Se]:"opentelemetry",[st]:"node",[ge]:wt,[ve]:cf}});function uf(r){r.unref()}var hM=p(()=>{});var _M=p(()=>{sM();aM();cM();fM();pM();dM();hM()});var aT=p(()=>{_M()});function jo(r){let e=r/1e3,t=Math.trunc(e),o=Math.round(r%1e3*JQ);return[t,o]}function pf(){let r=In.timeOrigin;if(typeof r!="number"){let e=In;r=e.timing&&e.timing.fetchStart}return r}function lT(r){let e=jo(pf()),t=jo(typeof r=="number"?r:In.now());return cT(e,t)}function mM(r){if(df(r))return r;if(typeof r=="number")return r<pf()?lT(r):jo(r);if(r instanceof Date)return jo(r.getTime());throw TypeError("Invalid input type")}function TM(r,e){let t=e[0]-r[0],o=e[1]-r[1];return o<0&&(t-=1,o+=ff),[t,o]}function SM(r){let e=EM,t=`${"0".repeat(e)}${r[1]}Z`,o=t.substring(t.length-e-1);return new Date(r[0]*1e3).toISOString().replace("000Z",o)}function gM(r){return r[0]*ff+r[1]}function vM(r){return r[0]*1e3+r[1]/1e6}function yM(r){return r[0]*1e6+r[1]/1e3}function df(r){return Array.isArray(r)&&r.length===2&&typeof r[0]=="number"&&typeof r[1]=="number"}function OM(r){return df(r)||typeof r=="number"||r instanceof Date}function cT(r,e){let t=[r[0]+e[0],r[1]+e[1]];return t[1]>=ff&&(t[1]-=ff,t[0]+=1),t}var EM,WQ,JQ,ff,AM=p(()=>{aT();EM=9,WQ=6,JQ=Math.pow(10,WQ),ff=Math.pow(10,EM)});var hf,RM=p(()=>{(function(r){r[r.SUCCESS=0]="SUCCESS",r[r.FAILED=1]="FAILED"})(hf||(hf={}))});var _f,NM=p(()=>{P();_f=class{constructor(e={}){var t;this._propagators=(t=e.propagators)!==null&&t!==void 0?t:[],this._fields=Array.from(new Set(this._propagators.map(o=>typeof o.fields=="function"?o.fields():[]).reduce((o,s)=>o.concat(s),[])))}inject(e,t,o){for(let s of this._propagators)try{s.inject(e,t,o)}catch(a){S.warn(`Failed to inject with ${s.constructor.name}. Err: ${a.message}`)}}extract(e,t,o){return this._propagators.reduce((s,a)=>{try{return a.extract(s,t,o)}catch(i){S.warn(`Failed to extract with ${a.constructor.name}. Err: ${i.message}`)}return s},e)}fields(){return this._fields.slice()}}});function CM(r){return eZ.test(r)}function PM(r){return tZ.test(r)&&!rZ.test(r)}var uT,QQ,ZQ,eZ,tZ,rZ,IM=p(()=>{uT="[_0-9a-z-*/]",QQ=`[a-z]${uT}{0,255}`,ZQ=`[a-z0-9]${uT}{0,240}@[a-z]${uT}{0,13}`,eZ=new RegExp(`^(?:${QQ}|${ZQ})$`),tZ=/^[ -~]{0,255}[!-~]$/,rZ=/,|=/});var bM,nZ,LM,xM,Yo,fT=p(()=>{IM();bM=32,nZ=512,LM=",",xM="=",Yo=class r{constructor(e){this._internalState=new Map,e&&this._parse(e)}set(e,t){let o=this._clone();return o._internalState.has(e)&&o._internalState.delete(e),o._internalState.set(e,t),o}unset(e){let t=this._clone();return t._internalState.delete(e),t}get(e){return this._internalState.get(e)}serialize(){return this._keys().reduce((e,t)=>(e.push(t+xM+this.get(t)),e),[]).join(LM)}_parse(e){e.length>nZ||(this._internalState=e.split(LM).reverse().reduce((t,o)=>{let s=o.trim(),a=s.indexOf(xM);if(a!==-1){let i=s.slice(0,a),n=s.slice(a+1,o.length);CM(i)&&PM(n)&&t.set(i,n)}return t},new Map),this._internalState.size>bM&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,bM))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let e=new r;return e._internalState=new Map(this._internalState),e}}});function pT(r){let e=cZ.exec(r);return!e||e[1]==="00"&&e[5]?null:{traceId:e[2],spanId:e[3],traceFlags:parseInt(e[4],16)}}var al,ll,iZ,oZ,sZ,aZ,lZ,cZ,Ef,MM=p(()=>{P();tl();fT();al="traceparent",ll="tracestate",iZ="00",oZ="(?!ff)[\\da-f]{2}",sZ="(?![0]{32})[\\da-f]{32}",aZ="(?![0]{16})[\\da-f]{16}",lZ="[\\da-f]{2}",cZ=new RegExp(`^\\s?(${oZ})-(${sZ})-(${aZ})-(${lZ})(-.*)?\\s?$`);Ef=class{inject(e,t,o){let s=ie.getSpanContext(e);if(!s||At(e)||!xe(s))return;let a=`${iZ}-${s.traceId}-${s.spanId}-0${Number(s.traceFlags||se.NONE).toString(16)}`;o.set(t,al,a),s.traceState&&o.set(t,ll,s.traceState.serialize())}extract(e,t,o){let s=o.get(t,al);if(!s)return e;let a=Array.isArray(s)?s[0]:s;if(typeof a!="string")return e;let i=pT(a);if(!i)return e;i.isRemote=!0;let n=o.get(t,ll);if(n){let l=Array.isArray(n)?n.join(","):n;i.traceState=new Yo(typeof l=="string"?l:void 0)}return ie.setSpanContext(e,i)}fields(){return[al,ll]}}});function wM(r,e){return r.setValue(dT,e)}function DM(r){return r.deleteValue(dT)}function UM(r){return r.getValue(dT)}var dT,mf,kM=p(()=>{P();dT=De("OpenTelemetry SDK Context Key RPC_METADATA");(function(r){r.HTTP="http"})(mf||(mf={}))});var Ri,hT=p(()=>{P();Ri=class{shouldSample(){return{decision:ke.NOT_RECORD}}toString(){return"AlwaysOffSampler"}}});var Ln,_T=p(()=>{P();Ln=class{shouldSample(){return{decision:ke.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}}});var Tf,BM=p(()=>{P();eT();hT();_T();Tf=class{constructor(e){var t,o,s,a;this._root=e.root,this._root||(rf(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new Ln),this._remoteParentSampled=(t=e.remoteParentSampled)!==null&&t!==void 0?t:new Ln,this._remoteParentNotSampled=(o=e.remoteParentNotSampled)!==null&&o!==void 0?o:new Ri,this._localParentSampled=(s=e.localParentSampled)!==null&&s!==void 0?s:new Ln,this._localParentNotSampled=(a=e.localParentNotSampled)!==null&&a!==void 0?a:new Ri}shouldSample(e,t,o,s,a,i){let n=ie.getSpanContext(e);return!n||!xe(n)?this._root.shouldSample(e,t,o,s,a,i):n.isRemote?n.traceFlags&se.SAMPLED?this._remoteParentSampled.shouldSample(e,t,o,s,a,i):this._remoteParentNotSampled.shouldSample(e,t,o,s,a,i):n.traceFlags&se.SAMPLED?this._localParentSampled.shouldSample(e,t,o,s,a,i):this._localParentNotSampled.shouldSample(e,t,o,s,a,i)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}}});var Sf,VM=p(()=>{P();Sf=class{constructor(e=0){this._ratio=e,this._ratio=this._normalize(e),this._upperBound=Math.floor(this._ratio*4294967295)}shouldSample(e,t){return{decision:Mt(t)&&this._accumulate(t)<this._upperBound?ke.RECORD_AND_SAMPLED:ke.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(e){return typeof e!="number"||isNaN(e)?0:e>=1?1:e<=0?0:e}_accumulate(e){let t=0;for(let o=0;o<e.length/8;o++){let s=o*8,a=parseInt(e.slice(s,s+8),16);t=(t^a)>>>0}return t}}});function EZ(r,e){return function(t){return r(e(t))}}function ET(r){if(!mZ(r)||TZ(r)!==uZ)return!1;let e=_Z(r);if(e===null)return!0;let t=HM.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&FM.call(t)===hZ}function mZ(r){return r!=null&&typeof r=="object"}function TZ(r){return r==null?r===void 0?pZ:fZ:Ni&&Ni in Object(r)?SZ(r):gZ(r)}function SZ(r){let e=HM.call(r,Ni),t=r[Ni],o=!1;try{r[Ni]=void 0,o=!0}catch{}let s=qM.call(r);return o&&(e?r[Ni]=t:delete r[Ni]),s}function gZ(r){return qM.call(r)}var uZ,fZ,pZ,dZ,FM,hZ,_Z,GM,HM,Ni,qM,jM=p(()=>{uZ="[object Object]",fZ="[object Null]",pZ="[object Undefined]",dZ=Function.prototype,FM=dZ.toString,hZ=FM.call(Object),_Z=EZ(Object.getPrototypeOf,Object),GM=Object.prototype,HM=GM.hasOwnProperty,Ni=Symbol?Symbol.toStringTag:void 0,qM=GM.toString});function KM(...r){let e=r.shift(),t=new WeakMap;for(;r.length>0;)e=zM(e,r.shift(),0,t);return e}function mT(r){return vf(r)?r.slice():r}function zM(r,e,t=0,o){let s;if(!(t>vZ)){if(t++,gf(r)||gf(e)||$M(e))s=mT(e);else if(vf(r)){if(s=r.slice(),vf(e))for(let a=0,i=e.length;a<i;a++)s.push(mT(e[a]));else if(cl(e)){let a=Object.keys(e);for(let i=0,n=a.length;i<n;i++){let l=a[i];s[l]=mT(e[l])}}}else if(cl(r))if(cl(e)){if(!yZ(r,e))return e;s=Object.assign({},r);let a=Object.keys(e);for(let i=0,n=a.length;i<n;i++){let l=a[i],c=e[l];if(gf(c))typeof c>"u"?delete s[l]:s[l]=c;else{let u=s[l],f=c;if(YM(r,l,o)||YM(e,l,o))delete s[l];else{if(cl(u)&&cl(f)){let _=o.get(u)||[],m=o.get(f)||[];_.push({obj:r,key:l}),m.push({obj:e,key:l}),o.set(u,_),o.set(f,m)}s[l]=zM(s[l],c,t,o)}}}}else s=e;return s}}function YM(r,e,t){let o=t.get(r[e])||[];for(let s=0,a=o.length;s<a;s++){let i=o[s];if(i.key===e&&i.obj===r)return!0}return!1}function vf(r){return Array.isArray(r)}function $M(r){return typeof r=="function"}function cl(r){return!gf(r)&&!vf(r)&&!$M(r)&&typeof r=="object"}function gf(r){return typeof r=="string"||typeof r=="number"||typeof r=="boolean"||typeof r>"u"||r instanceof Date||r instanceof RegExp||r===null}function yZ(r,e){return!(!ET(r)||!ET(e))}var vZ,XM=p(()=>{jM();vZ=20});function WM(r,e){let t,o=new Promise(function(a,i){t=setTimeout(function(){i(new ul("Operation timed out."))},e)});return Promise.race([r,o]).then(s=>(clearTimeout(t),s),s=>{throw clearTimeout(t),s})}var ul,JM=p(()=>{ul=class r extends Error{constructor(e){super(e),Object.setPrototypeOf(this,r.prototype)}}});function TT(r,e){return typeof e=="string"?r===e:!!r.match(e)}function QM(r,e){if(!e)return!1;for(let t of e)if(TT(r,t))return!0;return!1}var ZM=p(()=>{});function ew(r){return typeof r=="function"&&typeof r.__original=="function"&&typeof r.__unwrap=="function"&&r.__wrapped===!0}var tw=p(()=>{});var yf,rw=p(()=>{yf=class{constructor(){this._promise=new Promise((e,t)=>{this._resolve=e,this._reject=t})}get promise(){return this._promise}resolve(e){this._resolve(e)}reject(e){this._reject(e)}}});var Of,nw=p(()=>{rw();Of=class{constructor(e,t){this._callback=e,this._that=t,this._isCalled=!1,this._deferred=new yf}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...e){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...e)).then(t=>this._deferred.resolve(t),t=>this._deferred.reject(t))}catch(t){this._deferred.reject(t)}}return this._deferred.promise}}});function iw(r,e){return new Promise(t=>{me.with($u(me.active()),()=>{r.export(e,o=>{t(o)})})})}var ow=p(()=>{P();tl()});var Af={};Ae(Af,{AlwaysOffSampler:()=>Ri,AlwaysOnSampler:()=>Ln,AnchoredClock:()=>ef,BindOnceFuture:()=>Of,CompositePropagator:()=>_f,DEFAULT_ATTRIBUTE_COUNT_LIMIT:()=>il,DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT:()=>nl,DEFAULT_ENVIRONMENT:()=>ol,DEFAULT_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:()=>rT,DEFAULT_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:()=>nT,ExportResultCode:()=>hf,ParentBasedSampler:()=>Tf,RPCType:()=>mf,RandomIdGenerator:()=>qo,SDK_INFO:()=>bn,TRACE_PARENT_HEADER:()=>al,TRACE_STATE_HEADER:()=>ll,TimeoutError:()=>ul,TraceIdRatioBasedSampler:()=>Sf,TraceState:()=>Yo,TracesSamplerValues:()=>Go,VERSION:()=>cf,W3CBaggagePropagator:()=>Zu,W3CTraceContextPropagator:()=>Ef,_globalThis:()=>of,addHrTimes:()=>cT,baggageUtils:()=>OZ,callWithTimeout:()=>WM,deleteRPCMetadata:()=>DM,getEnv:()=>Ho,getEnvWithoutDefaults:()=>nf,getRPCMetadata:()=>UM,getTimeOrigin:()=>pf,globalErrorHandler:()=>rf,hexToBase64:()=>af,hexToBinary:()=>sf,hrTime:()=>lT,hrTimeDuration:()=>TM,hrTimeToMicroseconds:()=>yM,hrTimeToMilliseconds:()=>vM,hrTimeToNanoseconds:()=>gM,hrTimeToTimeStamp:()=>SM,internal:()=>AZ,isAttributeKey:()=>Jm,isAttributeValue:()=>Qm,isTimeInput:()=>OM,isTimeInputHrTime:()=>df,isTracingSuppressed:()=>At,isUrlIgnored:()=>QM,isWrapped:()=>ew,loggingErrorHandler:()=>tf,merge:()=>KM,millisToHrTime:()=>jo,otperformance:()=>In,parseEnvironment:()=>sl,parseTraceParent:()=>pT,sanitizeAttributes:()=>tM,setGlobalErrorHandler:()=>oM,setRPCMetadata:()=>wM,suppressTracing:()=>$u,timeInputToHrTime:()=>mM,unrefTimer:()=>uf,unsuppressTracing:()=>Xx,urlMatches:()=>TT});var OZ,AZ,xr=p(()=>{Zx();eM();nM();eT();Zm();AM();oT();RM();Wm();aT();NM();MM();kM();hT();_T();BM();VM();tl();fT();iT();XM();tT();JM();ZM();tw();nw();sT();ow();OZ={getKeyPairs:Qu,serializeKeyPairs:Ju,parseKeyPairsIntoRecord:Qx,parsePairKeyValue:rl},AZ={_export:iw}});var Rf,sw=p(()=>{(function(r){r[r.UNSPECIFIED=0]="UNSPECIFIED",r[r.TRACE=1]="TRACE",r[r.TRACE2=2]="TRACE2",r[r.TRACE3=3]="TRACE3",r[r.TRACE4=4]="TRACE4",r[r.DEBUG=5]="DEBUG",r[r.DEBUG2=6]="DEBUG2",r[r.DEBUG3=7]="DEBUG3",r[r.DEBUG4=8]="DEBUG4",r[r.INFO=9]="INFO",r[r.INFO2=10]="INFO2",r[r.INFO3=11]="INFO3",r[r.INFO4=12]="INFO4",r[r.WARN=13]="WARN",r[r.WARN2=14]="WARN2",r[r.WARN3=15]="WARN3",r[r.WARN4=16]="WARN4",r[r.ERROR=17]="ERROR",r[r.ERROR2=18]="ERROR2",r[r.ERROR3=19]="ERROR3",r[r.ERROR4=20]="ERROR4",r[r.FATAL=21]="FATAL",r[r.FATAL2=22]="FATAL2",r[r.FATAL3=23]="FATAL3",r[r.FATAL4=24]="FATAL4"})(Rf||(Rf={}))});var Ci,Ko,Nf=p(()=>{Ci=class{emit(e){}},Ko=new Ci});var fl,zo,Cf=p(()=>{Nf();fl=class{getLogger(e,t,o){return new Ci}},zo=new fl});var $o,ST=p(()=>{Nf();$o=class{constructor(e,t,o,s){this._provider=e,this.name=t,this.version=o,this.options=s}emit(e){this._getLogger().emit(e)}_getLogger(){if(this._delegate)return this._delegate;let e=this._provider.getDelegateLogger(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):Ko}}});var Pi,gT=p(()=>{Cf();ST();Pi=class{getLogger(e,t,o){var s;return(s=this.getDelegateLogger(e,t,o))!==null&&s!==void 0?s:new $o(this,e,t,o)}getDelegate(){var e;return(e=this._delegate)!==null&&e!==void 0?e:zo}setDelegate(e){this._delegate=e}getDelegateLogger(e,t,o){var s;return(s=this._delegate)===null||s===void 0?void 0:s.getLogger(e,t,o)}}});var Pf,aw=p(()=>{Pf=typeof globalThis=="object"?globalThis:global});var lw=p(()=>{aw()});var cw=p(()=>{lw()});function uw(r,e,t){return o=>o===r?e:t}var pl,Xo,vT,fw=p(()=>{cw();pl=Symbol.for("io.opentelemetry.js.api.logs"),Xo=Pf;vT=1});var If,pw=p(()=>{fw();Cf();gT();If=class r{constructor(){this._proxyLoggerProvider=new Pi}static getInstance(){return this._instance||(this._instance=new r),this._instance}setGlobalLoggerProvider(e){return Xo[pl]?this.getLoggerProvider():(Xo[pl]=uw(vT,e,zo),this._proxyLoggerProvider.setDelegate(e),e)}getLoggerProvider(){var e,t;return(t=(e=Xo[pl])===null||e===void 0?void 0:e.call(Xo,vT))!==null&&t!==void 0?t:this._proxyLoggerProvider}getLogger(e,t,o){return this.getLoggerProvider().getLogger(e,t,o)}disable(){delete Xo[pl],this._proxyLoggerProvider=new Pi}}});var dw={};Ae(dw,{NOOP_LOGGER:()=>Ko,NOOP_LOGGER_PROVIDER:()=>zo,NoopLogger:()=>Ci,NoopLoggerProvider:()=>fl,ProxyLogger:()=>$o,ProxyLoggerProvider:()=>Pi,SeverityNumber:()=>Rf,logs:()=>dl});var dl,hl=p(()=>{sw();Nf();Cf();ST();gT();pw();dl=If.getInstance()});function hw(r){return r.setValue(RZ,!0)}var RZ,_w=p(()=>{P();RZ=De("OpenTelemetry SDK Context Key SUPPRESS_TRACING")});function bf(r){return r==null?!0:Array.isArray(r)?NZ(r):Ew(r)}function NZ(r){let e;for(let t of r)if(t!=null){if(!e){if(Ew(t)){e=typeof t;continue}return!1}if(typeof t!==e)return!1}return!0}function Ew(r){switch(typeof r){case"number":case"boolean":case"string":return!0}return!1}var mw=p(()=>{});function Tw(){return r=>{S.error(CZ(r))}}function CZ(r){return typeof r=="string"?r:JSON.stringify(PZ(r))}function PZ(r){let e={},t=r;for(;t!==null;)Object.getOwnPropertyNames(t).forEach(o=>{if(e[o])return;let s=t[o];s&&(e[o]=String(s))}),t=Object.getPrototypeOf(t);return e}var Sw=p(()=>{P()});function Mr(r){try{IZ(r)}catch{}}var IZ,gw=p(()=>{Sw();IZ=Tw()});var Lf,vw=p(()=>{(function(r){r.AlwaysOff="always_off",r.AlwaysOn="always_on",r.ParentBasedAlwaysOff="parentbased_always_off",r.ParentBasedAlwaysOn="parentbased_always_on",r.ParentBasedTraceIdRatio="parentbased_traceidratio",r.TraceIdRatio="traceidratio"})(Lf||(Lf={}))});function xZ(r){return LZ.indexOf(r)>-1}function wZ(r){return MZ.indexOf(r)>-1}function UZ(r){return DZ.indexOf(r)>-1}function kZ(r,e,t){if(typeof t[r]>"u")return;let o=String(t[r]);e[r]=o.toLowerCase()==="true"}function BZ(r,e,t,o=-1/0,s=1/0){if(typeof t[r]<"u"){let a=Number(t[r]);isNaN(a)||(a<o?e[r]=o:a>s?e[r]=s:e[r]=a)}}function VZ(r,e,t,o=bZ){let s=t[r];typeof s=="string"&&(e[r]=s.split(o).map(a=>a.trim()))}function GZ(r,e,t){let o=t[r];if(typeof o=="string"){let s=FZ[o.toUpperCase()];s!=null&&(e[r]=s)}}function Mf(r){let e={};for(let t in xf){let o=t;switch(o){case"OTEL_LOG_LEVEL":GZ(o,e,r);break;default:if(xZ(o))kZ(o,e,r);else if(wZ(o))BZ(o,e,r);else if(UZ(o))VZ(o,e,r);else{let s=r[o];typeof s<"u"&&s!==null&&(e[o]=String(s))}}}return e}var bZ,LZ,MZ,DZ,Wo,Jo,yw,Ow,xf,FZ,yT=p(()=>{P();vw();bZ=",",LZ=["OTEL_SDK_DISABLED"];MZ=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_BLRP_EXPORT_TIMEOUT","OTEL_BLRP_MAX_EXPORT_BATCH_SIZE","OTEL_BLRP_MAX_QUEUE_SIZE","OTEL_BLRP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_OTLP_LOGS_TIMEOUT","OTEL_EXPORTER_JAEGER_AGENT_PORT"];DZ=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS","OTEL_SEMCONV_STABILITY_OPT_IN"];Wo=1/0,Jo=128,yw=128,Ow=128,xf={OTEL_SDK_DISABLED:!1,CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_BLRP_EXPORT_TIMEOUT:3e4,OTEL_BLRP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BLRP_MAX_QUEUE_SIZE:2048,OTEL_BLRP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_AGENT_PORT:6832,OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_LOGS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_OTLP_LOGS_HEADERS:"",OTEL_EXPORTER_OTLP_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_TRACES_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_METRICS_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_LOGS_TIMEOUT:1e4,OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:H.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:Wo,OTEL_ATTRIBUTE_COUNT_LIMIT:Jo,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:Wo,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:Jo,OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT:Wo,OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT:Jo,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:yw,OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:Ow,OTEL_TRACES_EXPORTER:"",OTEL_TRACES_SAMPLER:Lf.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:"",OTEL_LOGS_EXPORTER:"",OTEL_EXPORTER_OTLP_INSECURE:"",OTEL_EXPORTER_OTLP_TRACES_INSECURE:"",OTEL_EXPORTER_OTLP_METRICS_INSECURE:"",OTEL_EXPORTER_OTLP_LOGS_INSECURE:"",OTEL_EXPORTER_OTLP_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_COMPRESSION:"",OTEL_EXPORTER_OTLP_TRACES_COMPRESSION:"",OTEL_EXPORTER_OTLP_METRICS_COMPRESSION:"",OTEL_EXPORTER_OTLP_LOGS_COMPRESSION:"",OTEL_EXPORTER_OTLP_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_TRACES_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_LOGS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE:"cumulative",OTEL_SEMCONV_STABILITY_OPT_IN:[]};FZ={ALL:H.ALL,VERBOSE:H.VERBOSE,DEBUG:H.DEBUG,INFO:H.INFO,WARN:H.WARN,ERROR:H.ERROR,NONE:H.NONE}});function xn(){let r=Mf(process.env);return Object.assign({},xf,r)}function _l(){return Mf(process.env)}var Aw=p(()=>{yT()});import{performance as HZ}from"perf_hooks";var Ii,Rw=p(()=>{Ii=HZ});var Nw,Cw=p(()=>{Nw="1.29.0"});var bi,Pw=p(()=>{Cw();Ve();bi={[Se]:"opentelemetry",[st]:"node",[ge]:wt,[ve]:Nw}});function El(r){r.unref()}var Iw=p(()=>{});var bw=p(()=>{Aw();Rw();Pw();Iw()});var OT=p(()=>{bw()});function ml(r){let e=r/1e3,t=Math.trunc(e),o=Math.round(r%1e3*$Z);return[t,o]}function AT(){let r=Ii.timeOrigin;if(typeof r!="number"){let e=Ii;r=e.timing&&e.timing.fetchStart}return r}function xw(r){let e=ml(AT()),t=ml(typeof r=="number"?r:Ii.now());return ww(e,t)}function wf(r){if(Mw(r))return r;if(typeof r=="number")return r<AT()?xw(r):ml(r);if(r instanceof Date)return ml(r.getTime());throw TypeError("Invalid input type")}function RT(r){return r[0]*1e6+r[1]/1e3}function Mw(r){return Array.isArray(r)&&r.length===2&&typeof r[0]=="number"&&typeof r[1]=="number"}function ww(r,e){let t=[r[0]+e[0],r[1]+e[1]];return t[1]>=Lw&&(t[1]-=Lw,t[0]+=1),t}var KZ,zZ,$Z,Lw,Dw=p(()=>{OT();KZ=9,zZ=6,$Z=Math.pow(10,zZ),Lw=Math.pow(10,KZ)});var jt,Uw=p(()=>{(function(r){r[r.SUCCESS=0]="SUCCESS",r[r.FAILED=1]="FAILED"})(jt||(jt={}))});function tee(r,e){return function(t){return r(e(t))}}function NT(r){if(!ree(r)||nee(r)!==XZ)return!1;let e=eee(r);if(e===null)return!0;let t=Vw.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&kw.call(t)===ZZ}function ree(r){return r!=null&&typeof r=="object"}function nee(r){return r==null?r===void 0?JZ:WZ:Li&&Li in Object(r)?iee(r):oee(r)}function iee(r){let e=Vw.call(r,Li),t=r[Li],o=!1;try{r[Li]=void 0,o=!0}catch{}let s=Fw.call(r);return o&&(e?r[Li]=t:delete r[Li]),s}function oee(r){return Fw.call(r)}var XZ,WZ,JZ,QZ,kw,ZZ,eee,Bw,Vw,Li,Fw,Gw=p(()=>{XZ="[object Object]",WZ="[object Null]",JZ="[object Undefined]",QZ=Function.prototype,kw=QZ.toString,ZZ=kw.call(Object),eee=tee(Object.getPrototypeOf,Object),Bw=Object.prototype,Vw=Bw.hasOwnProperty,Li=Symbol?Symbol.toStringTag:void 0,Fw=Bw.toString});function PT(...r){let e=r.shift(),t=new WeakMap;for(;r.length>0;)e=qw(e,r.shift(),0,t);return e}function CT(r){return Uf(r)?r.slice():r}function qw(r,e,t=0,o){let s;if(!(t>see)){if(t++,Df(r)||Df(e)||jw(e))s=CT(e);else if(Uf(r)){if(s=r.slice(),Uf(e))for(let a=0,i=e.length;a<i;a++)s.push(CT(e[a]));else if(Tl(e)){let a=Object.keys(e);for(let i=0,n=a.length;i<n;i++){let l=a[i];s[l]=CT(e[l])}}}else if(Tl(r))if(Tl(e)){if(!aee(r,e))return e;s=Object.assign({},r);let a=Object.keys(e);for(let i=0,n=a.length;i<n;i++){let l=a[i],c=e[l];if(Df(c))typeof c>"u"?delete s[l]:s[l]=c;else{let u=s[l],f=c;if(Hw(r,l,o)||Hw(e,l,o))delete s[l];else{if(Tl(u)&&Tl(f)){let _=o.get(u)||[],m=o.get(f)||[];_.push({obj:r,key:l}),m.push({obj:e,key:l}),o.set(u,_),o.set(f,m)}s[l]=qw(s[l],c,t,o)}}}}else s=e;return s}}function Hw(r,e,t){let o=t.get(r[e])||[];for(let s=0,a=o.length;s<a;s++){let i=o[s];if(i.key===e&&i.obj===r)return!0}return!1}function Uf(r){return Array.isArray(r)}function jw(r){return typeof r=="function"}function Tl(r){return!Df(r)&&!Uf(r)&&!jw(r)&&typeof r=="object"}function Df(r){return typeof r=="string"||typeof r=="number"||typeof r=="boolean"||typeof r>"u"||r instanceof Date||r instanceof RegExp||r===null}function aee(r,e){return!(!NT(r)||!NT(e))}var see,Yw=p(()=>{Gw();see=20});function Sl(r,e){let t,o=new Promise(function(a,i){t=setTimeout(function(){i(new kf("Operation timed out."))},e)});return Promise.race([r,o]).then(s=>(clearTimeout(t),s),s=>{throw clearTimeout(t),s})}var kf,Kw=p(()=>{kf=class r extends Error{constructor(e){super(e),Object.setPrototypeOf(this,r.prototype)}}});var Bf,zw=p(()=>{Bf=class{constructor(){this._promise=new Promise((e,t)=>{this._resolve=e,this._reject=t})}get promise(){return this._promise}resolve(e){this._resolve(e)}reject(e){this._reject(e)}}});var un,$w=p(()=>{zw();un=class{constructor(e,t){this._callback=e,this._that=t,this._isCalled=!1,this._deferred=new Bf}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...e){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...e)).then(t=>this._deferred.resolve(t),t=>this._deferred.reject(t))}catch(t){this._deferred.reject(t)}}return this._deferred.promise}}});function Xw(r,e){return new Promise(t=>{me.with(hw(me.active()),()=>{r.export(e,o=>{t(o)})})})}var Ww=p(()=>{P();_w()});var Vf,lr=p(()=>{mw();gw();Dw();Uw();OT();yT();Yw();Kw();$w();Ww();Vf={_export:Xw}});function Ff(){return`unknown_service:${process.argv0}`}var Jw=p(()=>{});var Qw=p(()=>{Jw()});var Zw=p(()=>{Qw()});var Mn,e1=p(()=>{P();Ve();lr();Zw();Mn=class r{constructor(e,t){var o;this._attributes=e,this.asyncAttributesPending=t!=null,this._syncAttributes=(o=this._attributes)!==null&&o!==void 0?o:{},this._asyncAttributesPromise=t==null?void 0:t.then(s=>(this._attributes=Object.assign({},this._attributes,s),this.asyncAttributesPending=!1,s),s=>(S.debug("a resource's async attributes promise rejected: %s",s),this.asyncAttributesPending=!1,{}))}static empty(){return r.EMPTY}static default(){return new r({[at]:Ff(),[ge]:bi[ge],[Se]:bi[Se],[ve]:bi[ve]})}get attributes(){var e;return this.asyncAttributesPending&&S.error("Accessing resource attributes before async attributes settled"),(e=this._attributes)!==null&&e!==void 0?e:{}}async waitForAsyncAttributes(){this.asyncAttributesPending&&await this._asyncAttributesPromise}merge(e){var t;if(!e)return this;let o=Object.assign(Object.assign({},this._syncAttributes),(t=e._syncAttributes)!==null&&t!==void 0?t:e.attributes);if(!this._asyncAttributesPromise&&!e._asyncAttributesPromise)return new r(o);let s=Promise.all([this._asyncAttributesPromise,e._asyncAttributesPromise]).then(([a,i])=>{var n;return Object.assign(Object.assign(Object.assign(Object.assign({},this._syncAttributes),a),(n=e._syncAttributes)!==null&&n!==void 0?n:e.attributes),i)});return new r(o,s)}};Mn.EMPTY=new Mn({})});var t1=p(()=>{e1()});var Qo,IT=p(()=>{P();P();lr();Qo=class{constructor(e,t,o){this.attributes={},this.totalAttributesCount=0,this._isReadonly=!1;let{timestamp:s,observedTimestamp:a,severityNumber:i,severityText:n,body:l,attributes:c={},context:u}=o,f=Date.now();if(this.hrTime=wf(s??f),this.hrTimeObserved=wf(a??f),u){let _=ie.getSpanContext(u);_&&xe(_)&&(this.spanContext=_)}this.severityNumber=i,this.severityText=n,this.body=l,this.resource=e.resource,this.instrumentationScope=t,this._logRecordLimits=e.logRecordLimits,this.setAttributes(c)}set severityText(e){this._isLogRecordReadonly()||(this._severityText=e)}get severityText(){return this._severityText}set severityNumber(e){this._isLogRecordReadonly()||(this._severityNumber=e)}get severityNumber(){return this._severityNumber}set body(e){this._isLogRecordReadonly()||(this._body=e)}get body(){return this._body}get droppedAttributesCount(){return this.totalAttributesCount-Object.keys(this.attributes).length}setAttribute(e,t){return this._isLogRecordReadonly()?this:t===null?this:e.length===0?(S.warn(`Invalid attribute key: ${e}`),this):!bf(t)&&!(typeof t=="object"&&!Array.isArray(t)&&Object.keys(t).length>0)?(S.warn(`Invalid attribute value set for key: ${e}`),this):(this.totalAttributesCount+=1,Object.keys(this.attributes).length>=this._logRecordLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,e)?(this.droppedAttributesCount===1&&S.warn("Dropping extra attributes."),this):(bf(t)?this.attributes[e]=this._truncateToSize(t):this.attributes[e]=t,this))}setAttributes(e){for(let[t,o]of Object.entries(e))this.setAttribute(t,o);return this}setBody(e){return this.body=e,this}setSeverityNumber(e){return this.severityNumber=e,this}setSeverityText(e){return this.severityText=e,this}_makeReadonly(){this._isReadonly=!0}_truncateToSize(e){let t=this._logRecordLimits.attributeValueLengthLimit;return t<=0?(S.warn(`Attribute value limit must be positive, got ${t}`),e):typeof e=="string"?this._truncateToLimitUtil(e,t):Array.isArray(e)?e.map(o=>typeof o=="string"?this._truncateToLimitUtil(o,t):o):e}_truncateToLimitUtil(e,t){return e.length<=t?e:e.substring(0,t)}_isLogRecordReadonly(){return this._isReadonly&&S.warn("Can not execute the operation on emitted log record"),this._isReadonly}}});var Gf,r1=p(()=>{P();IT();Gf=class{constructor(e,t){this.instrumentationScope=e,this._sharedState=t}emit(e){let t=e.context||me.active(),o=new Qo(this._sharedState,this.instrumentationScope,Object.assign({context:t},e));this._sharedState.activeProcessor.onEmit(o,t),o._makeReadonly()}}});function n1(){return{forceFlushTimeoutMillis:3e4,logRecordLimits:{attributeValueLengthLimit:xn().OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:xn().OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT},includeTraceContext:!0,mergeResourceWithDefaults:!0}}function i1(r){var e,t,o,s,a,i;let n=_l();return{attributeCountLimit:(o=(t=(e=r.attributeCountLimit)!==null&&e!==void 0?e:n.OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT)!==null&&t!==void 0?t:n.OTEL_ATTRIBUTE_COUNT_LIMIT)!==null&&o!==void 0?o:Jo,attributeValueLengthLimit:(i=(a=(s=r.attributeValueLengthLimit)!==null&&s!==void 0?s:n.OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT)!==null&&a!==void 0?a:n.OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT)!==null&&i!==void 0?i:Wo}}var o1=p(()=>{lr()});var Hf,s1=p(()=>{lr();Hf=class{constructor(e,t){this.processors=e,this.forceFlushTimeoutMillis=t}async forceFlush(){let e=this.forceFlushTimeoutMillis;await Promise.all(this.processors.map(t=>Sl(t.forceFlush(),e)))}onEmit(e,t){this.processors.forEach(o=>o.onEmit(e,t))}async shutdown(){await Promise.all(this.processors.map(e=>e.shutdown()))}}});var Zo,bT=p(()=>{Zo=class{forceFlush(){return Promise.resolve()}onEmit(e,t){}shutdown(){return Promise.resolve()}}});var qf,a1=p(()=>{bT();qf=class{constructor(e,t,o){this.resource=e,this.forceFlushTimeoutMillis=t,this.logRecordLimits=o,this.loggers=new Map,this.registeredLogRecordProcessors=[],this.activeProcessor=new Zo}}});function cee(r,e){let t=e??Mn.empty();return r?Mn.default().merge(t):t}var lee,jf,l1=p(()=>{P();hl();t1();lr();r1();o1();s1();a1();lee="unknown";jf=class{constructor(e={}){let t=PT({},n1(),e),o=cee(t.mergeResourceWithDefaults,e.resource);this._sharedState=new qf(o,t.forceFlushTimeoutMillis,i1(t.logRecordLimits)),this._shutdownOnce=new un(this._shutdown,this)}getLogger(e,t,o){if(this._shutdownOnce.isCalled)return S.warn("A shutdown LoggerProvider cannot provide a Logger"),Ko;e||S.warn("Logger requested without instrumentation scope name.");let s=e||lee,a=`${s}@${t||""}:${(o==null?void 0:o.schemaUrl)||""}`;return this._sharedState.loggers.has(a)||this._sharedState.loggers.set(a,new Gf({name:s,version:t,schemaUrl:o==null?void 0:o.schemaUrl},this._sharedState)),this._sharedState.loggers.get(a)}addLogRecordProcessor(e){this._sharedState.registeredLogRecordProcessors.length===0&&this._sharedState.activeProcessor.shutdown().catch(t=>S.error("Error while trying to shutdown current log record processor",t)),this._sharedState.registeredLogRecordProcessors.push(e),this._sharedState.activeProcessor=new Hf(this._sharedState.registeredLogRecordProcessors,this._sharedState.forceFlushTimeoutMillis)}forceFlush(){return this._shutdownOnce.isCalled?(S.warn("invalid attempt to force flush after LoggerProvider shutdown"),this._shutdownOnce.promise):this._sharedState.activeProcessor.forceFlush()}shutdown(){return this._shutdownOnce.isCalled?(S.warn("shutdown may only be called once per LoggerProvider"),this._shutdownOnce.promise):this._shutdownOnce.call()}_shutdown(){return this._sharedState.activeProcessor.shutdown()}}});var Yf,c1=p(()=>{lr();lr();Yf=class{export(e,t){this._sendLogRecords(e,t)}shutdown(){return Promise.resolve()}_exportInfo(e){var t,o,s;return{resource:{attributes:e.resource.attributes},instrumentationScope:e.instrumentationScope,timestamp:RT(e.hrTime),traceId:(t=e.spanContext)===null||t===void 0?void 0:t.traceId,spanId:(o=e.spanContext)===null||o===void 0?void 0:o.spanId,traceFlags:(s=e.spanContext)===null||s===void 0?void 0:s.traceFlags,severityText:e.severityText,severityNumber:e.severityNumber,body:e.body,attributes:e.attributes}}_sendLogRecords(e,t){for(let o of e)console.dir(this._exportInfo(o),{depth:3});t==null||t({code:jt.SUCCESS})}}});var Kf,u1=p(()=>{lr();Kf=class{constructor(e){this._exporter=e,this._shutdownOnce=new un(this._shutdown,this),this._unresolvedExports=new Set}onEmit(e){var t,o;if(this._shutdownOnce.isCalled)return;let s=()=>Vf._export(this._exporter,[e]).then(a=>{var i;a.code!==jt.SUCCESS&&Mr((i=a.error)!==null&&i!==void 0?i:new Error(`SimpleLogRecordProcessor: log record export failed (status ${a})`))}).catch(Mr);if(e.resource.asyncAttributesPending){let a=(o=(t=e.resource).waitForAsyncAttributes)===null||o===void 0?void 0:o.call(t).then(()=>(this._unresolvedExports.delete(a),s()),Mr);a!=null&&this._unresolvedExports.add(a)}else s()}async forceFlush(){await Promise.all(Array.from(this._unresolvedExports))}shutdown(){return this._shutdownOnce.call()}_shutdown(){return this._exporter.shutdown()}}});var zf,f1=p(()=>{lr();zf=class{constructor(){this._finishedLogRecords=[],this._stopped=!1}export(e,t){if(this._stopped)return t({code:jt.FAILED,error:new Error("Exporter has been stopped")});this._finishedLogRecords.push(...e),t({code:jt.SUCCESS})}shutdown(){return this._stopped=!0,this.reset(),Promise.resolve()}getFinishedLogRecords(){return this._finishedLogRecords}reset(){this._finishedLogRecords=[]}}});var $f,p1=p(()=>{P();lr();$f=class{constructor(e,t){var o,s,a,i;this._exporter=e,this._finishedLogRecords=[];let n=xn();this._maxExportBatchSize=(o=t==null?void 0:t.maxExportBatchSize)!==null&&o!==void 0?o:n.OTEL_BLRP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize=(s=t==null?void 0:t.maxQueueSize)!==null&&s!==void 0?s:n.OTEL_BLRP_MAX_QUEUE_SIZE,this._scheduledDelayMillis=(a=t==null?void 0:t.scheduledDelayMillis)!==null&&a!==void 0?a:n.OTEL_BLRP_SCHEDULE_DELAY,this._exportTimeoutMillis=(i=t==null?void 0:t.exportTimeoutMillis)!==null&&i!==void 0?i:n.OTEL_BLRP_EXPORT_TIMEOUT,this._shutdownOnce=new un(this._shutdown,this),this._maxExportBatchSize>this._maxQueueSize&&(S.warn("BatchLogRecordProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"),this._maxExportBatchSize=this._maxQueueSize)}onEmit(e){this._shutdownOnce.isCalled||this._addToBuffer(e)}forceFlush(){return this._shutdownOnce.isCalled?this._shutdownOnce.promise:this._flushAll()}shutdown(){return this._shutdownOnce.call()}async _shutdown(){this.onShutdown(),await this._flushAll(),await this._exporter.shutdown()}_addToBuffer(e){this._finishedLogRecords.length>=this._maxQueueSize||(this._finishedLogRecords.push(e),this._maybeStartTimer())}_flushAll(){return new Promise((e,t)=>{let o=[],s=Math.ceil(this._finishedLogRecords.length/this._maxExportBatchSize);for(let a=0;a<s;a++)o.push(this._flushOneBatch());Promise.all(o).then(()=>{e()}).catch(t)})}_flushOneBatch(){return this._clearTimer(),this._finishedLogRecords.length===0?Promise.resolve():new Promise((e,t)=>{Sl(this._export(this._finishedLogRecords.splice(0,this._maxExportBatchSize)),this._exportTimeoutMillis).then(()=>e()).catch(t)})}_maybeStartTimer(){this._timer===void 0&&(this._timer=setTimeout(()=>{this._flushOneBatch().then(()=>{this._finishedLogRecords.length>0&&(this._clearTimer(),this._maybeStartTimer())}).catch(e=>{Mr(e)})},this._scheduledDelayMillis),El(this._timer))}_clearTimer(){this._timer!==void 0&&(clearTimeout(this._timer),this._timer=void 0)}_export(e){let t=()=>Vf._export(this._exporter,e).then(s=>{var a;s.code!==jt.SUCCESS&&Mr((a=s.error)!==null&&a!==void 0?a:new Error(`BatchLogRecordProcessor: log record export failed (status ${s})`))}).catch(Mr),o=e.map(s=>s.resource).filter(s=>s.asyncAttributesPending);return o.length===0?t():Promise.all(o.map(s=>{var a;return(a=s.waitForAsyncAttributes)===null||a===void 0?void 0:a.call(s)})).then(t,Mr)}}});var es,d1=p(()=>{p1();es=class extends $f{onShutdown(){}}});var h1=p(()=>{d1()});var _1=p(()=>{h1()});var LT={};Ae(LT,{BatchLogRecordProcessor:()=>es,ConsoleLogRecordExporter:()=>Yf,InMemoryLogRecordExporter:()=>zf,LogRecord:()=>Qo,LoggerProvider:()=>jf,NoopLogRecordProcessor:()=>Zo,SimpleLogRecordProcessor:()=>Kf});var xT=p(()=>{l1();IT();bT();c1();u1();f1();_1()});var cr,Xf=p(()=>{(function(r){r[r.DELTA=0]="DELTA",r[r.CUMULATIVE=1]="CUMULATIVE"})(cr||(cr={}))});var lt,ts=p(()=>{(function(r){r[r.HISTOGRAM=0]="HISTOGRAM",r[r.EXPONENTIAL_HISTOGRAM=1]="EXPONENTIAL_HISTOGRAM",r[r.GAUGE=2]="GAUGE",r[r.SUM=3]="SUM"})(lt||(lt={}))});function E1(r){return r!=null}function Wf(r){let e=Object.keys(r);return e.length===0?"":(e=e.sort(),JSON.stringify(e.map(t=>[t,r[t]])))}function m1(r){var e,t;return`${r.name}:${(e=r.version)!==null&&e!==void 0?e:""}:${(t=r.schemaUrl)!==null&&t!==void 0?t:""}`}function wn(r,e){let t,o=new Promise(function(a,i){t=setTimeout(function(){i(new xi("Operation timed out."))},e)});return Promise.race([r,o]).then(s=>(clearTimeout(t),s),s=>{throw clearTimeout(t),s})}async function T1(r){return Promise.all(r.map(async e=>{try{return{status:"fulfilled",value:await e}}catch(t){return{status:"rejected",reason:t}}}))}function S1(r){return r.status==="rejected"}function MT(r,e){let t=[];return r.forEach(o=>{t.push(...e(o))}),t}function g1(r,e){if(r.size!==e.size)return!1;for(let t of r)if(!e.has(t))return!1;return!0}function v1(r,e){let t=0,o=r.length-1,s=r.length;for(;o>=t;){let a=t+Math.trunc((o-t)/2);r[a]<e?t=a+1:(s=a,o=a-1)}return s}function y1(r,e){return r.toLowerCase()===e.toLowerCase()}var xi,ur=p(()=>{xi=class r extends Error{constructor(e){super(e),Object.setPrototypeOf(this,r.prototype)}}});var Yt,rs=p(()=>{(function(r){r[r.DROP=0]="DROP",r[r.SUM=1]="SUM",r[r.LAST_VALUE=2]="LAST_VALUE",r[r.HISTOGRAM=3]="HISTOGRAM",r[r.EXPONENTIAL_HISTOGRAM=4]="EXPONENTIAL_HISTOGRAM"})(Yt||(Yt={}))});var gl,O1=p(()=>{rs();gl=class{constructor(){this.kind=Yt.DROP}createAccumulation(){}merge(e,t){}diff(e,t){}toMetricData(e,t,o,s){}}});function wr(r,e,t){var o,s,a,i;return fee(r)||S.warn(`Invalid metric name: "${r}". The metric name should be a ASCII string with a length no greater than 255 characters.`),{name:r,type:e,description:(o=t==null?void 0:t.description)!==null&&o!==void 0?o:"",unit:(s=t==null?void 0:t.unit)!==null&&s!==void 0?s:"",valueType:(a=t==null?void 0:t.valueType)!==null&&a!==void 0?a:Ot.DOUBLE,advice:(i=t==null?void 0:t.advice)!==null&&i!==void 0?i:{}}}function A1(r,e){var t,o;return{name:(t=r.name)!==null&&t!==void 0?t:e.name,description:(o=r.description)!==null&&o!==void 0?o:e.description,type:e.type,unit:e.unit,valueType:e.valueType,advice:e.advice}}function R1(r,e){return y1(r.name,e.name)&&r.unit===e.unit&&r.type===e.type&&r.valueType===e.valueType}function fee(r){return r.match(uee)!=null}var he,uee,fn=p(()=>{P();ur();(function(r){r.COUNTER="COUNTER",r.GAUGE="GAUGE",r.HISTOGRAM="HISTOGRAM",r.UP_DOWN_COUNTER="UP_DOWN_COUNTER",r.OBSERVABLE_COUNTER="OBSERVABLE_COUNTER",r.OBSERVABLE_GAUGE="OBSERVABLE_GAUGE",r.OBSERVABLE_UP_DOWN_COUNTER="OBSERVABLE_UP_DOWN_COUNTER"})(he||(he={}));uee=/^[a-z][a-z0-9_.\-/]{0,254}$/i});function pee(r){let e=r.map(()=>0);return e.push(0),{buckets:{boundaries:r,counts:e},sum:0,count:0,hasMinMax:!1,min:1/0,max:-1/0}}var ns,is,N1=p(()=>{rs();ts();fn();ur();ns=class{constructor(e,t,o=!0,s=pee(t)){this.startTime=e,this._boundaries=t,this._recordMinMax=o,this._current=s}record(e){if(Number.isNaN(e))return;this._current.count+=1,this._current.sum+=e,this._recordMinMax&&(this._current.min=Math.min(e,this._current.min),this._current.max=Math.max(e,this._current.max),this._current.hasMinMax=!0);let t=v1(this._boundaries,e);this._current.buckets.counts[t]+=1}setStartTime(e){this.startTime=e}toPointValue(){return this._current}},is=class{constructor(e,t){this._boundaries=e,this._recordMinMax=t,this.kind=Yt.HISTOGRAM}createAccumulation(e){return new ns(e,this._boundaries,this._recordMinMax)}merge(e,t){let o=e.toPointValue(),s=t.toPointValue(),a=o.buckets.counts,i=s.buckets.counts,n=new Array(a.length);for(let u=0;u<a.length;u++)n[u]=a[u]+i[u];let l=1/0,c=-1/0;return this._recordMinMax&&(o.hasMinMax&&s.hasMinMax?(l=Math.min(o.min,s.min),c=Math.max(o.max,s.max)):o.hasMinMax?(l=o.min,c=o.max):s.hasMinMax&&(l=s.min,c=s.max)),new ns(e.startTime,o.buckets.boundaries,this._recordMinMax,{buckets:{boundaries:o.buckets.boundaries,counts:n},count:o.count+s.count,sum:o.sum+s.sum,hasMinMax:this._recordMinMax&&(o.hasMinMax||s.hasMinMax),min:l,max:c})}diff(e,t){let o=e.toPointValue(),s=t.toPointValue(),a=o.buckets.counts,i=s.buckets.counts,n=new Array(a.length);for(let l=0;l<a.length;l++)n[l]=i[l]-a[l];return new ns(t.startTime,o.buckets.boundaries,this._recordMinMax,{buckets:{boundaries:o.buckets.boundaries,counts:n},count:s.count-o.count,sum:s.sum-o.sum,hasMinMax:!1,min:1/0,max:-1/0})}toMetricData(e,t,o,s){return{descriptor:e,aggregationTemporality:t,dataPointType:lt.HISTOGRAM,dataPoints:o.map(([a,i])=>{let n=i.toPointValue(),l=e.type===he.GAUGE||e.type===he.UP_DOWN_COUNTER||e.type===he.OBSERVABLE_GAUGE||e.type===he.OBSERVABLE_UP_DOWN_COUNTER;return{attributes:a,startTime:i.startTime,endTime:s,value:{min:n.hasMinMax?n.min:void 0,max:n.hasMinMax?n.max:void 0,sum:l?void 0:n.sum,buckets:n.buckets,count:n.count}}})}}}});var vl,wT,C1=p(()=>{vl=class r{constructor(e=new wT,t=0,o=0,s=0){this.backing=e,this.indexBase=t,this.indexStart=o,this.indexEnd=s}get offset(){return this.indexStart}get length(){return this.backing.length===0||this.indexEnd===this.indexStart&&this.at(0)===0?0:this.indexEnd-this.indexStart+1}counts(){return Array.from({length:this.length},(e,t)=>this.at(t))}at(e){let t=this.indexBase-this.indexStart;return e<t&&(e+=this.backing.length),e-=t,this.backing.countAt(e)}incrementBucket(e,t){this.backing.increment(e,t)}decrementBucket(e,t){this.backing.decrement(e,t)}trim(){for(let e=0;e<this.length;e++)if(this.at(e)!==0){this.indexStart+=e;break}else if(e===this.length-1){this.indexStart=this.indexEnd=this.indexBase=0;return}for(let e=this.length-1;e>=0;e--)if(this.at(e)!==0){this.indexEnd-=this.length-e-1;break}this._rotate()}downscale(e){this._rotate();let t=1+this.indexEnd-this.indexStart,o=1<<e,s=0,a=0;for(let i=this.indexStart;i<=this.indexEnd;){let n=i%o;n<0&&(n+=o);for(let l=n;l<o&&s<t;l++)this._relocateBucket(a,s),s++,i++;a++}this.indexStart>>=e,this.indexEnd>>=e,this.indexBase=this.indexStart}clone(){return new r(this.backing.clone(),this.indexBase,this.indexStart,this.indexEnd)}_rotate(){let e=this.indexBase-this.indexStart;e!==0&&(e>0?(this.backing.reverse(0,this.backing.length),this.backing.reverse(0,e),this.backing.reverse(e,this.backing.length)):(this.backing.reverse(0,this.backing.length),this.backing.reverse(0,this.backing.length+e)),this.indexBase=this.indexStart)}_relocateBucket(e,t){e!==t&&this.incrementBucket(e,this.backing.emptyBucket(t))}},wT=class r{constructor(e=[0]){this._counts=e}get length(){return this._counts.length}countAt(e){return this._counts[e]}growTo(e,t,o){let s=new Array(e).fill(0);s.splice(o,this._counts.length-t,...this._counts.slice(t)),s.splice(0,t,...this._counts.slice(0,t)),this._counts=s}reverse(e,t){let o=Math.floor((e+t)/2)-e;for(let s=0;s<o;s++){let a=this._counts[e+s];this._counts[e+s]=this._counts[t-s-1],this._counts[t-s-1]=a}}emptyBucket(e){let t=this._counts[e];return this._counts[e]=0,t}increment(e,t){this._counts[e]+=t}decrement(e,t){this._counts[e]>=t?this._counts[e]-=t:this._counts[e]=0}clone(){return new r([...this._counts])}}});function Jf(r){let e=new DataView(new ArrayBuffer(8));return e.setFloat64(0,r),((e.getUint32(0)&2146435072)>>20)-1023}function Qf(r){let e=new DataView(new ArrayBuffer(8));e.setFloat64(0,r);let t=e.getUint32(0),o=e.getUint32(4);return(t&1048575)*Math.pow(2,32)+o}var yl,DT=p(()=>{yl=Math.pow(2,-1022)});function Ol(r,e){return r===0||r===Number.POSITIVE_INFINITY||r===Number.NEGATIVE_INFINITY||Number.isNaN(r)?r:r*Math.pow(2,e)}function I1(r){return r--,r|=r>>1,r|=r>>2,r|=r>>4,r|=r>>8,r|=r>>16,r++,r}var Zf=p(()=>{});var Dr,ep=p(()=>{Dr=class extends Error{}});var tp,L1=p(()=>{DT();Zf();ep();tp=class{constructor(e){this._shift=-e}mapToIndex(e){if(e<yl)return this._minNormalLowerBoundaryIndex();let t=Jf(e),o=this._rightShift(Qf(e)-1,52);return t+o>>this._shift}lowerBoundary(e){let t=this._minNormalLowerBoundaryIndex();if(e<t)throw new Dr(`underflow: ${e} is < minimum lower boundary: ${t}`);let o=this._maxNormalLowerBoundaryIndex();if(e>o)throw new Dr(`overflow: ${e} is > maximum lower boundary: ${o}`);return Ol(1,e<<this._shift)}get scale(){return this._shift===0?0:-this._shift}_minNormalLowerBoundaryIndex(){let e=-1022>>this._shift;return this._shift<2&&e--,e}_maxNormalLowerBoundaryIndex(){return 1023>>this._shift}_rightShift(e,t){return Math.floor(e*Math.pow(2,-t))}}});var rp,x1=p(()=>{DT();Zf();ep();rp=class{constructor(e){this._scale=e,this._scaleFactor=Ol(Math.LOG2E,e),this._inverseFactor=Ol(Math.LN2,-e)}mapToIndex(e){if(e<=yl)return this._minNormalLowerBoundaryIndex()-1;if(Qf(e)===0)return(Jf(e)<<this._scale)-1;let t=Math.floor(Math.log(e)*this._scaleFactor),o=this._maxNormalLowerBoundaryIndex();return t>=o?o:t}lowerBoundary(e){let t=this._maxNormalLowerBoundaryIndex();if(e>=t){if(e===t)return 2*Math.exp((e-(1<<this._scale))/this._scaleFactor);throw new Dr(`overflow: ${e} is > maximum lower boundary: ${t}`)}let o=this._minNormalLowerBoundaryIndex();if(e<=o){if(e===o)return yl;if(e===o-1)return Math.exp((e+(1<<this._scale))/this._scaleFactor)/2;throw new Dr(`overflow: ${e} is < minimum lower boundary: ${o}`)}return Math.exp(e*this._inverseFactor)}get scale(){return this._scale}_minNormalLowerBoundaryIndex(){return-1022<<this._scale}_maxNormalLowerBoundaryIndex(){return(1024<<this._scale)-1}}});function BT(r){if(r>w1||r<M1)throw new Dr(`expected scale >= ${M1} && <= ${w1}, got: ${r}`);return hee[r+10]}var M1,w1,hee,D1=p(()=>{L1();x1();ep();M1=-10,w1=20,hee=Array.from({length:31},(r,e)=>e>10?new rp(e-10):new tp(e-10))});var os,_ee,Eee,VT,np,Al,U1=p(()=>{rs();ts();P();fn();C1();D1();Zf();os=class r{constructor(e,t){this.low=e,this.high=t}static combine(e,t){return new r(Math.min(e.low,t.low),Math.max(e.high,t.high))}},_ee=20,Eee=160,VT=2,np=class r{constructor(e=e,t=Eee,o=!0,s=0,a=0,i=0,n=Number.POSITIVE_INFINITY,l=Number.NEGATIVE_INFINITY,c=new vl,u=new vl,f=BT(_ee)){this.startTime=e,this._maxSize=t,this._recordMinMax=o,this._sum=s,this._count=a,this._zeroCount=i,this._min=n,this._max=l,this._positive=c,this._negative=u,this._mapping=f,this._maxSize<VT&&(S.warn(`Exponential Histogram Max Size set to ${this._maxSize},                 changing to the minimum size of: ${VT}`),this._maxSize=VT)}record(e){this.updateByIncrement(e,1)}setStartTime(e){this.startTime=e}toPointValue(){return{hasMinMax:this._recordMinMax,min:this.min,max:this.max,sum:this.sum,positive:{offset:this.positive.offset,bucketCounts:this.positive.counts()},negative:{offset:this.negative.offset,bucketCounts:this.negative.counts()},count:this.count,scale:this.scale,zeroCount:this.zeroCount}}get sum(){return this._sum}get min(){return this._min}get max(){return this._max}get count(){return this._count}get zeroCount(){return this._zeroCount}get scale(){return this._count===this._zeroCount?0:this._mapping.scale}get positive(){return this._positive}get negative(){return this._negative}updateByIncrement(e,t){if(!Number.isNaN(e)){if(e>this._max&&(this._max=e),e<this._min&&(this._min=e),this._count+=t,e===0){this._zeroCount+=t;return}this._sum+=e*t,e>0?this._updateBuckets(this._positive,e,t):this._updateBuckets(this._negative,-e,t)}}merge(e){this._count===0?(this._min=e.min,this._max=e.max):e.count!==0&&(e.min<this.min&&(this._min=e.min),e.max>this.max&&(this._max=e.max)),this.startTime=e.startTime,this._sum+=e.sum,this._count+=e.count,this._zeroCount+=e.zeroCount;let t=this._minScale(e);this._downscale(this.scale-t),this._mergeBuckets(this.positive,e,e.positive,t),this._mergeBuckets(this.negative,e,e.negative,t)}diff(e){this._min=1/0,this._max=-1/0,this._sum-=e.sum,this._count-=e.count,this._zeroCount-=e.zeroCount;let t=this._minScale(e);this._downscale(this.scale-t),this._diffBuckets(this.positive,e,e.positive,t),this._diffBuckets(this.negative,e,e.negative,t)}clone(){return new r(this.startTime,this._maxSize,this._recordMinMax,this._sum,this._count,this._zeroCount,this._min,this._max,this.positive.clone(),this.negative.clone(),this._mapping)}_updateBuckets(e,t,o){let s=this._mapping.mapToIndex(t),a=!1,i=0,n=0;if(e.length===0?(e.indexStart=s,e.indexEnd=e.indexStart,e.indexBase=e.indexStart):s<e.indexStart&&e.indexEnd-s>=this._maxSize?(a=!0,n=s,i=e.indexEnd):s>e.indexEnd&&s-e.indexStart>=this._maxSize&&(a=!0,n=e.indexStart,i=s),a){let l=this._changeScale(i,n);this._downscale(l),s=this._mapping.mapToIndex(t)}this._incrementIndexBy(e,s,o)}_incrementIndexBy(e,t,o){if(o===0)return;if(e.length===0&&(e.indexStart=e.indexEnd=e.indexBase=t),t<e.indexStart){let a=e.indexEnd-t;a>=e.backing.length&&this._grow(e,a+1),e.indexStart=t}else if(t>e.indexEnd){let a=t-e.indexStart;a>=e.backing.length&&this._grow(e,a+1),e.indexEnd=t}let s=t-e.indexBase;s<0&&(s+=e.backing.length),e.incrementBucket(s,o)}_grow(e,t){let o=e.backing.length,s=e.indexBase-e.indexStart,a=o-s,i=I1(t);i>this._maxSize&&(i=this._maxSize);let n=i-s;e.backing.growTo(i,a,n)}_changeScale(e,t){let o=0;for(;e-t>=this._maxSize;)e>>=1,t>>=1,o++;return o}_downscale(e){if(e===0)return;if(e<0)throw new Error(`impossible change of scale: ${this.scale}`);let t=this._mapping.scale-e;this._positive.downscale(e),this._negative.downscale(e),this._mapping=BT(t)}_minScale(e){let t=Math.min(this.scale,e.scale),o=os.combine(this._highLowAtScale(this.positive,this.scale,t),this._highLowAtScale(e.positive,e.scale,t)),s=os.combine(this._highLowAtScale(this.negative,this.scale,t),this._highLowAtScale(e.negative,e.scale,t));return Math.min(t-this._changeScale(o.high,o.low),t-this._changeScale(s.high,s.low))}_highLowAtScale(e,t,o){if(e.length===0)return new os(0,-1);let s=t-o;return new os(e.indexStart>>s,e.indexEnd>>s)}_mergeBuckets(e,t,o,s){let a=o.offset,i=t.scale-s;for(let n=0;n<o.length;n++)this._incrementIndexBy(e,a+n>>i,o.at(n))}_diffBuckets(e,t,o,s){let a=o.offset,i=t.scale-s;for(let n=0;n<o.length;n++){let c=(a+n>>i)-e.indexBase;c<0&&(c+=e.backing.length),e.decrementBucket(c,o.at(n))}e.trim()}},Al=class{constructor(e,t){this._maxSize=e,this._recordMinMax=t,this.kind=Yt.EXPONENTIAL_HISTOGRAM}createAccumulation(e){return new np(e,this._maxSize,this._recordMinMax)}merge(e,t){let o=t.clone();return o.merge(e),o}diff(e,t){let o=t.clone();return o.diff(e),o}toMetricData(e,t,o,s){return{descriptor:e,aggregationTemporality:t,dataPointType:lt.EXPONENTIAL_HISTOGRAM,dataPoints:o.map(([a,i])=>{let n=i.toPointValue(),l=e.type===he.GAUGE||e.type===he.UP_DOWN_COUNTER||e.type===he.OBSERVABLE_GAUGE||e.type===he.OBSERVABLE_UP_DOWN_COUNTER;return{attributes:a,startTime:i.startTime,endTime:s,value:{min:n.hasMinMax?n.min:void 0,max:n.hasMinMax?n.max:void 0,sum:l?void 0:n.sum,positive:{offset:n.positive.offset,bucketCounts:n.positive.bucketCounts},negative:{offset:n.negative.offset,bucketCounts:n.negative.bucketCounts},count:n.count,scale:n.scale,zeroCount:n.zeroCount}}})}}}});function k1(r){return r.setValue(mee,!0)}var mee,B1=p(()=>{P();mee=De("OpenTelemetry SDK Context Key SUPPRESS_TRACING")});function V1(){return r=>{S.error(Tee(r))}}function Tee(r){return typeof r=="string"?r:JSON.stringify(See(r))}function See(r){let e={},t=r;for(;t!==null;)Object.getOwnPropertyNames(t).forEach(o=>{if(e[o])return;let s=t[o];s&&(e[o]=String(s))}),t=Object.getPrototypeOf(t);return e}var F1=p(()=>{P()});function ip(r){try{gee(r)}catch{}}var gee,G1=p(()=>{F1();gee=V1()});var H1,q1=p(()=>{H1="1.29.0"});var Mi,j1=p(()=>{q1();Ve();Mi={[Se]:"opentelemetry",[st]:"node",[ge]:wt,[ve]:H1}});function Rl(r){r.unref()}var Y1=p(()=>{});var K1=p(()=>{j1();Y1()});var z1=p(()=>{K1()});function wi(r){let e=r/1e3,t=Math.trunc(e),o=Math.round(r%1e3*Iee);return[t,o]}function ss(r){return r[0]*1e6+r[1]/1e3}var Cee,Pee,Iee,EPe,$1=p(()=>{Cee=9,Pee=6,Iee=Math.pow(10,Pee),EPe=Math.pow(10,Cee)});var fr,X1=p(()=>{(function(r){r[r.SUCCESS=0]="SUCCESS",r[r.FAILED=1]="FAILED"})(fr||(fr={}))});function W1(r,e){return new Promise(t=>{me.with(k1(me.active()),()=>{r.export(e,o=>{t(o)})})})}var J1=p(()=>{P();B1()});var Q1,Dn=p(()=>{G1();$1();X1();z1();J1();Q1={_export:W1}});var as,Nl,Z1=p(()=>{rs();Dn();ts();as=class{constructor(e,t=0,o=[0,0]){this.startTime=e,this._current=t,this.sampleTime=o}record(e){this._current=e,this.sampleTime=wi(Date.now())}setStartTime(e){this.startTime=e}toPointValue(){return this._current}},Nl=class{constructor(){this.kind=Yt.LAST_VALUE}createAccumulation(e){return new as(e)}merge(e,t){let o=ss(t.sampleTime)>=ss(e.sampleTime)?t:e;return new as(e.startTime,o.toPointValue(),o.sampleTime)}diff(e,t){let o=ss(t.sampleTime)>=ss(e.sampleTime)?t:e;return new as(t.startTime,o.toPointValue(),o.sampleTime)}toMetricData(e,t,o,s){return{descriptor:e,aggregationTemporality:t,dataPointType:lt.GAUGE,dataPoints:o.map(([a,i])=>({attributes:a,startTime:i.startTime,endTime:s,value:i.toPointValue()}))}}}});var Un,ls,eD=p(()=>{rs();ts();Un=class{constructor(e,t,o=0,s=!1){this.startTime=e,this.monotonic=t,this._current=o,this.reset=s}record(e){this.monotonic&&e<0||(this._current+=e)}setStartTime(e){this.startTime=e}toPointValue(){return this._current}},ls=class{constructor(e){this.monotonic=e,this.kind=Yt.SUM}createAccumulation(e){return new Un(e,this.monotonic)}merge(e,t){let o=e.toPointValue(),s=t.toPointValue();return t.reset?new Un(t.startTime,this.monotonic,s,t.reset):new Un(e.startTime,this.monotonic,o+s)}diff(e,t){let o=e.toPointValue(),s=t.toPointValue();return this.monotonic&&o>s?new Un(t.startTime,this.monotonic,s,!0):new Un(t.startTime,this.monotonic,s-o)}toMetricData(e,t,o,s){return{descriptor:e,aggregationTemporality:t,dataPointType:lt.SUM,dataPoints:o.map(([a,i])=>({attributes:a,startTime:i.startTime,endTime:s,value:i.toPointValue()})),isMonotonic:this.monotonic}}}});var tD=p(()=>{O1();N1();U1();Z1();eD()});var mt,cs,Di,us,fs,Cl,Pl,Il,rD,nD,iD,oD,bee,Lee,op=p(()=>{P();tD();fn();mt=class{static Drop(){return rD}static Sum(){return nD}static LastValue(){return iD}static Histogram(){return oD}static ExponentialHistogram(){return bee}static Default(){return Lee}},cs=class r extends mt{createAggregator(e){return r.DEFAULT_INSTANCE}};cs.DEFAULT_INSTANCE=new gl;Di=class r extends mt{createAggregator(e){switch(e.type){case he.COUNTER:case he.OBSERVABLE_COUNTER:case he.HISTOGRAM:return r.MONOTONIC_INSTANCE;default:return r.NON_MONOTONIC_INSTANCE}}};Di.MONOTONIC_INSTANCE=new ls(!0);Di.NON_MONOTONIC_INSTANCE=new ls(!1);us=class r extends mt{createAggregator(e){return r.DEFAULT_INSTANCE}};us.DEFAULT_INSTANCE=new Nl;fs=class r extends mt{createAggregator(e){return r.DEFAULT_INSTANCE}};fs.DEFAULT_INSTANCE=new is([0,5,10,25,50,75,100,250,500,750,1e3,2500,5e3,7500,1e4],!0);Cl=class extends mt{constructor(e,t=!0){if(super(),this._recordMinMax=t,e==null)throw new Error("ExplicitBucketHistogramAggregation should be created with explicit boundaries, if a single bucket histogram is required, please pass an empty array");e=e.concat(),e=e.sort((a,i)=>a-i);let o=e.lastIndexOf(-1/0),s=e.indexOf(1/0);s===-1&&(s=void 0),this._boundaries=e.slice(o+1,s)}createAggregator(e){return new is(this._boundaries,this._recordMinMax)}},Pl=class extends mt{constructor(e=160,t=!0){super(),this._maxSize=e,this._recordMinMax=t}createAggregator(e){return new Al(this._maxSize,this._recordMinMax)}},Il=class extends mt{_resolve(e){switch(e.type){case he.COUNTER:case he.UP_DOWN_COUNTER:case he.OBSERVABLE_COUNTER:case he.OBSERVABLE_UP_DOWN_COUNTER:return nD;case he.GAUGE:case he.OBSERVABLE_GAUGE:return iD;case he.HISTOGRAM:return e.advice.explicitBucketBoundaries?new Cl(e.advice.explicitBucketBoundaries):oD}return S.warn(`Unable to recognize instrument type: ${e.type}`),rD}createAggregator(e){return this._resolve(e).createAggregator(e)}},rD=new cs,nD=new Di,iD=new us,oD=new fs,bee=new Pl,Lee=new Il});var sD,sp,FT=p(()=>{op();Xf();sD=r=>mt.Default(),sp=r=>cr.CUMULATIVE});var ps,GT=p(()=>{P();ur();FT();ps=class{constructor(e){var t,o,s;this._shutdown=!1,this._aggregationSelector=(t=e==null?void 0:e.aggregationSelector)!==null&&t!==void 0?t:sD,this._aggregationTemporalitySelector=(o=e==null?void 0:e.aggregationTemporalitySelector)!==null&&o!==void 0?o:sp,this._metricProducers=(s=e==null?void 0:e.metricProducers)!==null&&s!==void 0?s:[],this._cardinalitySelector=e==null?void 0:e.cardinalitySelector}setMetricProducer(e){if(this._sdkMetricProducer)throw new Error("MetricReader can not be bound to a MeterProvider again.");this._sdkMetricProducer=e,this.onInitialized()}selectAggregation(e){return this._aggregationSelector(e)}selectAggregationTemporality(e){return this._aggregationTemporalitySelector(e)}selectCardinalityLimit(e){return this._cardinalitySelector?this._cardinalitySelector(e):2e3}onInitialized(){}async collect(e){if(this._sdkMetricProducer===void 0)throw new Error("MetricReader is not bound to a MetricProducer");if(this._shutdown)throw new Error("MetricReader is shutdown");let[t,...o]=await Promise.all([this._sdkMetricProducer.collect({timeoutMillis:e==null?void 0:e.timeoutMillis}),...this._metricProducers.map(n=>n.collect({timeoutMillis:e==null?void 0:e.timeoutMillis}))]),s=t.errors.concat(MT(o,n=>n.errors)),a=t.resourceMetrics.resource,i=t.resourceMetrics.scopeMetrics.concat(MT(o,n=>n.resourceMetrics.scopeMetrics));return{resourceMetrics:{resource:a,scopeMetrics:i},errors:s}}async shutdown(e){if(this._shutdown){S.error("Cannot call shutdown twice.");return}(e==null?void 0:e.timeoutMillis)==null?await this.onShutdown():await wn(this.onShutdown(),e.timeoutMillis),this._shutdown=!0}async forceFlush(e){if(this._shutdown){S.warn("Cannot forceFlush on already shutdown MetricReader.");return}if((e==null?void 0:e.timeoutMillis)==null){await this.onForceFlush();return}await wn(this.onForceFlush(),e.timeoutMillis)}}});var ap,aD=p(()=>{P();Dn();GT();ur();ap=class extends ps{constructor(e){var t,o,s,a;if(super({aggregationSelector:(t=e.exporter.selectAggregation)===null||t===void 0?void 0:t.bind(e.exporter),aggregationTemporalitySelector:(o=e.exporter.selectAggregationTemporality)===null||o===void 0?void 0:o.bind(e.exporter),metricProducers:e.metricProducers}),e.exportIntervalMillis!==void 0&&e.exportIntervalMillis<=0)throw Error("exportIntervalMillis must be greater than 0");if(e.exportTimeoutMillis!==void 0&&e.exportTimeoutMillis<=0)throw Error("exportTimeoutMillis must be greater than 0");if(e.exportTimeoutMillis!==void 0&&e.exportIntervalMillis!==void 0&&e.exportIntervalMillis<e.exportTimeoutMillis)throw Error("exportIntervalMillis must be greater than or equal to exportTimeoutMillis");this._exportInterval=(s=e.exportIntervalMillis)!==null&&s!==void 0?s:6e4,this._exportTimeout=(a=e.exportTimeoutMillis)!==null&&a!==void 0?a:3e4,this._exporter=e.exporter}async _runOnce(){try{await wn(this._doRun(),this._exportTimeout)}catch(e){if(e instanceof xi){S.error("Export took longer than %s milliseconds and timed out.",this._exportTimeout);return}ip(e)}}async _doRun(){var e,t;let{resourceMetrics:o,errors:s}=await this.collect({timeoutMillis:this._exportTimeout});if(s.length>0&&S.error("PeriodicExportingMetricReader: metrics collection errors",...s),o.resource.asyncAttributesPending)try{await((t=(e=o.resource).waitForAsyncAttributes)===null||t===void 0?void 0:t.call(e))}catch(i){S.debug("Error while resolving async portion of resource: ",i),ip(i)}let a=await Q1._export(this._exporter,o);if(a.code!==fr.SUCCESS)throw new Error(`PeriodicExportingMetricReader: metrics export failed (error ${a.error})`)}onInitialized(){this._interval=setInterval(()=>{this._runOnce()},this._exportInterval),Rl(this._interval)}async onForceFlush(){await this._runOnce(),await this._exporter.forceFlush()}async onShutdown(){this._interval&&clearInterval(this._interval),await this._exporter.shutdown()}}});var lp,lD=p(()=>{Dn();lp=class{constructor(e){this._shutdown=!1,this._metrics=[],this._aggregationTemporality=e}export(e,t){if(this._shutdown){setTimeout(()=>t({code:fr.FAILED}),0);return}this._metrics.push(e),setTimeout(()=>t({code:fr.SUCCESS}),0)}getMetrics(){return this._metrics}forceFlush(){return Promise.resolve()}reset(){this._metrics=[]}selectAggregationTemporality(e){return this._aggregationTemporality}shutdown(){return this._shutdown=!0,Promise.resolve()}}});var cp,cD=p(()=>{Dn();FT();cp=class r{constructor(e){var t;this._shutdown=!1,this._temporalitySelector=(t=e==null?void 0:e.temporalitySelector)!==null&&t!==void 0?t:sp}export(e,t){if(this._shutdown){setImmediate(t,{code:fr.FAILED});return}return r._sendMetrics(e,t)}forceFlush(){return Promise.resolve()}selectAggregationTemporality(e){return this._temporalitySelector(e)}shutdown(){return this._shutdown=!0,Promise.resolve()}static _sendMetrics(e,t){for(let o of e.scopeMetrics)for(let s of o.metrics)console.dir({descriptor:s.descriptor,dataPointType:s.dataPointType,dataPoints:s.dataPoints},{depth:null});t({code:fr.SUCCESS})}}});function up(){return`unknown_service:${process.argv0}`}var uD=p(()=>{});var fD=p(()=>{uD()});var pD=p(()=>{fD()});var kn,dD=p(()=>{P();Ve();Dn();pD();kn=class r{constructor(e,t){var o;this._attributes=e,this.asyncAttributesPending=t!=null,this._syncAttributes=(o=this._attributes)!==null&&o!==void 0?o:{},this._asyncAttributesPromise=t==null?void 0:t.then(s=>(this._attributes=Object.assign({},this._attributes,s),this.asyncAttributesPending=!1,s),s=>(S.debug("a resource's async attributes promise rejected: %s",s),this.asyncAttributesPending=!1,{}))}static empty(){return r.EMPTY}static default(){return new r({[at]:up(),[ge]:Mi[ge],[Se]:Mi[Se],[ve]:Mi[ve]})}get attributes(){var e;return this.asyncAttributesPending&&S.error("Accessing resource attributes before async attributes settled"),(e=this._attributes)!==null&&e!==void 0?e:{}}async waitForAsyncAttributes(){this.asyncAttributesPending&&await this._asyncAttributesPromise}merge(e){var t;if(!e)return this;let o=Object.assign(Object.assign({},this._syncAttributes),(t=e._syncAttributes)!==null&&t!==void 0?t:e.attributes);if(!this._asyncAttributesPromise&&!e._asyncAttributesPromise)return new r(o);let s=Promise.all([this._asyncAttributesPromise,e._asyncAttributesPromise]).then(([a,i])=>{var n;return Object.assign(Object.assign(Object.assign(Object.assign({},this._syncAttributes),a),(n=e._syncAttributes)!==null&&n!==void 0?n:e.attributes),i)});return new r(o,s)}};kn.EMPTY=new kn({})});var hD=p(()=>{dD()});var fp,_D=p(()=>{fp=class{constructor(){this._registeredViews=[]}addView(e){this._registeredViews.push(e)}findViews(e,t){return this._registeredViews.filter(s=>this._matchInstrument(s.instrumentSelector,e)&&this._matchMeter(s.meterSelector,t))}_matchInstrument(e,t){return(e.getType()===void 0||t.type===e.getType())&&e.getNameFilter().match(t.name)&&e.getUnitFilter().match(t.unit)}_matchMeter(e,t){return e.getNameFilter().match(t.name)&&(t.version===void 0||e.getVersionFilter().match(t.version))&&(t.schemaUrl===void 0||e.getSchemaUrlFilter().match(t.schemaUrl))}}});function bl(r){return r instanceof hs}var ds,pp,dp,hp,_p,hs,Ep,mp,Tp,Sp=p(()=>{P();Dn();ds=class{constructor(e,t){this._writableMetricStorage=e,this._descriptor=t}_record(e,t={},o=me.active()){if(typeof e!="number"){S.warn(`non-number value provided to metric ${this._descriptor.name}: ${e}`);return}this._descriptor.valueType===Ot.INT&&!Number.isInteger(e)&&(S.warn(`INT value type cannot accept a floating-point value for ${this._descriptor.name}, ignoring the fractional digits.`),e=Math.trunc(e),!Number.isInteger(e))||this._writableMetricStorage.record(e,t,o,wi(Date.now()))}},pp=class extends ds{add(e,t,o){this._record(e,t,o)}},dp=class extends ds{add(e,t,o){if(e<0){S.warn(`negative value provided to counter ${this._descriptor.name}: ${e}`);return}this._record(e,t,o)}},hp=class extends ds{record(e,t,o){this._record(e,t,o)}},_p=class extends ds{record(e,t,o){if(e<0){S.warn(`negative value provided to histogram ${this._descriptor.name}: ${e}`);return}this._record(e,t,o)}},hs=class{constructor(e,t,o){this._observableRegistry=o,this._descriptor=e,this._metricStorages=t}addCallback(e){this._observableRegistry.addCallback(e,this)}removeCallback(e){this._observableRegistry.removeCallback(e,this)}},Ep=class extends hs{},mp=class extends hs{},Tp=class extends hs{}});var gp,ED=p(()=>{fn();Sp();gp=class{constructor(e){this._meterSharedState=e}createGauge(e,t){let o=wr(e,he.GAUGE,t),s=this._meterSharedState.registerMetricStorage(o);return new hp(s,o)}createHistogram(e,t){let o=wr(e,he.HISTOGRAM,t),s=this._meterSharedState.registerMetricStorage(o);return new _p(s,o)}createCounter(e,t){let o=wr(e,he.COUNTER,t),s=this._meterSharedState.registerMetricStorage(o);return new dp(s,o)}createUpDownCounter(e,t){let o=wr(e,he.UP_DOWN_COUNTER,t),s=this._meterSharedState.registerMetricStorage(o);return new pp(s,o)}createObservableGauge(e,t){let o=wr(e,he.OBSERVABLE_GAUGE,t),s=this._meterSharedState.registerAsyncMetricStorage(o);return new mp(o,s,this._meterSharedState.observableRegistry)}createObservableCounter(e,t){let o=wr(e,he.OBSERVABLE_COUNTER,t),s=this._meterSharedState.registerAsyncMetricStorage(o);return new Ep(o,s,this._meterSharedState.observableRegistry)}createObservableUpDownCounter(e,t){let o=wr(e,he.OBSERVABLE_UP_DOWN_COUNTER,t),s=this._meterSharedState.registerAsyncMetricStorage(o);return new Tp(o,s,this._meterSharedState.observableRegistry)}addBatchObservableCallback(e,t){this._meterSharedState.observableRegistry.addBatchCallback(e,t)}removeBatchObservableCallback(e,t){this._meterSharedState.observableRegistry.removeBatchCallback(e,t)}}});var _s,HT=p(()=>{fn();_s=class{constructor(e){this._instrumentDescriptor=e}getInstrumentDescriptor(){return this._instrumentDescriptor}updateDescription(e){this._instrumentDescriptor=wr(this._instrumentDescriptor.name,this._instrumentDescriptor.type,{description:e,valueType:this._instrumentDescriptor.valueType,unit:this._instrumentDescriptor.unit,advice:this._instrumentDescriptor.advice})}}});var qT,Dt,Ll=p(()=>{ur();qT=class{constructor(e){this._hash=e,this._valueMap=new Map,this._keyMap=new Map}get(e,t){return t??(t=this._hash(e)),this._valueMap.get(t)}getOrDefault(e,t){let o=this._hash(e);if(this._valueMap.has(o))return this._valueMap.get(o);let s=t();return this._keyMap.has(o)||this._keyMap.set(o,e),this._valueMap.set(o,s),s}set(e,t,o){o??(o=this._hash(e)),this._keyMap.has(o)||this._keyMap.set(o,e),this._valueMap.set(o,t)}has(e,t){return t??(t=this._hash(e)),this._valueMap.has(t)}*keys(){let e=this._keyMap.entries(),t=e.next();for(;t.done!==!0;)yield[t.value[1],t.value[0]],t=e.next()}*entries(){let e=this._valueMap.entries(),t=e.next();for(;t.done!==!0;)yield[this._keyMap.get(t.value[0]),t.value[1],t.value[0]],t=e.next()}get size(){return this._valueMap.size}},Dt=class extends qT{constructor(){super(Wf)}}});var Es,jT=p(()=>{ur();Ll();Es=class{constructor(e,t){this._aggregator=e,this._activeCollectionStorage=new Dt,this._cumulativeMemoStorage=new Dt,this._overflowAttributes={"otel.metric.overflow":!0},this._cardinalityLimit=(t??2e3)-1,this._overflowHashCode=Wf(this._overflowAttributes)}record(e,t,o,s){let a=this._activeCollectionStorage.get(t);if(!a){if(this._activeCollectionStorage.size>=this._cardinalityLimit){let i=this._activeCollectionStorage.getOrDefault(this._overflowAttributes,()=>this._aggregator.createAccumulation(s));i==null||i.record(e);return}a=this._aggregator.createAccumulation(s),this._activeCollectionStorage.set(t,a)}a==null||a.record(e)}batchCumulate(e,t){Array.from(e.entries()).forEach(([o,s,a])=>{let i=this._aggregator.createAccumulation(t);i==null||i.record(s);let n=i;if(this._cumulativeMemoStorage.has(o,a)){let l=this._cumulativeMemoStorage.get(o,a);n=this._aggregator.diff(l,i)}else if(this._cumulativeMemoStorage.size>=this._cardinalityLimit&&(o=this._overflowAttributes,a=this._overflowHashCode,this._cumulativeMemoStorage.has(o,a))){let l=this._cumulativeMemoStorage.get(o,a);n=this._aggregator.diff(l,i)}if(this._activeCollectionStorage.has(o,a)){let l=this._activeCollectionStorage.get(o,a);n=this._aggregator.merge(l,n)}this._cumulativeMemoStorage.set(o,i,a),this._activeCollectionStorage.set(o,n,a)})}collect(){let e=this._activeCollectionStorage;return this._activeCollectionStorage=new Dt,e}}});function xee(r){return Array.from(r.entries())}var ms,YT=p(()=>{Xf();Ll();ms=class r{constructor(e,t){this._aggregator=e,this._unreportedAccumulations=new Map,this._reportHistory=new Map,t.forEach(o=>{this._unreportedAccumulations.set(o,[])})}buildMetrics(e,t,o,s){this._stashAccumulations(o);let a=this._getMergedUnreportedAccumulations(e),i=a,n;if(this._reportHistory.has(e)){let c=this._reportHistory.get(e),u=c.collectionTime;n=c.aggregationTemporality,n===cr.CUMULATIVE?i=r.merge(c.accumulations,a,this._aggregator):i=r.calibrateStartTime(c.accumulations,a,u)}else n=e.selectAggregationTemporality(t.type);this._reportHistory.set(e,{accumulations:i,collectionTime:s,aggregationTemporality:n});let l=xee(i);if(l.length!==0)return this._aggregator.toMetricData(t,n,l,s)}_stashAccumulations(e){let t=this._unreportedAccumulations.keys();for(let o of t){let s=this._unreportedAccumulations.get(o);s===void 0&&(s=[],this._unreportedAccumulations.set(o,s)),s.push(e)}}_getMergedUnreportedAccumulations(e){let t=new Dt,o=this._unreportedAccumulations.get(e);if(this._unreportedAccumulations.set(e,[]),o===void 0)return t;for(let s of o)t=r.merge(t,s,this._aggregator);return t}static merge(e,t,o){let s=e,a=t.entries(),i=a.next();for(;i.done!==!0;){let[n,l,c]=i.value;if(e.has(n,c)){let u=e.get(n,c),f=o.merge(u,l);s.set(n,f,c)}else s.set(n,l,c);i=a.next()}return s}static calibrateStartTime(e,t,o){for(let[s,a]of e.keys()){let i=t.get(s,a);i==null||i.setStartTime(o)}return t}}});var vp,mD=p(()=>{HT();jT();YT();Ll();vp=class extends _s{constructor(e,t,o,s,a){super(e),this._attributesProcessor=o,this._aggregationCardinalityLimit=a,this._deltaMetricStorage=new Es(t,this._aggregationCardinalityLimit),this._temporalMetricStorage=new ms(t,s)}record(e,t){let o=new Dt;Array.from(e.entries()).forEach(([s,a])=>{o.set(this._attributesProcessor.process(s),a)}),this._deltaMetricStorage.batchCumulate(o,t)}collect(e,t){let o=this._deltaMetricStorage.collect();return this._temporalMetricStorage.buildMetrics(e,this._instrumentDescriptor,o,t)}}});function KT(r,e){let t="";return r.unit!==e.unit&&(t+=`	- Unit '${r.unit}' does not match '${e.unit}'
`),r.type!==e.type&&(t+=`	- Type '${r.type}' does not match '${e.type}'
`),r.valueType!==e.valueType&&(t+=`	- Value Type '${r.valueType}' does not match '${e.valueType}'
`),r.description!==e.description&&(t+=`	- Description '${r.description}' does not match '${e.description}'
`),t}function Mee(r,e){return`	- use valueType '${r.valueType}' on instrument creation or use an instrument name other than '${e.name}'`}function wee(r,e){return`	- use unit '${r.unit}' on instrument creation or use an instrument name other than '${e.name}'`}function Dee(r,e){let t={name:e.name,type:e.type,unit:e.unit},o=JSON.stringify(t);return`	- create a new view with a name other than '${r.name}' and InstrumentSelector '${o}'`}function Uee(r,e){let t={name:e.name,type:e.type,unit:e.unit},o=JSON.stringify(t);return`	- create a new view with a name other than '${r.name}' and InstrumentSelector '${o}'
    	- OR - create a new view with the name ${r.name} and description '${r.description}' and InstrumentSelector ${o}
    	- OR - create a new view with the name ${e.name} and description '${r.description}' and InstrumentSelector ${o}`}function zT(r,e){return r.valueType!==e.valueType?Mee(r,e):r.unit!==e.unit?wee(r,e):r.type!==e.type?Dee(r,e):r.description!==e.description?Uee(r,e):""}var TD=p(()=>{});var yp,SD=p(()=>{fn();P();TD();yp=class r{constructor(){this._sharedRegistry=new Map,this._perCollectorRegistry=new Map}static create(){return new r}getStorages(e){let t=[];for(let s of this._sharedRegistry.values())t=t.concat(s);let o=this._perCollectorRegistry.get(e);if(o!=null)for(let s of o.values())t=t.concat(s);return t}register(e){this._registerStorage(e,this._sharedRegistry)}registerForCollector(e,t){let o=this._perCollectorRegistry.get(e);o==null&&(o=new Map,this._perCollectorRegistry.set(e,o)),this._registerStorage(t,o)}findOrUpdateCompatibleStorage(e){let t=this._sharedRegistry.get(e.name);return t===void 0?null:this._findOrUpdateCompatibleStorage(e,t)}findOrUpdateCompatibleCollectorStorage(e,t){let o=this._perCollectorRegistry.get(e);if(o===void 0)return null;let s=o.get(t.name);return s===void 0?null:this._findOrUpdateCompatibleStorage(t,s)}_registerStorage(e,t){let o=e.getInstrumentDescriptor(),s=t.get(o.name);if(s===void 0){t.set(o.name,[e]);return}s.push(e)}_findOrUpdateCompatibleStorage(e,t){let o=null;for(let s of t){let a=s.getInstrumentDescriptor();R1(a,e)?(a.description!==e.description&&(e.description.length>a.description.length&&s.updateDescription(e.description),S.warn("A view or instrument with the name ",e.name,` has already been registered, but has a different description and is incompatible with another registered view.
`,`Details:
`,KT(a,e),`The longer description will be used.
To resolve the conflict:`,zT(a,e))),o=s):S.warn("A view or instrument with the name ",e.name,` has already been registered and is incompatible with another registered view.
`,`Details:
`,KT(a,e),`To resolve the conflict:
`,zT(a,e))}return o}}});var Op,gD=p(()=>{Op=class{constructor(e){this._backingStorages=e}record(e,t,o,s){this._backingStorages.forEach(a=>{a.record(e,t,o,s)})}}});var Ap,Rp,vD=p(()=>{P();Ll();Sp();Ap=class{constructor(e,t){this._instrumentName=e,this._valueType=t,this._buffer=new Dt}observe(e,t={}){if(typeof e!="number"){S.warn(`non-number value provided to metric ${this._instrumentName}: ${e}`);return}this._valueType===Ot.INT&&!Number.isInteger(e)&&(S.warn(`INT value type cannot accept a floating-point value for ${this._instrumentName}, ignoring the fractional digits.`),e=Math.trunc(e),!Number.isInteger(e))||this._buffer.set(t,e)}},Rp=class{constructor(){this._buffer=new Map}observe(e,t,o={}){if(!bl(e))return;let s=this._buffer.get(e);if(s==null&&(s=new Dt,this._buffer.set(e,s)),typeof t!="number"){S.warn(`non-number value provided to metric ${e._descriptor.name}: ${t}`);return}e._descriptor.valueType===Ot.INT&&!Number.isInteger(t)&&(S.warn(`INT value type cannot accept a floating-point value for ${e._descriptor.name}, ignoring the fractional digits.`),t=Math.trunc(t),!Number.isInteger(t))||s.set(o,t)}}});var Np,yD=p(()=>{P();Sp();vD();ur();Np=class{constructor(){this._callbacks=[],this._batchCallbacks=[]}addCallback(e,t){this._findCallback(e,t)>=0||this._callbacks.push({callback:e,instrument:t})}removeCallback(e,t){let o=this._findCallback(e,t);o<0||this._callbacks.splice(o,1)}addBatchCallback(e,t){let o=new Set(t.filter(bl));if(o.size===0){S.error("BatchObservableCallback is not associated with valid instruments",t);return}this._findBatchCallback(e,o)>=0||this._batchCallbacks.push({callback:e,instruments:o})}removeBatchCallback(e,t){let o=new Set(t.filter(bl)),s=this._findBatchCallback(e,o);s<0||this._batchCallbacks.splice(s,1)}async observe(e,t){let o=this._observeCallbacks(e,t),s=this._observeBatchCallbacks(e,t);return(await T1([...o,...s])).filter(S1).map(n=>n.reason)}_observeCallbacks(e,t){return this._callbacks.map(async({callback:o,instrument:s})=>{let a=new Ap(s._descriptor.name,s._descriptor.valueType),i=Promise.resolve(o(a));t!=null&&(i=wn(i,t)),await i,s._metricStorages.forEach(n=>{n.record(a._buffer,e)})})}_observeBatchCallbacks(e,t){return this._batchCallbacks.map(async({callback:o,instruments:s})=>{let a=new Rp,i=Promise.resolve(o(a));t!=null&&(i=wn(i,t)),await i,s.forEach(n=>{let l=a._buffer.get(n);l!=null&&n._metricStorages.forEach(c=>{c.record(l,e)})})})}_findCallback(e,t){return this._callbacks.findIndex(o=>o.callback===e&&o.instrument===t)}_findBatchCallback(e,t){return this._batchCallbacks.findIndex(o=>o.callback===e&&g1(o.instruments,t))}}});var Cp,OD=p(()=>{HT();jT();YT();Cp=class extends _s{constructor(e,t,o,s,a){super(e),this._attributesProcessor=o,this._aggregationCardinalityLimit=a,this._deltaMetricStorage=new Es(t,this._aggregationCardinalityLimit),this._temporalMetricStorage=new ms(t,s)}record(e,t,o,s){t=this._attributesProcessor.process(t,o),this._deltaMetricStorage.record(e,t,o,s)}collect(e,t){let o=this._deltaMetricStorage.collect();return this._temporalMetricStorage.buildMetrics(e,this._instrumentDescriptor,o,t)}}});var Bn,$T,Pp,kee,XT=p(()=>{Bn=class{static Noop(){return kee}},$T=class extends Bn{process(e,t){return e}},Pp=class extends Bn{constructor(e){super(),this._allowedAttributeNames=e}process(e,t){let o={};return Object.keys(e).filter(s=>this._allowedAttributeNames.includes(s)).forEach(s=>o[s]=e[s]),o}},kee=new $T});var Ip,AD=p(()=>{fn();ED();ur();mD();SD();gD();yD();OD();XT();Ip=class{constructor(e,t){this._meterProviderSharedState=e,this._instrumentationScope=t,this.metricStorageRegistry=new yp,this.observableRegistry=new Np,this.meter=new gp(this)}registerMetricStorage(e){let t=this._registerMetricStorage(e,Cp);return t.length===1?t[0]:new Op(t)}registerAsyncMetricStorage(e){return this._registerMetricStorage(e,vp)}async collect(e,t,o){let s=await this.observableRegistry.observe(t,o==null?void 0:o.timeoutMillis),a=this.metricStorageRegistry.getStorages(e);if(a.length===0)return null;let i=a.map(n=>n.collect(e,t)).filter(E1);return i.length===0?{errors:s}:{scopeMetrics:{scope:this._instrumentationScope,metrics:i},errors:s}}_registerMetricStorage(e,t){let s=this._meterProviderSharedState.viewRegistry.findViews(e,this._instrumentationScope).map(a=>{let i=A1(a,e),n=this.metricStorageRegistry.findOrUpdateCompatibleStorage(i);if(n!=null)return n;let l=a.aggregation.createAggregator(i),c=new t(i,l,a.attributesProcessor,this._meterProviderSharedState.metricCollectors,a.aggregationCardinalityLimit);return this.metricStorageRegistry.register(c),c});if(s.length===0){let i=this._meterProviderSharedState.selectAggregations(e.type).map(([n,l])=>{let c=this.metricStorageRegistry.findOrUpdateCompatibleCollectorStorage(n,e);if(c!=null)return c;let u=l.createAggregator(e),f=n.selectCardinalityLimit(e.type),_=new t(e,u,Bn.Noop(),[n],f);return this.metricStorageRegistry.registerForCollector(n,_),_});s=s.concat(i)}return s}}});var bp,RD=p(()=>{ur();_D();AD();bp=class{constructor(e){this.resource=e,this.viewRegistry=new fp,this.metricCollectors=[],this.meterSharedStates=new Map}getMeterSharedState(e){let t=m1(e),o=this.meterSharedStates.get(t);return o==null&&(o=new Ip(this,e),this.meterSharedStates.set(t,o)),o}selectAggregations(e){let t=[];for(let o of this.metricCollectors)t.push([o,o.selectAggregation(e)]);return t}}});var Lp,ND=p(()=>{Dn();Lp=class{constructor(e,t){this._sharedState=e,this._metricReader=t}async collect(e){let t=wi(Date.now()),o=[],s=[],a=Array.from(this._sharedState.meterSharedStates.values()).map(async i=>{let n=await i.collect(this,t,e);(n==null?void 0:n.scopeMetrics)!=null&&o.push(n.scopeMetrics),(n==null?void 0:n.errors)!=null&&s.push(...n.errors)});return await Promise.all(a),{resourceMetrics:{resource:this._sharedState.resource,scopeMetrics:o},errors:s}}async forceFlush(e){await this._metricReader.forceFlush(e)}async shutdown(e){await this._metricReader.shutdown(e)}selectAggregationTemporality(e){return this._metricReader.selectAggregationTemporality(e)}selectAggregation(e){return this._metricReader.selectAggregation(e)}selectCardinalityLimit(e){var t,o,s;return(s=(o=(t=this._metricReader).selectCardinalityLimit)===null||o===void 0?void 0:o.call(t,e))!==null&&s!==void 0?s:2e3}}});function Bee(r,e){let t=e??kn.empty();return r?kn.default().merge(t):t}var xp,CD=p(()=>{P();hD();RD();ND();xp=class{constructor(e){var t;if(this._shutdown=!1,this._sharedState=new bp(Bee((t=e==null?void 0:e.mergeResourceWithDefaults)!==null&&t!==void 0?t:!0,e==null?void 0:e.resource)),(e==null?void 0:e.views)!=null&&e.views.length>0)for(let o of e.views)this._sharedState.viewRegistry.addView(o);if((e==null?void 0:e.readers)!=null&&e.readers.length>0)for(let o of e.readers)this.addMetricReader(o)}getMeter(e,t="",o={}){return this._shutdown?(S.warn("A shutdown MeterProvider cannot provide a Meter"),Uu()):this._sharedState.getMeterSharedState({name:e,version:t,schemaUrl:o.schemaUrl}).meter}addMetricReader(e){let t=new Lp(this._sharedState,e);e.setMetricProducer(t),this._sharedState.metricCollectors.push(t)}async shutdown(e){if(this._shutdown){S.warn("shutdown may only be called once per MeterProvider");return}this._shutdown=!0,await Promise.all(this._sharedState.metricCollectors.map(t=>t.shutdown(e)))}async forceFlush(e){if(this._shutdown){S.warn("invalid attempt to force flush after MeterProvider shutdown");return}await Promise.all(this._sharedState.metricCollectors.map(t=>t.forceFlush(e)))}}});var Vee,Ts,Vn,Mp=p(()=>{Vee=/[\^$\\.+?()[\]{}|]/g,Ts=class r{constructor(e){e==="*"?(this._matchAll=!0,this._regexp=/.*/):(this._matchAll=!1,this._regexp=new RegExp(r.escapePattern(e)))}match(e){return this._matchAll?!0:this._regexp.test(e)}static escapePattern(e){return`^${e.replace(Vee,"\\$&").replace("*",".*")}$`}static hasWildcard(e){return e.includes("*")}},Vn=class{constructor(e){this._matchAll=e===void 0,this._pattern=e}match(e){return!!(this._matchAll||e===this._pattern)}}});var wp,PD=p(()=>{Mp();wp=class{constructor(e){var t;this._nameFilter=new Ts((t=e==null?void 0:e.name)!==null&&t!==void 0?t:"*"),this._type=e==null?void 0:e.type,this._unitFilter=new Vn(e==null?void 0:e.unit)}getType(){return this._type}getNameFilter(){return this._nameFilter}getUnitFilter(){return this._unitFilter}}});var Dp,ID=p(()=>{Mp();Dp=class{constructor(e){this._nameFilter=new Vn(e==null?void 0:e.name),this._versionFilter=new Vn(e==null?void 0:e.version),this._schemaUrlFilter=new Vn(e==null?void 0:e.schemaUrl)}getNameFilter(){return this._nameFilter}getVersionFilter(){return this._versionFilter}getSchemaUrlFilter(){return this._schemaUrlFilter}}});function Fee(r){return r.instrumentName==null&&r.instrumentType==null&&r.instrumentUnit==null&&r.meterName==null&&r.meterVersion==null&&r.meterSchemaUrl==null}var Up,bD=p(()=>{Mp();XT();PD();ID();op();Up=class{constructor(e){var t;if(Fee(e))throw new Error("Cannot create view with no selector arguments supplied");if(e.name!=null&&((e==null?void 0:e.instrumentName)==null||Ts.hasWildcard(e.instrumentName)))throw new Error("Views with a specified name must be declared with an instrument selector that selects at most one instrument per meter.");e.attributeKeys!=null?this.attributesProcessor=new Pp(e.attributeKeys):this.attributesProcessor=Bn.Noop(),this.name=e.name,this.description=e.description,this.aggregation=(t=e.aggregation)!==null&&t!==void 0?t:mt.Default(),this.instrumentSelector=new wp({name:e.instrumentName,type:e.instrumentType,unit:e.instrumentUnit}),this.meterSelector=new Dp({name:e.meterName,version:e.meterVersion,schemaUrl:e.meterSchemaUrl}),this.aggregationCardinalityLimit=e.aggregationCardinalityLimit}}});var WT={};Ae(WT,{Aggregation:()=>mt,AggregationTemporality:()=>cr,ConsoleMetricExporter:()=>cp,DataPointType:()=>lt,DefaultAggregation:()=>Il,DropAggregation:()=>cs,ExplicitBucketHistogramAggregation:()=>Cl,ExponentialHistogramAggregation:()=>Pl,HistogramAggregation:()=>fs,InMemoryMetricExporter:()=>lp,InstrumentType:()=>he,LastValueAggregation:()=>us,MeterProvider:()=>xp,MetricReader:()=>ps,PeriodicExportingMetricReader:()=>ap,SumAggregation:()=>Di,TimeoutError:()=>xi,View:()=>Up});var kp=p(()=>{Xf();ts();GT();aD();lD();cD();fn();CD();op();bD();ur()});var QT=T(Bp=>{"use strict";Object.defineProperty(Bp,"__esModule",{value:!0});Bp.AbstractAsyncHooksContextManager=void 0;var Gee=V("events"),Hee=["addListener","on","once","prependListener","prependOnceListener"],JT=class{constructor(){this._kOtListeners=Symbol("OtListeners"),this._wrapped=!1}bind(e,t){return t instanceof Gee.EventEmitter?this._bindEventEmitter(e,t):typeof t=="function"?this._bindFunction(e,t):t}_bindFunction(e,t){let o=this,s=function(...a){return o.with(e,()=>t.apply(this,a))};return Object.defineProperty(s,"length",{enumerable:!1,configurable:!0,writable:!1,value:t.length}),s}_bindEventEmitter(e,t){return this._getPatchMap(t)!==void 0||(this._createPatchMap(t),Hee.forEach(s=>{t[s]!==void 0&&(t[s]=this._patchAddListener(t,t[s],e))}),typeof t.removeListener=="function"&&(t.removeListener=this._patchRemoveListener(t,t.removeListener)),typeof t.off=="function"&&(t.off=this._patchRemoveListener(t,t.off)),typeof t.removeAllListeners=="function"&&(t.removeAllListeners=this._patchRemoveAllListeners(t,t.removeAllListeners))),t}_patchRemoveListener(e,t){let o=this;return function(s,a){var i;let n=(i=o._getPatchMap(e))===null||i===void 0?void 0:i[s];if(n===void 0)return t.call(this,s,a);let l=n.get(a);return t.call(this,s,l||a)}}_patchRemoveAllListeners(e,t){let o=this;return function(s){let a=o._getPatchMap(e);return a!==void 0&&(arguments.length===0?o._createPatchMap(e):a[s]!==void 0&&delete a[s]),t.apply(this,arguments)}}_patchAddListener(e,t,o){let s=this;return function(a,i){if(s._wrapped)return t.call(this,a,i);let n=s._getPatchMap(e);n===void 0&&(n=s._createPatchMap(e));let l=n[a];l===void 0&&(l=new WeakMap,n[a]=l);let c=s.bind(o,i);l.set(i,c),s._wrapped=!0;try{return t.call(this,a,c)}finally{s._wrapped=!1}}}_createPatchMap(e){let t=Object.create(null);return e[this._kOtListeners]=t,t}_getPatchMap(e){return e[this._kOtListeners]}};Bp.AbstractAsyncHooksContextManager=JT});var LD=T(Vp=>{"use strict";Object.defineProperty(Vp,"__esModule",{value:!0});Vp.AsyncHooksContextManager=void 0;var qee=(P(),ee(ot)),jee=V("async_hooks"),Yee=QT(),ZT=class extends Yee.AbstractAsyncHooksContextManager{constructor(){super(),this._contexts=new Map,this._stack=[],this._asyncHook=jee.createHook({init:this._init.bind(this),before:this._before.bind(this),after:this._after.bind(this),destroy:this._destroy.bind(this),promiseResolve:this._destroy.bind(this)})}active(){var e;return(e=this._stack[this._stack.length-1])!==null&&e!==void 0?e:qee.ROOT_CONTEXT}with(e,t,o,...s){this._enterContext(e);try{return t.call(o,...s)}finally{this._exitContext()}}enable(){return this._asyncHook.enable(),this}disable(){return this._asyncHook.disable(),this._contexts.clear(),this._stack=[],this}_init(e,t){if(t==="TIMERWRAP")return;let o=this._stack[this._stack.length-1];o!==void 0&&this._contexts.set(e,o)}_destroy(e){this._contexts.delete(e)}_before(e){let t=this._contexts.get(e);t!==void 0&&this._enterContext(t)}_after(){this._exitContext()}_enterContext(e){this._stack.push(e)}_exitContext(){this._stack.pop()}};Vp.AsyncHooksContextManager=ZT});var xD=T(Fp=>{"use strict";Object.defineProperty(Fp,"__esModule",{value:!0});Fp.AsyncLocalStorageContextManager=void 0;var Kee=(P(),ee(ot)),zee=V("async_hooks"),$ee=QT(),eS=class extends $ee.AbstractAsyncHooksContextManager{constructor(){super(),this._asyncLocalStorage=new zee.AsyncLocalStorage}active(){var e;return(e=this._asyncLocalStorage.getStore())!==null&&e!==void 0?e:Kee.ROOT_CONTEXT}with(e,t,o,...s){let a=o==null?t:t.bind(o);return this._asyncLocalStorage.run(e,a,...s)}enable(){return this}disable(){return this._asyncLocalStorage.disable(),this}};Fp.AsyncLocalStorageContextManager=eS});var MD=T(Ss=>{"use strict";Object.defineProperty(Ss,"__esModule",{value:!0});Ss.AsyncLocalStorageContextManager=Ss.AsyncHooksContextManager=void 0;var Xee=LD();Object.defineProperty(Ss,"AsyncHooksContextManager",{enumerable:!0,get:function(){return Xee.AsyncHooksContextManager}});var Wee=xD();Object.defineProperty(Ss,"AsyncLocalStorageContextManager",{enumerable:!0,get:function(){return Wee.AsyncLocalStorageContextManager}})});var gs,tS=p(()=>{P();gs=De("OpenTelemetry Context Key B3 Debug Flag")});var vs,ys,Os,As,Gp,Rs,rS=p(()=>{vs="b3",ys="x-b3-traceid",Os="x-b3-spanid",As="x-b3-sampled",Gp="x-b3-parentspanid",Rs="x-b3-flags"});function Zee(r){return r===se.SAMPLED||r===se.NONE}function ete(r){return Array.isArray(r)?r[0]:r}function qp(r,e,t){let o=e.get(r,t);return ete(o)}function tte(r,e){let t=qp(r,e,ys);return typeof t=="string"?t.padStart(32,"0"):""}function rte(r,e){let t=qp(r,e,Os);return typeof t=="string"?t:""}function wD(r,e){return qp(r,e,Rs)==="1"?"1":void 0}function nte(r,e){let t=qp(r,e,As);if(wD(r,e)==="1"||Jee.has(t))return se.SAMPLED;if(t===void 0||Qee.has(t))return se.NONE}var Jee,Qee,Hp,DD=p(()=>{P();xr();tS();rS();Jee=new Set([!0,"true","True","1",1]),Qee=new Set([!1,"false","False","0",0]);Hp=class{inject(e,t,o){let s=ie.getSpanContext(e);if(!s||!xe(s)||At(e))return;let a=e.getValue(gs);o.set(t,ys,s.traceId),o.set(t,Os,s.spanId),a==="1"?o.set(t,Rs,a):s.traceFlags!==void 0&&o.set(t,As,(se.SAMPLED&s.traceFlags)===se.SAMPLED?"1":"0")}extract(e,t,o){let s=tte(t,o),a=rte(t,o),i=nte(t,o),n=wD(t,o);return Mt(s)&&vi(a)&&Zee(i)?(e=e.setValue(gs,n),ie.setSpanContext(e,{traceId:s,spanId:a,isRemote:!0,traceFlags:i})):e}fields(){return[ys,Os,Rs,As,Gp]}}});function lte(r){return r.length===32?r:`${ote}${r}`}function cte(r){return r&&ste.has(r)?se.SAMPLED:se.NONE}var ite,ote,ste,ate,jp,UD=p(()=>{P();xr();tS();ite=/((?:[0-9a-f]{16}){1,2})-([0-9a-f]{16})(?:-([01d](?![0-9a-f])))?(?:-([0-9a-f]{16}))?/,ote="0".repeat(16),ste=new Set(["d","1"]),ate="d";jp=class{inject(e,t,o){let s=ie.getSpanContext(e);if(!s||!xe(s)||At(e))return;let a=e.getValue(gs)||s.traceFlags&1,i=`${s.traceId}-${s.spanId}-${a}`;o.set(t,"b3",i)}extract(e,t,o){let s=o.get(t,"b3"),a=Array.isArray(s)?s[0]:s;if(typeof a!="string")return e;let i=a.match(ite);if(!i)return e;let[,n,l,c]=i,u=lte(n);if(!Mt(u)||!vi(l))return e;let f=cte(c);return c===ate&&(e=e.setValue(gs,c)),ie.setSpanContext(e,{traceId:u,spanId:l,isRemote:!0,traceFlags:f})}fields(){return["b3"]}}});var Ns,nS=p(()=>{(function(r){r[r.SINGLE_HEADER=0]="SINGLE_HEADER",r[r.MULTI_HEADER=1]="MULTI_HEADER"})(Ns||(Ns={}))});var Yp,kD=p(()=>{xr();DD();UD();nS();Yp=class{constructor(e={}){this._b3MultiPropagator=new Hp,this._b3SinglePropagator=new jp,e.injectEncoding===Ns.MULTI_HEADER?(this._inject=this._b3MultiPropagator.inject,this._fields=this._b3MultiPropagator.fields()):(this._inject=this._b3SinglePropagator.inject,this._fields=this._b3SinglePropagator.fields())}inject(e,t,o){At(e)||this._inject(e,t,o)}extract(e,t,o){let s=o.get(t,"b3");return(Array.isArray(s)?s[0]:s)?this._b3SinglePropagator.extract(e,t,o):this._b3MultiPropagator.extract(e,t,o)}fields(){return this._fields}}});var BD={};Ae(BD,{B3InjectEncoding:()=>Ns,B3Propagator:()=>Yp,B3_CONTEXT_HEADER:()=>vs,X_B3_FLAGS:()=>Rs,X_B3_PARENT_SPAN_ID:()=>Gp,X_B3_SAMPLED:()=>As,X_B3_SPAN_ID:()=>Os,X_B3_TRACE_ID:()=>ys});var VD=p(()=>{kD();rS();nS()});function xl(r){return r.setValue(FD,!0)}function Ui(r){return r.getValue(FD)===!0}var FD,Ml=p(()=>{P();FD=De("OpenTelemetry SDK Context Key SUPPRESS_TRACING")});var Kp,GD=p(()=>{Kp="baggage"});function qD(r){return r.reduce((e,t)=>{let o=`${e}${e!==""?",":""}${t}`;return o.length>8192?e:o},"")}function jD(r){return r.getAllEntries().map(([e,t])=>{let o=`${encodeURIComponent(e)}=${encodeURIComponent(t.value)}`;return t.metadata!==void 0&&(o+=";"+t.metadata.toString()),o})}function YD(r){let e=r.split(";");if(e.length<=0)return;let t=e.shift();if(!t)return;let o=t.indexOf("=");if(o<=0)return;let s=decodeURIComponent(t.substring(0,o).trim()),a=decodeURIComponent(t.substring(o+1).trim()),i;return e.length>0&&(i=br(e.join(";"))),{key:s,value:a,metadata:i}}var KD=p(()=>{P()});var wl,zD=p(()=>{P();Ml();GD();KD();wl=class{inject(e,t,o){let s=Ue.getBaggage(e);if(!s||Ui(e))return;let a=jD(s).filter(n=>n.length<=4096).slice(0,180),i=qD(a);i.length>0&&o.set(t,Kp,i)}extract(e,t,o){let s=o.get(t,Kp),a=Array.isArray(s)?s.join(","):s;if(!a)return e;let i={};return a.length===0||(a.split(",").forEach(l=>{let c=YD(l);if(c){let u={value:c.value};c.metadata&&(u.metadata=c.metadata),i[c.key]=u}}),Object.entries(i).length===0)?e:Ue.setBaggage(e,Ue.createBaggage(i))}fields(){return[Kp]}}});function ki(r){let e={};if(typeof r!="object"||r==null)return e;for(let[t,o]of Object.entries(r)){if(!$D(t)){S.warn(`Invalid attribute key: ${t}`);continue}if(!zp(o)){S.warn(`Invalid attribute value set for key: ${t}`);continue}Array.isArray(o)?e[t]=o.slice():e[t]=o}return e}function $D(r){return typeof r=="string"&&r.length>0}function zp(r){return r==null?!0:Array.isArray(r)?pte(r):XD(r)}function pte(r){let e;for(let t of r)if(t!=null){if(!e){if(XD(t)){e=typeof t;continue}return!1}if(typeof t!==e)return!1}return!0}function XD(r){switch(typeof r){case"number":case"boolean":case"string":return!0}return!1}var WD=p(()=>{P()});function JD(){return r=>{S.error(dte(r))}}function dte(r){return typeof r=="string"?r:JSON.stringify(hte(r))}function hte(r){let e={},t=r;for(;t!==null;)Object.getOwnPropertyNames(t).forEach(o=>{if(e[o])return;let s=t[o];s&&(e[o]=String(s))}),t=Object.getPrototypeOf(t);return e}var QD=p(()=>{P()});function Kt(r){try{_te(r)}catch{}}var _te,ZD=p(()=>{QD();_te=JD()});var Ut,oS=p(()=>{(function(r){r.AlwaysOff="always_off",r.AlwaysOn="always_on",r.ParentBasedAlwaysOff="parentbased_always_off",r.ParentBasedAlwaysOn="parentbased_always_on",r.ParentBasedTraceIdRatio="parentbased_traceidratio",r.TraceIdRatio="traceidratio"})(Ut||(Ut={}))});function Tte(r){return mte.indexOf(r)>-1}function gte(r){return Ste.indexOf(r)>-1}function yte(r){return vte.indexOf(r)>-1}function Ote(r,e,t){if(typeof t[r]>"u")return;let o=String(t[r]);e[r]=o.toLowerCase()==="true"}function Ate(r,e,t,o=-1/0,s=1/0){if(typeof t[r]<"u"){let a=Number(t[r]);isNaN(a)||(a<o?e[r]=o:a>s?e[r]=s:e[r]=a)}}function Rte(r,e,t,o=Ete){let s=t[r];typeof s=="string"&&(e[r]=s.split(o).map(a=>a.trim()))}function Cte(r,e,t){let o=t[r];if(typeof o=="string"){let s=Nte[o.toUpperCase()];s!=null&&(e[r]=s)}}function Xp(r){let e={};for(let t in $p){let o=t;switch(o){case"OTEL_LOG_LEVEL":Cte(o,e,r);break;default:if(Tte(o))Ote(o,e,r);else if(gte(o))Ate(o,e,r);else if(yte(o))Rte(o,e,r);else{let s=r[o];typeof s<"u"&&s!==null&&(e[o]=String(s))}}}return e}var Ete,mte,Ste,vte,Cs,Ps,eU,tU,$p,Nte,sS=p(()=>{P();oS();Ete=",",mte=["OTEL_SDK_DISABLED"];Ste=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_BLRP_EXPORT_TIMEOUT","OTEL_BLRP_MAX_EXPORT_BATCH_SIZE","OTEL_BLRP_MAX_QUEUE_SIZE","OTEL_BLRP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_OTLP_LOGS_TIMEOUT","OTEL_EXPORTER_JAEGER_AGENT_PORT"];vte=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS","OTEL_SEMCONV_STABILITY_OPT_IN"];Cs=1/0,Ps=128,eU=128,tU=128,$p={OTEL_SDK_DISABLED:!1,CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_BLRP_EXPORT_TIMEOUT:3e4,OTEL_BLRP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BLRP_MAX_QUEUE_SIZE:2048,OTEL_BLRP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_AGENT_PORT:6832,OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_LOGS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_OTLP_LOGS_HEADERS:"",OTEL_EXPORTER_OTLP_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_TRACES_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_METRICS_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_LOGS_TIMEOUT:1e4,OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:H.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:Cs,OTEL_ATTRIBUTE_COUNT_LIMIT:Ps,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:Cs,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:Ps,OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT:Cs,OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT:Ps,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:eU,OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:tU,OTEL_TRACES_EXPORTER:"",OTEL_TRACES_SAMPLER:Ut.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:"",OTEL_LOGS_EXPORTER:"",OTEL_EXPORTER_OTLP_INSECURE:"",OTEL_EXPORTER_OTLP_TRACES_INSECURE:"",OTEL_EXPORTER_OTLP_METRICS_INSECURE:"",OTEL_EXPORTER_OTLP_LOGS_INSECURE:"",OTEL_EXPORTER_OTLP_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_COMPRESSION:"",OTEL_EXPORTER_OTLP_TRACES_COMPRESSION:"",OTEL_EXPORTER_OTLP_METRICS_COMPRESSION:"",OTEL_EXPORTER_OTLP_LOGS_COMPRESSION:"",OTEL_EXPORTER_OTLP_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_TRACES_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_LOGS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE:"cumulative",OTEL_SEMCONV_STABILITY_OPT_IN:[]};Nte={ALL:H.ALL,VERBOSE:H.VERBOSE,DEBUG:H.DEBUG,INFO:H.INFO,WARN:H.WARN,ERROR:H.ERROR,NONE:H.NONE}});function zt(){let r=Xp(process.env);return Object.assign({},$p,r)}function Dl(){return Xp(process.env)}var rU=p(()=>{sS()});import{performance as Pte}from"perf_hooks";var pr,nU=p(()=>{pr=Pte});var iU,oU=p(()=>{iU="1.29.0"});var Bi,sU=p(()=>{oU();Ve();Bi={[Se]:"opentelemetry",[st]:"node",[ge]:wt,[ve]:iU}});function Ul(r){r.unref()}var aU=p(()=>{});var lU=p(()=>{rU();nU();sU();aU()});var aS=p(()=>{lU()});function Fn(r){let e=r/1e3,t=Math.trunc(e),o=Math.round(r%1e3*wte);return[t,o]}function Wp(){let r=pr.timeOrigin;if(typeof r!="number"){let e=pr;r=e.timing&&e.timing.fetchStart}return r}function cS(r){let e=Fn(Wp()),t=Fn(typeof r=="number"?r:pr.now());return ed(e,t)}function uS(r,e){let t=e[0]-r[0],o=e[1]-r[1];return o<0&&(t-=1,o+=lS),[t,o]}function Jp(r){return r[0]*1e6+r[1]/1e3}function Qp(r){return Array.isArray(r)&&r.length===2&&typeof r[0]=="number"&&typeof r[1]=="number"}function Zp(r){return Qp(r)||typeof r=="number"||r instanceof Date}function ed(r,e){let t=[r[0]+e[0],r[1]+e[1]];return t[1]>=lS&&(t[1]-=lS,t[0]+=1),t}var xte,Mte,wte,lS,cU=p(()=>{aS();xte=9,Mte=6,wte=Math.pow(10,Mte),lS=Math.pow(10,xte)});var $t,uU=p(()=>{(function(r){r[r.SUCCESS=0]="SUCCESS",r[r.FAILED=1]="FAILED"})($t||($t={}))});var kl,fU=p(()=>{P();kl=class{constructor(e={}){var t;this._propagators=(t=e.propagators)!==null&&t!==void 0?t:[],this._fields=Array.from(new Set(this._propagators.map(o=>typeof o.fields=="function"?o.fields():[]).reduce((o,s)=>o.concat(s),[])))}inject(e,t,o){for(let s of this._propagators)try{s.inject(e,t,o)}catch(a){S.warn(`Failed to inject with ${s.constructor.name}. Err: ${a.message}`)}}extract(e,t,o){return this._propagators.reduce((s,a)=>{try{return a.extract(s,t,o)}catch(i){S.warn(`Failed to extract with ${a.constructor.name}. Err: ${i.message}`)}return s},e)}fields(){return this._fields.slice()}}});function pU(r){return kte.test(r)}function dU(r){return Bte.test(r)&&!Vte.test(r)}var fS,Dte,Ute,kte,Bte,Vte,hU=p(()=>{fS="[_0-9a-z-*/]",Dte=`[a-z]${fS}{0,255}`,Ute=`[a-z0-9]${fS}{0,240}@[a-z]${fS}{0,13}`,kte=new RegExp(`^(?:${Dte}|${Ute})$`),Bte=/^[ -~]{0,255}[!-~]$/,Vte=/,|=/});var _U,Fte,EU,mU,td,TU=p(()=>{hU();_U=32,Fte=512,EU=",",mU="=",td=class r{constructor(e){this._internalState=new Map,e&&this._parse(e)}set(e,t){let o=this._clone();return o._internalState.has(e)&&o._internalState.delete(e),o._internalState.set(e,t),o}unset(e){let t=this._clone();return t._internalState.delete(e),t}get(e){return this._internalState.get(e)}serialize(){return this._keys().reduce((e,t)=>(e.push(t+mU+this.get(t)),e),[]).join(EU)}_parse(e){e.length>Fte||(this._internalState=e.split(EU).reverse().reduce((t,o)=>{let s=o.trim(),a=s.indexOf(mU);if(a!==-1){let i=s.slice(0,a),n=s.slice(a+1,o.length);pU(i)&&dU(n)&&t.set(i,n)}return t},new Map),this._internalState.size>_U&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,_U))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let e=new r;return e._internalState=new Map(this._internalState),e}}});function SU(r){let e=Kte.exec(r);return!e||e[1]==="00"&&e[5]?null:{traceId:e[2],spanId:e[3],traceFlags:parseInt(e[4],16)}}var rd,nd,Gte,Hte,qte,jte,Yte,Kte,Bl,gU=p(()=>{P();Ml();TU();rd="traceparent",nd="tracestate",Gte="00",Hte="(?!ff)[\\da-f]{2}",qte="(?![0]{32})[\\da-f]{32}",jte="(?![0]{16})[\\da-f]{16}",Yte="[\\da-f]{2}",Kte=new RegExp(`^\\s?(${Hte})-(${qte})-(${jte})-(${Yte})(-.*)?\\s?$`);Bl=class{inject(e,t,o){let s=ie.getSpanContext(e);if(!s||Ui(e)||!xe(s))return;let a=`${Gte}-${s.traceId}-${s.spanId}-0${Number(s.traceFlags||se.NONE).toString(16)}`;o.set(t,rd,a),s.traceState&&o.set(t,nd,s.traceState.serialize())}extract(e,t,o){let s=o.get(t,rd);if(!s)return e;let a=Array.isArray(s)?s[0]:s;if(typeof a!="string")return e;let i=SU(a);if(!i)return e;i.isRemote=!0;let n=o.get(t,nd);if(n){let l=Array.isArray(n)?n.join(","):n;i.traceState=new td(typeof l=="string"?l:void 0)}return ie.setSpanContext(e,i)}fields(){return[rd,nd]}}});function Zte(r,e){return function(t){return r(e(t))}}function pS(r){if(!ere(r)||tre(r)!==zte)return!1;let e=Qte(r);if(e===null)return!0;let t=OU.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&vU.call(t)===Jte}function ere(r){return r!=null&&typeof r=="object"}function tre(r){return r==null?r===void 0?Xte:$te:Vi&&Vi in Object(r)?rre(r):nre(r)}function rre(r){let e=OU.call(r,Vi),t=r[Vi],o=!1;try{r[Vi]=void 0,o=!0}catch{}let s=AU.call(r);return o&&(e?r[Vi]=t:delete r[Vi]),s}function nre(r){return AU.call(r)}var zte,$te,Xte,Wte,vU,Jte,Qte,yU,OU,Vi,AU,RU=p(()=>{zte="[object Object]",$te="[object Null]",Xte="[object Undefined]",Wte=Function.prototype,vU=Wte.toString,Jte=vU.call(Object),Qte=Zte(Object.getPrototypeOf,Object),yU=Object.prototype,OU=yU.hasOwnProperty,Vi=Symbol?Symbol.toStringTag:void 0,AU=yU.toString});function hS(...r){let e=r.shift(),t=new WeakMap;for(;r.length>0;)e=CU(e,r.shift(),0,t);return e}function dS(r){return od(r)?r.slice():r}function CU(r,e,t=0,o){let s;if(!(t>ire)){if(t++,id(r)||id(e)||PU(e))s=dS(e);else if(od(r)){if(s=r.slice(),od(e))for(let a=0,i=e.length;a<i;a++)s.push(dS(e[a]));else if(Vl(e)){let a=Object.keys(e);for(let i=0,n=a.length;i<n;i++){let l=a[i];s[l]=dS(e[l])}}}else if(Vl(r))if(Vl(e)){if(!ore(r,e))return e;s=Object.assign({},r);let a=Object.keys(e);for(let i=0,n=a.length;i<n;i++){let l=a[i],c=e[l];if(id(c))typeof c>"u"?delete s[l]:s[l]=c;else{let u=s[l],f=c;if(NU(r,l,o)||NU(e,l,o))delete s[l];else{if(Vl(u)&&Vl(f)){let _=o.get(u)||[],m=o.get(f)||[];_.push({obj:r,key:l}),m.push({obj:e,key:l}),o.set(u,_),o.set(f,m)}s[l]=CU(s[l],c,t,o)}}}}else s=e;return s}}function NU(r,e,t){let o=t.get(r[e])||[];for(let s=0,a=o.length;s<a;s++){let i=o[s];if(i.key===e&&i.obj===r)return!0}return!1}function od(r){return Array.isArray(r)}function PU(r){return typeof r=="function"}function Vl(r){return!id(r)&&!od(r)&&!PU(r)&&typeof r=="object"}function id(r){return typeof r=="string"||typeof r=="number"||typeof r=="boolean"||typeof r>"u"||r instanceof Date||r instanceof RegExp||r===null}function ore(r,e){return!(!pS(r)||!pS(e))}var ire,IU=p(()=>{RU();ire=20});var sd,bU=p(()=>{sd=class{constructor(){this._promise=new Promise((e,t)=>{this._resolve=e,this._reject=t})}get promise(){return this._promise}resolve(e){this._resolve(e)}reject(e){this._reject(e)}}});var Fi,LU=p(()=>{bU();Fi=class{constructor(e,t){this._callback=e,this._that=t,this._isCalled=!1,this._deferred=new sd}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...e){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...e)).then(t=>this._deferred.resolve(t),t=>this._deferred.reject(t))}catch(t){this._deferred.reject(t)}}return this._deferred.promise}}});function xU(r,e){return new Promise(t=>{me.with(xl(me.active()),()=>{r.export(e,o=>{t(o)})})})}var MU=p(()=>{P();Ml()});var wU,kt=p(()=>{zD();WD();ZD();cU();uU();aS();fU();gU();Ml();sS();IU();oS();LU();MU();wU={_export:xU}});var DU,UU=p(()=>{DU="exception"});var Is,_S=p(()=>{P();kt();Ve();UU();Is=class{constructor(e,t,o,s,a,i,n=[],l,c,u){this.attributes={},this.links=[],this.events=[],this._droppedAttributesCount=0,this._droppedEventsCount=0,this._droppedLinksCount=0,this.status={code:Lr.UNSET},this.endTime=[0,0],this._ended=!1,this._duration=[-1,-1],this.name=o,this._spanContext=s,this.parentSpanId=i,this.kind=a,this.links=n;let f=Date.now();this._performanceStartTime=pr.now(),this._performanceOffset=f-(this._performanceStartTime+Wp()),this._startTimeProvided=l!=null,this.startTime=this._getTime(l??f),this.resource=e.resource,this.instrumentationLibrary=e.instrumentationLibrary,this._spanLimits=e.getSpanLimits(),this._attributeValueLengthLimit=this._spanLimits.attributeValueLengthLimit||0,u!=null&&this.setAttributes(u),this._spanProcessor=e.getActiveSpanProcessor(),this._spanProcessor.onStart(this,t)}spanContext(){return this._spanContext}setAttribute(e,t){return t==null||this._isSpanEnded()?this:e.length===0?(S.warn(`Invalid attribute key: ${e}`),this):zp(t)?Object.keys(this.attributes).length>=this._spanLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,e)?(this._droppedAttributesCount++,this):(this.attributes[e]=this._truncateToSize(t),this):(S.warn(`Invalid attribute value set for key: ${e}`),this)}setAttributes(e){for(let[t,o]of Object.entries(e))this.setAttribute(t,o);return this}addEvent(e,t,o){if(this._isSpanEnded())return this;if(this._spanLimits.eventCountLimit===0)return S.warn("No events allowed."),this._droppedEventsCount++,this;this.events.length>=this._spanLimits.eventCountLimit&&(this._droppedEventsCount===0&&S.debug("Dropping extra events."),this.events.shift(),this._droppedEventsCount++),Zp(t)&&(Zp(o)||(o=t),t=void 0);let s=ki(t);return this.events.push({name:e,attributes:s,time:this._getTime(o),droppedAttributesCount:0}),this}addLink(e){return this.links.push(e),this}addLinks(e){return this.links.push(...e),this}setStatus(e){return this._isSpanEnded()?this:(this.status=Object.assign({},e),this.status.message!=null&&typeof e.message!="string"&&(S.warn(`Dropping invalid status.message of type '${typeof e.message}', expected 'string'`),delete this.status.message),this)}updateName(e){return this._isSpanEnded()?this:(this.name=e,this)}end(e){if(this._isSpanEnded()){S.error(`${this.name} ${this._spanContext.traceId}-${this._spanContext.spanId} - You can only call end() on a span once.`);return}this._ended=!0,this.endTime=this._getTime(e),this._duration=uS(this.startTime,this.endTime),this._duration[0]<0&&(S.warn("Inconsistent start and end time, startTime > endTime. Setting span duration to 0ms.",this.startTime,this.endTime),this.endTime=this.startTime.slice(),this._duration=[0,0]),this._droppedEventsCount>0&&S.warn(`Dropped ${this._droppedEventsCount} events because eventCountLimit reached`),this._spanProcessor.onEnd(this)}_getTime(e){if(typeof e=="number"&&e<=pr.now())return cS(e+this._performanceOffset);if(typeof e=="number")return Fn(e);if(e instanceof Date)return Fn(e.getTime());if(Qp(e))return e;if(this._startTimeProvided)return Fn(Date.now());let t=pr.now()-this._performanceStartTime;return ed(this.startTime,Fn(t))}isRecording(){return this._ended===!1}recordException(e,t){let o={};typeof e=="string"?o[Qa]=e:e&&(e.code?o[Ja]=e.code.toString():e.name&&(o[Ja]=e.name),e.message&&(o[Qa]=e.message),e.stack&&(o[Um]=e.stack)),o[Ja]||o[Qa]?this.addEvent(DU,o,t):S.warn(`Failed to record an exception ${e}`)}get duration(){return this._duration}get ended(){return this._ended}get droppedAttributesCount(){return this._droppedAttributesCount}get droppedEventsCount(){return this._droppedEventsCount}get droppedLinksCount(){return this._droppedLinksCount}_isSpanEnded(){return this._ended&&S.warn(`Can not execute the operation on ended Span {traceId: ${this._spanContext.traceId}, spanId: ${this._spanContext.spanId}}`),this._ended}_truncateToLimitUtil(e,t){return e.length<=t?e:e.substring(0,t)}_truncateToSize(e){let t=this._attributeValueLengthLimit;return t<=0?(S.warn(`Attribute value limit must be positive, got ${t}`),e):typeof e=="string"?this._truncateToLimitUtil(e,t):Array.isArray(e)?e.map(o=>typeof o=="string"?this._truncateToLimitUtil(o,t):o):e}}});var dr,Fl=p(()=>{(function(r){r[r.NOT_RECORD=0]="NOT_RECORD",r[r.RECORD=1]="RECORD",r[r.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(dr||(dr={}))});var Ur,ad=p(()=>{Fl();Ur=class{shouldSample(){return{decision:dr.NOT_RECORD}}toString(){return"AlwaysOffSampler"}}});var Xt,ld=p(()=>{Fl();Xt=class{shouldSample(){return{decision:dr.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}}});var Gn,ES=p(()=>{P();kt();ad();ld();Gn=class{constructor(e){var t,o,s,a;this._root=e.root,this._root||(Kt(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new Xt),this._remoteParentSampled=(t=e.remoteParentSampled)!==null&&t!==void 0?t:new Xt,this._remoteParentNotSampled=(o=e.remoteParentNotSampled)!==null&&o!==void 0?o:new Ur,this._localParentSampled=(s=e.localParentSampled)!==null&&s!==void 0?s:new Xt,this._localParentNotSampled=(a=e.localParentNotSampled)!==null&&a!==void 0?a:new Ur}shouldSample(e,t,o,s,a,i){let n=ie.getSpanContext(e);return!n||!xe(n)?this._root.shouldSample(e,t,o,s,a,i):n.isRemote?n.traceFlags&se.SAMPLED?this._remoteParentSampled.shouldSample(e,t,o,s,a,i):this._remoteParentNotSampled.shouldSample(e,t,o,s,a,i):n.traceFlags&se.SAMPLED?this._localParentSampled.shouldSample(e,t,o,s,a,i):this._localParentNotSampled.shouldSample(e,t,o,s,a,i)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}}});var Gi,mS=p(()=>{P();Fl();Gi=class{constructor(e=0){this._ratio=e,this._ratio=this._normalize(e),this._upperBound=Math.floor(this._ratio*4294967295)}shouldSample(e,t){return{decision:Mt(t)&&this._accumulate(t)<this._upperBound?dr.RECORD_AND_SAMPLED:dr.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(e){return typeof e!="number"||isNaN(e)?0:e>=1?1:e<=0?0:e}_accumulate(e){let t=0;for(let o=0;o<e.length/8;o++){let s=o*8,a=parseInt(e.slice(s,s+8),16);t=(t^a)>>>0}return t}}});function cd(){let r=zt();return{sampler:TS(sre),forceFlushTimeoutMillis:3e4,generalLimits:{attributeValueLengthLimit:r.OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:r.OTEL_ATTRIBUTE_COUNT_LIMIT},spanLimits:{attributeValueLengthLimit:r.OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:r.OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT,linkCountLimit:r.OTEL_SPAN_LINK_COUNT_LIMIT,eventCountLimit:r.OTEL_SPAN_EVENT_COUNT_LIMIT,attributePerEventCountLimit:r.OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT,attributePerLinkCountLimit:r.OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT},mergeResourceWithDefaults:!0}}function TS(r=zt()){switch(r.OTEL_TRACES_SAMPLER){case Ut.AlwaysOn:return new Xt;case Ut.AlwaysOff:return new Ur;case Ut.ParentBasedAlwaysOn:return new Gn({root:new Xt});case Ut.ParentBasedAlwaysOff:return new Gn({root:new Ur});case Ut.TraceIdRatio:return new Gi(kU(r));case Ut.ParentBasedTraceIdRatio:return new Gn({root:new Gi(kU(r))});default:return S.error(`OTEL_TRACES_SAMPLER value "${r.OTEL_TRACES_SAMPLER} invalid, defaulting to ${are}".`),new Xt}}function kU(r){if(r.OTEL_TRACES_SAMPLER_ARG===void 0||r.OTEL_TRACES_SAMPLER_ARG==="")return S.error(`OTEL_TRACES_SAMPLER_ARG is blank, defaulting to ${bs}.`),bs;let e=Number(r.OTEL_TRACES_SAMPLER_ARG);return isNaN(e)?(S.error(`OTEL_TRACES_SAMPLER_ARG=${r.OTEL_TRACES_SAMPLER_ARG} was given, but it is invalid, defaulting to ${bs}.`),bs):e<0||e>1?(S.error(`OTEL_TRACES_SAMPLER_ARG=${r.OTEL_TRACES_SAMPLER_ARG} was given, but it is out of range ([0..1]), defaulting to ${bs}.`),bs):e}var sre,are,bs,SS=p(()=>{P();kt();ad();ld();ES();mS();sre=zt(),are=Ut.AlwaysOn,bs=1});function BU(r){let e={sampler:TS()},t=cd(),o=Object.assign({},t,e,r);return o.generalLimits=Object.assign({},t.generalLimits,r.generalLimits||{}),o.spanLimits=Object.assign({},t.spanLimits,r.spanLimits||{}),o}function VU(r){var e,t,o,s,a,i,n,l,c,u,f,_;let m=Object.assign({},r.spanLimits),O=Dl();return m.attributeCountLimit=(i=(a=(s=(t=(e=r.spanLimits)===null||e===void 0?void 0:e.attributeCountLimit)!==null&&t!==void 0?t:(o=r.generalLimits)===null||o===void 0?void 0:o.attributeCountLimit)!==null&&s!==void 0?s:O.OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT)!==null&&a!==void 0?a:O.OTEL_ATTRIBUTE_COUNT_LIMIT)!==null&&i!==void 0?i:Ps,m.attributeValueLengthLimit=(_=(f=(u=(l=(n=r.spanLimits)===null||n===void 0?void 0:n.attributeValueLengthLimit)!==null&&l!==void 0?l:(c=r.generalLimits)===null||c===void 0?void 0:c.attributeValueLengthLimit)!==null&&u!==void 0?u:O.OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT)!==null&&f!==void 0?f:O.OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT)!==null&&_!==void 0?_:Cs,Object.assign({},r,{spanLimits:m})}var gS=p(()=>{SS();kt()});var ud,FU=p(()=>{P();kt();ud=class{constructor(e,t){this._exporter=e,this._isExporting=!1,this._finishedSpans=[],this._droppedSpansCount=0;let o=zt();this._maxExportBatchSize=typeof(t==null?void 0:t.maxExportBatchSize)=="number"?t.maxExportBatchSize:o.OTEL_BSP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize=typeof(t==null?void 0:t.maxQueueSize)=="number"?t.maxQueueSize:o.OTEL_BSP_MAX_QUEUE_SIZE,this._scheduledDelayMillis=typeof(t==null?void 0:t.scheduledDelayMillis)=="number"?t.scheduledDelayMillis:o.OTEL_BSP_SCHEDULE_DELAY,this._exportTimeoutMillis=typeof(t==null?void 0:t.exportTimeoutMillis)=="number"?t.exportTimeoutMillis:o.OTEL_BSP_EXPORT_TIMEOUT,this._shutdownOnce=new Fi(this._shutdown,this),this._maxExportBatchSize>this._maxQueueSize&&(S.warn("BatchSpanProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"),this._maxExportBatchSize=this._maxQueueSize)}forceFlush(){return this._shutdownOnce.isCalled?this._shutdownOnce.promise:this._flushAll()}onStart(e,t){}onEnd(e){this._shutdownOnce.isCalled||(e.spanContext().traceFlags&se.SAMPLED)!==0&&this._addToBuffer(e)}shutdown(){return this._shutdownOnce.call()}_shutdown(){return Promise.resolve().then(()=>this.onShutdown()).then(()=>this._flushAll()).then(()=>this._exporter.shutdown())}_addToBuffer(e){if(this._finishedSpans.length>=this._maxQueueSize){this._droppedSpansCount===0&&S.debug("maxQueueSize reached, dropping spans"),this._droppedSpansCount++;return}this._droppedSpansCount>0&&(S.warn(`Dropped ${this._droppedSpansCount} spans because maxQueueSize reached`),this._droppedSpansCount=0),this._finishedSpans.push(e),this._maybeStartTimer()}_flushAll(){return new Promise((e,t)=>{let o=[],s=Math.ceil(this._finishedSpans.length/this._maxExportBatchSize);for(let a=0,i=s;a<i;a++)o.push(this._flushOneBatch());Promise.all(o).then(()=>{e()}).catch(t)})}_flushOneBatch(){return this._clearTimer(),this._finishedSpans.length===0?Promise.resolve():new Promise((e,t)=>{let o=setTimeout(()=>{t(new Error("Timeout"))},this._exportTimeoutMillis);me.with(xl(me.active()),()=>{let s;this._finishedSpans.length<=this._maxExportBatchSize?(s=this._finishedSpans,this._finishedSpans=[]):s=this._finishedSpans.splice(0,this._maxExportBatchSize);let a=()=>this._exporter.export(s,n=>{var l;clearTimeout(o),n.code===$t.SUCCESS?e():t((l=n.error)!==null&&l!==void 0?l:new Error("BatchSpanProcessor: span export failed"))}),i=null;for(let n=0,l=s.length;n<l;n++){let c=s[n];c.resource.asyncAttributesPending&&c.resource.waitForAsyncAttributes&&(i??(i=[]),i.push(c.resource.waitForAsyncAttributes()))}i===null?a():Promise.all(i).then(a,n=>{Kt(n),t(n)})})})}_maybeStartTimer(){if(this._isExporting)return;let e=()=>{this._isExporting=!0,this._flushOneBatch().finally(()=>{this._isExporting=!1,this._finishedSpans.length>0&&(this._clearTimer(),this._maybeStartTimer())}).catch(t=>{this._isExporting=!1,Kt(t)})};if(this._finishedSpans.length>=this._maxExportBatchSize)return e();this._timer===void 0&&(this._timer=setTimeout(()=>e(),this._scheduledDelayMillis),Ul(this._timer))}_clearTimer(){this._timer!==void 0&&(clearTimeout(this._timer),this._timer=void 0)}}});var Hn,GU=p(()=>{FU();Hn=class extends ud{onShutdown(){}}});function HU(r){return function(){for(let t=0;t<r/4;t++)fd.writeUInt32BE(Math.random()*2**32>>>0,t*4);for(let t=0;t<r&&!(fd[t]>0);t++)t===r-1&&(fd[r-1]=1);return fd.toString("hex",0,r)}}var qn,fd,qU=p(()=>{qn=class{constructor(){this.generateTraceId=HU(16),this.generateSpanId=HU(8)}},fd=Buffer.allocUnsafe(16)});var jU=p(()=>{GU();qU()});var pd=p(()=>{jU()});var Ls,YU=p(()=>{P();kt();_S();gS();pd();Ls=class{constructor(e,t,o){this._tracerProvider=o;let s=BU(t);this._sampler=s.sampler,this._generalLimits=s.generalLimits,this._spanLimits=s.spanLimits,this._idGenerator=t.idGenerator||new qn,this.resource=o.resource,this.instrumentationLibrary=e}startSpan(e,t={},o=me.active()){var s,a,i;t.root&&(o=ie.deleteSpan(o));let n=ie.getSpan(o);if(Ui(o))return S.debug("Instrumentation suppressed, returning Noop Span"),ie.wrapSpanContext(Bo);let l=n==null?void 0:n.spanContext(),c=this._idGenerator.generateSpanId(),u,f,_;!l||!ie.isSpanContextValid(l)?u=this._idGenerator.generateTraceId():(u=l.traceId,f=l.traceState,_=l.spanId);let m=(s=t.kind)!==null&&s!==void 0?s:qt.INTERNAL,O=((a=t.links)!==null&&a!==void 0?a:[]).map(K=>({context:K.context,attributes:ki(K.attributes)})),y=ki(t.attributes),A=this._sampler.shouldSample(o,u,e,m,y,O);f=(i=A.traceState)!==null&&i!==void 0?i:f;let I=A.decision===ke.RECORD_AND_SAMPLED?se.SAMPLED:se.NONE,M={traceId:u,spanId:c,traceFlags:I,traceState:f};if(A.decision===ke.NOT_RECORD)return S.debug("Recording is off, propagating context in a non-recording span"),ie.wrapSpanContext(M);let F=ki(Object.assign(y,A.attributes));return new Is(this,o,e,M,m,_,O,t.startTime,void 0,F)}startActiveSpan(e,t,o,s){let a,i,n;if(arguments.length<2)return;arguments.length===2?n=t:arguments.length===3?(a=t,n=o):(a=t,i=o,n=s);let l=i??me.active(),c=this.startSpan(e,a,l),u=ie.setSpan(l,c);return me.with(u,n,void 0,c)}getGeneralLimits(){return this._generalLimits}getSpanLimits(){return this._spanLimits}getActiveSpanProcessor(){return this._tracerProvider.getActiveSpanProcessor()}}});function dd(){return`unknown_service:${process.argv0}`}var KU=p(()=>{});var zU=p(()=>{KU()});var $U=p(()=>{zU()});var jn,XU=p(()=>{P();Ve();kt();$U();jn=class r{constructor(e,t){var o;this._attributes=e,this.asyncAttributesPending=t!=null,this._syncAttributes=(o=this._attributes)!==null&&o!==void 0?o:{},this._asyncAttributesPromise=t==null?void 0:t.then(s=>(this._attributes=Object.assign({},this._attributes,s),this.asyncAttributesPending=!1,s),s=>(S.debug("a resource's async attributes promise rejected: %s",s),this.asyncAttributesPending=!1,{}))}static empty(){return r.EMPTY}static default(){return new r({[at]:dd(),[ge]:Bi[ge],[Se]:Bi[Se],[ve]:Bi[ve]})}get attributes(){var e;return this.asyncAttributesPending&&S.error("Accessing resource attributes before async attributes settled"),(e=this._attributes)!==null&&e!==void 0?e:{}}async waitForAsyncAttributes(){this.asyncAttributesPending&&await this._asyncAttributesPromise}merge(e){var t;if(!e)return this;let o=Object.assign(Object.assign({},this._syncAttributes),(t=e._syncAttributes)!==null&&t!==void 0?t:e.attributes);if(!this._asyncAttributesPromise&&!e._asyncAttributesPromise)return new r(o);let s=Promise.all([this._asyncAttributesPromise,e._asyncAttributesPromise]).then(([a,i])=>{var n;return Object.assign(Object.assign(Object.assign(Object.assign({},this._syncAttributes),a),(n=e._syncAttributes)!==null&&n!==void 0?n:e.attributes),i)});return new r(o,s)}};jn.EMPTY=new jn({})});var WU=p(()=>{XU()});var Gl,JU=p(()=>{kt();Gl=class{constructor(e){this._spanProcessors=e}forceFlush(){let e=[];for(let t of this._spanProcessors)e.push(t.forceFlush());return new Promise(t=>{Promise.all(e).then(()=>{t()}).catch(o=>{Kt(o||new Error("MultiSpanProcessor: forceFlush failed")),t()})})}onStart(e,t){for(let o of this._spanProcessors)o.onStart(e,t)}onEnd(e){for(let t of this._spanProcessors)t.onEnd(e)}shutdown(){let e=[];for(let t of this._spanProcessors)e.push(t.shutdown());return new Promise((t,o)=>{Promise.all(e).then(()=>{t()},o)})}}});var xs,vS=p(()=>{xs=class{onStart(e,t){}onEnd(e){}shutdown(){return Promise.resolve()}forceFlush(){return Promise.resolve()}}});var pn,Ms,QU=p(()=>{P();kt();WU();Hi();SS();JU();vS();pd();gS();(function(r){r[r.resolved=0]="resolved",r[r.timeout=1]="timeout",r[r.error=2]="error",r[r.unresolved=3]="unresolved"})(pn||(pn={}));Ms=class{constructor(e={}){var t,o;this._registeredSpanProcessors=[],this._tracers=new Map;let s=hS({},cd(),VU(e));if(this.resource=(t=s.resource)!==null&&t!==void 0?t:jn.empty(),s.mergeResourceWithDefaults&&(this.resource=jn.default().merge(this.resource)),this._config=Object.assign({},s,{resource:this.resource}),!((o=e.spanProcessors)===null||o===void 0)&&o.length)this._registeredSpanProcessors=[...e.spanProcessors],this.activeSpanProcessor=new Gl(this._registeredSpanProcessors);else{let a=this._buildExporterFromEnv();if(a!==void 0){let i=new Hn(a);this.activeSpanProcessor=i}else this.activeSpanProcessor=new xs}}getTracer(e,t,o){let s=`${e}@${t||""}:${(o==null?void 0:o.schemaUrl)||""}`;return this._tracers.has(s)||this._tracers.set(s,new Ls({name:e,version:t,schemaUrl:o==null?void 0:o.schemaUrl},this._config,this)),this._tracers.get(s)}addSpanProcessor(e){this._registeredSpanProcessors.length===0&&this.activeSpanProcessor.shutdown().catch(t=>S.error("Error while trying to shutdown current span processor",t)),this._registeredSpanProcessors.push(e),this.activeSpanProcessor=new Gl(this._registeredSpanProcessors)}getActiveSpanProcessor(){return this.activeSpanProcessor}register(e={}){ie.setGlobalTracerProvider(this),e.propagator===void 0&&(e.propagator=this._buildPropagatorFromEnv()),e.contextManager&&me.setGlobalContextManager(e.contextManager),e.propagator&&Ue.setGlobalPropagator(e.propagator)}forceFlush(){let e=this._config.forceFlushTimeoutMillis,t=this._registeredSpanProcessors.map(o=>new Promise(s=>{let a,i=setTimeout(()=>{s(new Error(`Span processor did not completed within timeout period of ${e} ms`)),a=pn.timeout},e);o.forceFlush().then(()=>{clearTimeout(i),a!==pn.timeout&&(a=pn.resolved,s(a))}).catch(n=>{clearTimeout(i),a=pn.error,s(n)})}));return new Promise((o,s)=>{Promise.all(t).then(a=>{let i=a.filter(n=>n!==pn.resolved);i.length>0?s(i):o()}).catch(a=>s([a]))})}shutdown(){return this.activeSpanProcessor.shutdown()}_getPropagator(e){var t;return(t=this.constructor._registeredPropagators.get(e))===null||t===void 0?void 0:t()}_getSpanExporter(e){var t;return(t=this.constructor._registeredExporters.get(e))===null||t===void 0?void 0:t()}_buildPropagatorFromEnv(){let e=Array.from(new Set(zt().OTEL_PROPAGATORS)),o=e.map(s=>{let a=this._getPropagator(s);return a||S.warn(`Propagator "${s}" requested through environment variable is unavailable.`),a}).reduce((s,a)=>(a&&s.push(a),s),[]);if(o.length!==0)return e.length===1?o[0]:new kl({propagators:o})}_buildExporterFromEnv(){let e=zt().OTEL_TRACES_EXPORTER;if(e==="none"||e==="")return;let t=this._getSpanExporter(e);return t||S.error(`Exporter "${e}" requested through environment variable is unavailable.`),t}};Ms._registeredPropagators=new Map([["tracecontext",()=>new Bl],["baggage",()=>new wl]]);Ms._registeredExporters=new Map});var hd,ZU=p(()=>{kt();hd=class{export(e,t){return this._sendSpans(e,t)}shutdown(){return this._sendSpans([]),this.forceFlush()}forceFlush(){return Promise.resolve()}_exportInfo(e){var t;return{resource:{attributes:e.resource.attributes},instrumentationScope:e.instrumentationLibrary,traceId:e.spanContext().traceId,parentId:e.parentSpanId,traceState:(t=e.spanContext().traceState)===null||t===void 0?void 0:t.serialize(),name:e.name,id:e.spanContext().spanId,kind:e.kind,timestamp:Jp(e.startTime),duration:Jp(e.duration),attributes:e.attributes,status:e.status,events:e.events,links:e.links}}_sendSpans(e,t){for(let o of e)console.dir(this._exportInfo(o),{depth:3});if(t)return t({code:$t.SUCCESS})}}});var _d,ek=p(()=>{kt();_d=class{constructor(){this._finishedSpans=[],this._stopped=!1}export(e,t){if(this._stopped)return t({code:$t.FAILED,error:new Error("Exporter has been stopped")});this._finishedSpans.push(...e),setTimeout(()=>t({code:$t.SUCCESS}),0)}shutdown(){return this._stopped=!0,this._finishedSpans=[],this.forceFlush()}forceFlush(){return Promise.resolve()}reset(){this._finishedSpans=[]}getFinishedSpans(){return this._finishedSpans}}});var Ed,tk=p(()=>{P();kt();Ed=class{constructor(e){this._exporter=e,this._shutdownOnce=new Fi(this._shutdown,this),this._unresolvedExports=new Set}async forceFlush(){await Promise.all(Array.from(this._unresolvedExports)),this._exporter.forceFlush&&await this._exporter.forceFlush()}onStart(e,t){}onEnd(e){var t,o;if(this._shutdownOnce.isCalled||(e.spanContext().traceFlags&se.SAMPLED)===0)return;let s=()=>wU._export(this._exporter,[e]).then(a=>{var i;a.code!==$t.SUCCESS&&Kt((i=a.error)!==null&&i!==void 0?i:new Error(`SimpleSpanProcessor: span export failed (status ${a})`))}).catch(a=>{Kt(a)});if(e.resource.asyncAttributesPending){let a=(o=(t=e.resource).waitForAsyncAttributes)===null||o===void 0?void 0:o.call(t).then(()=>(a!=null&&this._unresolvedExports.delete(a),s()),i=>Kt(i));a!=null&&this._unresolvedExports.add(a)}else s()}shutdown(){return this._shutdownOnce.call()}_shutdown(){return this._exporter.shutdown()}}});var ws={};Ae(ws,{AlwaysOffSampler:()=>Ur,AlwaysOnSampler:()=>Xt,BasicTracerProvider:()=>Ms,BatchSpanProcessor:()=>Hn,ConsoleSpanExporter:()=>hd,ForceFlushState:()=>pn,InMemorySpanExporter:()=>_d,NoopSpanProcessor:()=>xs,ParentBasedSampler:()=>Gn,RandomIdGenerator:()=>qn,SamplingDecision:()=>dr,SimpleSpanProcessor:()=>Ed,Span:()=>Is,TraceIdRatioBasedSampler:()=>Gi,Tracer:()=>Ls});var Hi=p(()=>{YU();QU();pd();ZU();ek();tk();vS();ad();ld();ES();mS();Fl();_S()});var Hl=T((kMe,rk)=>{"use strict";var lre="2.0.0",cre=Number.MAX_SAFE_INTEGER||9007199254740991,ure=16,fre=250,pre=["major","premajor","minor","preminor","patch","prepatch","prerelease"];rk.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:ure,MAX_SAFE_BUILD_LENGTH:fre,MAX_SAFE_INTEGER:cre,RELEASE_TYPES:pre,SEMVER_SPEC_VERSION:lre,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var ql=T((BMe,nk)=>{"use strict";var dre=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...r)=>console.error("SEMVER",...r):()=>{};nk.exports=dre});var Ds=T((kr,ik)=>{"use strict";var{MAX_SAFE_COMPONENT_LENGTH:yS,MAX_SAFE_BUILD_LENGTH:hre,MAX_LENGTH:_re}=Hl(),Ere=ql();kr=ik.exports={};var mre=kr.re=[],Tre=kr.safeRe=[],D=kr.src=[],Sre=kr.safeSrc=[],U=kr.t={},gre=0,OS="[a-zA-Z0-9-]",vre=[["\\s",1],["\\d",_re],[OS,hre]],yre=r=>{for(let[e,t]of vre)r=r.split(`${e}*`).join(`${e}{0,${t}}`).split(`${e}+`).join(`${e}{1,${t}}`);return r},re=(r,e,t)=>{let o=yre(e),s=gre++;Ere(r,s,e),U[r]=s,D[s]=e,Sre[s]=o,mre[s]=new RegExp(e,t?"g":void 0),Tre[s]=new RegExp(o,t?"g":void 0)};re("NUMERICIDENTIFIER","0|[1-9]\\d*");re("NUMERICIDENTIFIERLOOSE","\\d+");re("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${OS}*`);re("MAINVERSION",`(${D[U.NUMERICIDENTIFIER]})\\.(${D[U.NUMERICIDENTIFIER]})\\.(${D[U.NUMERICIDENTIFIER]})`);re("MAINVERSIONLOOSE",`(${D[U.NUMERICIDENTIFIERLOOSE]})\\.(${D[U.NUMERICIDENTIFIERLOOSE]})\\.(${D[U.NUMERICIDENTIFIERLOOSE]})`);re("PRERELEASEIDENTIFIER",`(?:${D[U.NONNUMERICIDENTIFIER]}|${D[U.NUMERICIDENTIFIER]})`);re("PRERELEASEIDENTIFIERLOOSE",`(?:${D[U.NONNUMERICIDENTIFIER]}|${D[U.NUMERICIDENTIFIERLOOSE]})`);re("PRERELEASE",`(?:-(${D[U.PRERELEASEIDENTIFIER]}(?:\\.${D[U.PRERELEASEIDENTIFIER]})*))`);re("PRERELEASELOOSE",`(?:-?(${D[U.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${D[U.PRERELEASEIDENTIFIERLOOSE]})*))`);re("BUILDIDENTIFIER",`${OS}+`);re("BUILD",`(?:\\+(${D[U.BUILDIDENTIFIER]}(?:\\.${D[U.BUILDIDENTIFIER]})*))`);re("FULLPLAIN",`v?${D[U.MAINVERSION]}${D[U.PRERELEASE]}?${D[U.BUILD]}?`);re("FULL",`^${D[U.FULLPLAIN]}$`);re("LOOSEPLAIN",`[v=\\s]*${D[U.MAINVERSIONLOOSE]}${D[U.PRERELEASELOOSE]}?${D[U.BUILD]}?`);re("LOOSE",`^${D[U.LOOSEPLAIN]}$`);re("GTLT","((?:<|>)?=?)");re("XRANGEIDENTIFIERLOOSE",`${D[U.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);re("XRANGEIDENTIFIER",`${D[U.NUMERICIDENTIFIER]}|x|X|\\*`);re("XRANGEPLAIN",`[v=\\s]*(${D[U.XRANGEIDENTIFIER]})(?:\\.(${D[U.XRANGEIDENTIFIER]})(?:\\.(${D[U.XRANGEIDENTIFIER]})(?:${D[U.PRERELEASE]})?${D[U.BUILD]}?)?)?`);re("XRANGEPLAINLOOSE",`[v=\\s]*(${D[U.XRANGEIDENTIFIERLOOSE]})(?:\\.(${D[U.XRANGEIDENTIFIERLOOSE]})(?:\\.(${D[U.XRANGEIDENTIFIERLOOSE]})(?:${D[U.PRERELEASELOOSE]})?${D[U.BUILD]}?)?)?`);re("XRANGE",`^${D[U.GTLT]}\\s*${D[U.XRANGEPLAIN]}$`);re("XRANGELOOSE",`^${D[U.GTLT]}\\s*${D[U.XRANGEPLAINLOOSE]}$`);re("COERCEPLAIN",`(^|[^\\d])(\\d{1,${yS}})(?:\\.(\\d{1,${yS}}))?(?:\\.(\\d{1,${yS}}))?`);re("COERCE",`${D[U.COERCEPLAIN]}(?:$|[^\\d])`);re("COERCEFULL",D[U.COERCEPLAIN]+`(?:${D[U.PRERELEASE]})?(?:${D[U.BUILD]})?(?:$|[^\\d])`);re("COERCERTL",D[U.COERCE],!0);re("COERCERTLFULL",D[U.COERCEFULL],!0);re("LONETILDE","(?:~>?)");re("TILDETRIM",`(\\s*)${D[U.LONETILDE]}\\s+`,!0);kr.tildeTrimReplace="$1~";re("TILDE",`^${D[U.LONETILDE]}${D[U.XRANGEPLAIN]}$`);re("TILDELOOSE",`^${D[U.LONETILDE]}${D[U.XRANGEPLAINLOOSE]}$`);re("LONECARET","(?:\\^)");re("CARETTRIM",`(\\s*)${D[U.LONECARET]}\\s+`,!0);kr.caretTrimReplace="$1^";re("CARET",`^${D[U.LONECARET]}${D[U.XRANGEPLAIN]}$`);re("CARETLOOSE",`^${D[U.LONECARET]}${D[U.XRANGEPLAINLOOSE]}$`);re("COMPARATORLOOSE",`^${D[U.GTLT]}\\s*(${D[U.LOOSEPLAIN]})$|^$`);re("COMPARATOR",`^${D[U.GTLT]}\\s*(${D[U.FULLPLAIN]})$|^$`);re("COMPARATORTRIM",`(\\s*)${D[U.GTLT]}\\s*(${D[U.LOOSEPLAIN]}|${D[U.XRANGEPLAIN]})`,!0);kr.comparatorTrimReplace="$1$2$3";re("HYPHENRANGE",`^\\s*(${D[U.XRANGEPLAIN]})\\s+-\\s+(${D[U.XRANGEPLAIN]})\\s*$`);re("HYPHENRANGELOOSE",`^\\s*(${D[U.XRANGEPLAINLOOSE]})\\s+-\\s+(${D[U.XRANGEPLAINLOOSE]})\\s*$`);re("STAR","(<|>)?=?\\s*\\*");re("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");re("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var md=T((VMe,ok)=>{"use strict";var Ore=Object.freeze({loose:!0}),Are=Object.freeze({}),Rre=r=>r?typeof r!="object"?Ore:r:Are;ok.exports=Rre});var AS=T((FMe,lk)=>{"use strict";var sk=/^[0-9]+$/,ak=(r,e)=>{let t=sk.test(r),o=sk.test(e);return t&&o&&(r=+r,e=+e),r===e?0:t&&!o?-1:o&&!t?1:r<e?-1:1},Nre=(r,e)=>ak(e,r);lk.exports={compareIdentifiers:ak,rcompareIdentifiers:Nre}});var pt=T((GMe,uk)=>{"use strict";var Td=ql(),{MAX_LENGTH:ck,MAX_SAFE_INTEGER:Sd}=Hl(),{safeRe:gd,t:vd}=Ds(),Cre=md(),{compareIdentifiers:Us}=AS(),RS=class r{constructor(e,t){if(t=Cre(t),e instanceof r){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>ck)throw new TypeError(`version is longer than ${ck} characters`);Td("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;let o=e.trim().match(t.loose?gd[vd.LOOSE]:gd[vd.FULL]);if(!o)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+o[1],this.minor=+o[2],this.patch=+o[3],this.major>Sd||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Sd||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Sd||this.patch<0)throw new TypeError("Invalid patch version");o[4]?this.prerelease=o[4].split(".").map(s=>{if(/^[0-9]+$/.test(s)){let a=+s;if(a>=0&&a<Sd)return a}return s}):this.prerelease=[],this.build=o[5]?o[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(Td("SemVer.compare",this.version,this.options,e),!(e instanceof r)){if(typeof e=="string"&&e===this.version)return 0;e=new r(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof r||(e=new r(e,this.options)),Us(this.major,e.major)||Us(this.minor,e.minor)||Us(this.patch,e.patch)}comparePre(e){if(e instanceof r||(e=new r(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{let o=this.prerelease[t],s=e.prerelease[t];if(Td("prerelease compare",t,o,s),o===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(o===void 0)return-1;if(o===s)continue;return Us(o,s)}while(++t)}compareBuild(e){e instanceof r||(e=new r(e,this.options));let t=0;do{let o=this.build[t],s=e.build[t];if(Td("build compare",t,o,s),o===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(o===void 0)return-1;if(o===s)continue;return Us(o,s)}while(++t)}inc(e,t,o){if(e.startsWith("pre")){if(!t&&o===!1)throw new Error("invalid increment argument: identifier is empty");if(t){let s=`-${t}`.match(this.options.loose?gd[vd.PRERELEASELOOSE]:gd[vd.PRERELEASE]);if(!s||s[1]!==t)throw new Error(`invalid identifier: ${t}`)}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,o);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,o);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,o),this.inc("pre",t,o);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",t,o),this.inc("pre",t,o);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let s=Number(o)?1:0;if(this.prerelease.length===0)this.prerelease=[s];else{let a=this.prerelease.length;for(;--a>=0;)typeof this.prerelease[a]=="number"&&(this.prerelease[a]++,a=-2);if(a===-1){if(t===this.prerelease.join(".")&&o===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(s)}}if(t){let a=[t,s];o===!1&&(a=[t]),Us(this.prerelease[0],t)===0?isNaN(this.prerelease[1])&&(this.prerelease=a):this.prerelease=a}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};uk.exports=RS});var qi=T((HMe,pk)=>{"use strict";var fk=pt(),Pre=(r,e,t=!1)=>{if(r instanceof fk)return r;try{return new fk(r,e)}catch(o){if(!t)return null;throw o}};pk.exports=Pre});var hk=T((qMe,dk)=>{"use strict";var Ire=qi(),bre=(r,e)=>{let t=Ire(r,e);return t?t.version:null};dk.exports=bre});var Ek=T((jMe,_k)=>{"use strict";var Lre=qi(),xre=(r,e)=>{let t=Lre(r.trim().replace(/^[=v]+/,""),e);return t?t.version:null};_k.exports=xre});var Sk=T((YMe,Tk)=>{"use strict";var mk=pt(),Mre=(r,e,t,o,s)=>{typeof t=="string"&&(s=o,o=t,t=void 0);try{return new mk(r instanceof mk?r.version:r,t).inc(e,o,s).version}catch{return null}};Tk.exports=Mre});var yk=T((KMe,vk)=>{"use strict";var gk=qi(),wre=(r,e)=>{let t=gk(r,null,!0),o=gk(e,null,!0),s=t.compare(o);if(s===0)return null;let a=s>0,i=a?t:o,n=a?o:t,l=!!i.prerelease.length;if(!!n.prerelease.length&&!l){if(!n.patch&&!n.minor)return"major";if(n.compareMain(i)===0)return n.minor&&!n.patch?"minor":"patch"}let u=l?"pre":"";return t.major!==o.major?u+"major":t.minor!==o.minor?u+"minor":t.patch!==o.patch?u+"patch":"prerelease"};vk.exports=wre});var Ak=T((zMe,Ok)=>{"use strict";var Dre=pt(),Ure=(r,e)=>new Dre(r,e).major;Ok.exports=Ure});var Nk=T(($Me,Rk)=>{"use strict";var kre=pt(),Bre=(r,e)=>new kre(r,e).minor;Rk.exports=Bre});var Pk=T((XMe,Ck)=>{"use strict";var Vre=pt(),Fre=(r,e)=>new Vre(r,e).patch;Ck.exports=Fre});var bk=T((WMe,Ik)=>{"use strict";var Gre=qi(),Hre=(r,e)=>{let t=Gre(r,e);return t&&t.prerelease.length?t.prerelease:null};Ik.exports=Hre});var Wt=T((JMe,xk)=>{"use strict";var Lk=pt(),qre=(r,e,t)=>new Lk(r,t).compare(new Lk(e,t));xk.exports=qre});var wk=T((QMe,Mk)=>{"use strict";var jre=Wt(),Yre=(r,e,t)=>jre(e,r,t);Mk.exports=Yre});var Uk=T((ZMe,Dk)=>{"use strict";var Kre=Wt(),zre=(r,e)=>Kre(r,e,!0);Dk.exports=zre});var yd=T((ewe,Bk)=>{"use strict";var kk=pt(),$re=(r,e,t)=>{let o=new kk(r,t),s=new kk(e,t);return o.compare(s)||o.compareBuild(s)};Bk.exports=$re});var Fk=T((twe,Vk)=>{"use strict";var Xre=yd(),Wre=(r,e)=>r.sort((t,o)=>Xre(t,o,e));Vk.exports=Wre});var Hk=T((rwe,Gk)=>{"use strict";var Jre=yd(),Qre=(r,e)=>r.sort((t,o)=>Jre(o,t,e));Gk.exports=Qre});var jl=T((nwe,qk)=>{"use strict";var Zre=Wt(),ene=(r,e,t)=>Zre(r,e,t)>0;qk.exports=ene});var Od=T((iwe,jk)=>{"use strict";var tne=Wt(),rne=(r,e,t)=>tne(r,e,t)<0;jk.exports=rne});var NS=T((owe,Yk)=>{"use strict";var nne=Wt(),ine=(r,e,t)=>nne(r,e,t)===0;Yk.exports=ine});var CS=T((swe,Kk)=>{"use strict";var one=Wt(),sne=(r,e,t)=>one(r,e,t)!==0;Kk.exports=sne});var Ad=T((awe,zk)=>{"use strict";var ane=Wt(),lne=(r,e,t)=>ane(r,e,t)>=0;zk.exports=lne});var Rd=T((lwe,$k)=>{"use strict";var cne=Wt(),une=(r,e,t)=>cne(r,e,t)<=0;$k.exports=une});var PS=T((cwe,Xk)=>{"use strict";var fne=NS(),pne=CS(),dne=jl(),hne=Ad(),_ne=Od(),Ene=Rd(),mne=(r,e,t,o)=>{switch(e){case"===":return typeof r=="object"&&(r=r.version),typeof t=="object"&&(t=t.version),r===t;case"!==":return typeof r=="object"&&(r=r.version),typeof t=="object"&&(t=t.version),r!==t;case"":case"=":case"==":return fne(r,t,o);case"!=":return pne(r,t,o);case">":return dne(r,t,o);case">=":return hne(r,t,o);case"<":return _ne(r,t,o);case"<=":return Ene(r,t,o);default:throw new TypeError(`Invalid operator: ${e}`)}};Xk.exports=mne});var Jk=T((uwe,Wk)=>{"use strict";var Tne=pt(),Sne=qi(),{safeRe:Nd,t:Cd}=Ds(),gne=(r,e)=>{if(r instanceof Tne)return r;if(typeof r=="number"&&(r=String(r)),typeof r!="string")return null;e=e||{};let t=null;if(!e.rtl)t=r.match(e.includePrerelease?Nd[Cd.COERCEFULL]:Nd[Cd.COERCE]);else{let l=e.includePrerelease?Nd[Cd.COERCERTLFULL]:Nd[Cd.COERCERTL],c;for(;(c=l.exec(r))&&(!t||t.index+t[0].length!==r.length);)(!t||c.index+c[0].length!==t.index+t[0].length)&&(t=c),l.lastIndex=c.index+c[1].length+c[2].length;l.lastIndex=-1}if(t===null)return null;let o=t[2],s=t[3]||"0",a=t[4]||"0",i=e.includePrerelease&&t[5]?`-${t[5]}`:"",n=e.includePrerelease&&t[6]?`+${t[6]}`:"";return Sne(`${o}.${s}.${a}${i}${n}`,e)};Wk.exports=gne});var Zk=T((fwe,Qk)=>{"use strict";var IS=class{constructor(){this.max=1e3,this.map=new Map}get(e){let t=this.map.get(e);if(t!==void 0)return this.map.delete(e),this.map.set(e,t),t}delete(e){return this.map.delete(e)}set(e,t){if(!this.delete(e)&&t!==void 0){if(this.map.size>=this.max){let s=this.map.keys().next().value;this.delete(s)}this.map.set(e,t)}return this}};Qk.exports=IS});var Jt=T((pwe,nB)=>{"use strict";var vne=/\s+/g,bS=class r{constructor(e,t){if(t=One(t),e instanceof r)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new r(e.raw,t);if(e instanceof LS)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().replace(vne," "),this.set=this.raw.split("||").map(o=>this.parseRange(o.trim())).filter(o=>o.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let o=this.set[0];if(this.set=this.set.filter(s=>!tB(s[0])),this.set.length===0)this.set=[o];else if(this.set.length>1){for(let s of this.set)if(s.length===1&&bne(s[0])){this.set=[s];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");let t=this.set[e];for(let o=0;o<t.length;o++)o>0&&(this.formatted+=" "),this.formatted+=t[o].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){let o=((this.options.includePrerelease&&Pne)|(this.options.loose&&Ine))+":"+e,s=eB.get(o);if(s)return s;let a=this.options.loose,i=a?Rt[Tt.HYPHENRANGELOOSE]:Rt[Tt.HYPHENRANGE];e=e.replace(i,Fne(this.options.includePrerelease)),be("hyphen replace",e),e=e.replace(Rt[Tt.COMPARATORTRIM],Rne),be("comparator trim",e),e=e.replace(Rt[Tt.TILDETRIM],Nne),be("tilde trim",e),e=e.replace(Rt[Tt.CARETTRIM],Cne),be("caret trim",e);let n=e.split(" ").map(f=>Lne(f,this.options)).join(" ").split(/\s+/).map(f=>Vne(f,this.options));a&&(n=n.filter(f=>(be("loose invalid filter",f,this.options),!!f.match(Rt[Tt.COMPARATORLOOSE])))),be("range list",n);let l=new Map,c=n.map(f=>new LS(f,this.options));for(let f of c){if(tB(f))return[f];l.set(f.value,f)}l.size>1&&l.has("")&&l.delete("");let u=[...l.values()];return eB.set(o,u),u}intersects(e,t){if(!(e instanceof r))throw new TypeError("a Range is required");return this.set.some(o=>rB(o,t)&&e.set.some(s=>rB(s,t)&&o.every(a=>s.every(i=>a.intersects(i,t)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new Ane(e,this.options)}catch{return!1}for(let t=0;t<this.set.length;t++)if(Gne(this.set[t],e,this.options))return!0;return!1}};nB.exports=bS;var yne=Zk(),eB=new yne,One=md(),LS=Yl(),be=ql(),Ane=pt(),{safeRe:Rt,t:Tt,comparatorTrimReplace:Rne,tildeTrimReplace:Nne,caretTrimReplace:Cne}=Ds(),{FLAG_INCLUDE_PRERELEASE:Pne,FLAG_LOOSE:Ine}=Hl(),tB=r=>r.value==="<0.0.0-0",bne=r=>r.value==="",rB=(r,e)=>{let t=!0,o=r.slice(),s=o.pop();for(;t&&o.length;)t=o.every(a=>s.intersects(a,e)),s=o.pop();return t},Lne=(r,e)=>(be("comp",r,e),r=wne(r,e),be("caret",r),r=xne(r,e),be("tildes",r),r=Une(r,e),be("xrange",r),r=Bne(r,e),be("stars",r),r),St=r=>!r||r.toLowerCase()==="x"||r==="*",xne=(r,e)=>r.trim().split(/\s+/).map(t=>Mne(t,e)).join(" "),Mne=(r,e)=>{let t=e.loose?Rt[Tt.TILDELOOSE]:Rt[Tt.TILDE];return r.replace(t,(o,s,a,i,n)=>{be("tilde",r,o,s,a,i,n);let l;return St(s)?l="":St(a)?l=`>=${s}.0.0 <${+s+1}.0.0-0`:St(i)?l=`>=${s}.${a}.0 <${s}.${+a+1}.0-0`:n?(be("replaceTilde pr",n),l=`>=${s}.${a}.${i}-${n} <${s}.${+a+1}.0-0`):l=`>=${s}.${a}.${i} <${s}.${+a+1}.0-0`,be("tilde return",l),l})},wne=(r,e)=>r.trim().split(/\s+/).map(t=>Dne(t,e)).join(" "),Dne=(r,e)=>{be("caret",r,e);let t=e.loose?Rt[Tt.CARETLOOSE]:Rt[Tt.CARET],o=e.includePrerelease?"-0":"";return r.replace(t,(s,a,i,n,l)=>{be("caret",r,s,a,i,n,l);let c;return St(a)?c="":St(i)?c=`>=${a}.0.0${o} <${+a+1}.0.0-0`:St(n)?a==="0"?c=`>=${a}.${i}.0${o} <${a}.${+i+1}.0-0`:c=`>=${a}.${i}.0${o} <${+a+1}.0.0-0`:l?(be("replaceCaret pr",l),a==="0"?i==="0"?c=`>=${a}.${i}.${n}-${l} <${a}.${i}.${+n+1}-0`:c=`>=${a}.${i}.${n}-${l} <${a}.${+i+1}.0-0`:c=`>=${a}.${i}.${n}-${l} <${+a+1}.0.0-0`):(be("no pr"),a==="0"?i==="0"?c=`>=${a}.${i}.${n}${o} <${a}.${i}.${+n+1}-0`:c=`>=${a}.${i}.${n}${o} <${a}.${+i+1}.0-0`:c=`>=${a}.${i}.${n} <${+a+1}.0.0-0`),be("caret return",c),c})},Une=(r,e)=>(be("replaceXRanges",r,e),r.split(/\s+/).map(t=>kne(t,e)).join(" ")),kne=(r,e)=>{r=r.trim();let t=e.loose?Rt[Tt.XRANGELOOSE]:Rt[Tt.XRANGE];return r.replace(t,(o,s,a,i,n,l)=>{be("xRange",r,o,s,a,i,n,l);let c=St(a),u=c||St(i),f=u||St(n),_=f;return s==="="&&_&&(s=""),l=e.includePrerelease?"-0":"",c?s===">"||s==="<"?o="<0.0.0-0":o="*":s&&_?(u&&(i=0),n=0,s===">"?(s=">=",u?(a=+a+1,i=0,n=0):(i=+i+1,n=0)):s==="<="&&(s="<",u?a=+a+1:i=+i+1),s==="<"&&(l="-0"),o=`${s+a}.${i}.${n}${l}`):u?o=`>=${a}.0.0${l} <${+a+1}.0.0-0`:f&&(o=`>=${a}.${i}.0${l} <${a}.${+i+1}.0-0`),be("xRange return",o),o})},Bne=(r,e)=>(be("replaceStars",r,e),r.trim().replace(Rt[Tt.STAR],"")),Vne=(r,e)=>(be("replaceGTE0",r,e),r.trim().replace(Rt[e.includePrerelease?Tt.GTE0PRE:Tt.GTE0],"")),Fne=r=>(e,t,o,s,a,i,n,l,c,u,f,_)=>(St(o)?t="":St(s)?t=`>=${o}.0.0${r?"-0":""}`:St(a)?t=`>=${o}.${s}.0${r?"-0":""}`:i?t=`>=${t}`:t=`>=${t}${r?"-0":""}`,St(c)?l="":St(u)?l=`<${+c+1}.0.0-0`:St(f)?l=`<${c}.${+u+1}.0-0`:_?l=`<=${c}.${u}.${f}-${_}`:r?l=`<${c}.${u}.${+f+1}-0`:l=`<=${l}`,`${t} ${l}`.trim()),Gne=(r,e,t)=>{for(let o=0;o<r.length;o++)if(!r[o].test(e))return!1;if(e.prerelease.length&&!t.includePrerelease){for(let o=0;o<r.length;o++)if(be(r[o].semver),r[o].semver!==LS.ANY&&r[o].semver.prerelease.length>0){let s=r[o].semver;if(s.major===e.major&&s.minor===e.minor&&s.patch===e.patch)return!0}return!1}return!0}});var Yl=T((dwe,cB)=>{"use strict";var Kl=Symbol("SemVer ANY"),wS=class r{static get ANY(){return Kl}constructor(e,t){if(t=iB(t),e instanceof r){if(e.loose===!!t.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),MS("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===Kl?this.value="":this.value=this.operator+this.semver.version,MS("comp",this)}parse(e){let t=this.options.loose?oB[sB.COMPARATORLOOSE]:oB[sB.COMPARATOR],o=e.match(t);if(!o)throw new TypeError(`Invalid comparator: ${e}`);this.operator=o[1]!==void 0?o[1]:"",this.operator==="="&&(this.operator=""),o[2]?this.semver=new aB(o[2],this.options.loose):this.semver=Kl}toString(){return this.value}test(e){if(MS("Comparator.test",e,this.options.loose),this.semver===Kl||e===Kl)return!0;if(typeof e=="string")try{e=new aB(e,this.options)}catch{return!1}return xS(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof r))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new lB(e.value,t).test(this.value):e.operator===""?e.value===""?!0:new lB(this.value,t).test(e.semver):(t=iB(t),t.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||xS(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||xS(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};cB.exports=wS;var iB=md(),{safeRe:oB,t:sB}=Ds(),xS=PS(),MS=ql(),aB=pt(),lB=Jt()});var zl=T((hwe,uB)=>{"use strict";var Hne=Jt(),qne=(r,e,t)=>{try{e=new Hne(e,t)}catch{return!1}return e.test(r)};uB.exports=qne});var pB=T((_we,fB)=>{"use strict";var jne=Jt(),Yne=(r,e)=>new jne(r,e).set.map(t=>t.map(o=>o.value).join(" ").trim().split(" "));fB.exports=Yne});var hB=T((Ewe,dB)=>{"use strict";var Kne=pt(),zne=Jt(),$ne=(r,e,t)=>{let o=null,s=null,a=null;try{a=new zne(e,t)}catch{return null}return r.forEach(i=>{a.test(i)&&(!o||s.compare(i)===-1)&&(o=i,s=new Kne(o,t))}),o};dB.exports=$ne});var EB=T((mwe,_B)=>{"use strict";var Xne=pt(),Wne=Jt(),Jne=(r,e,t)=>{let o=null,s=null,a=null;try{a=new Wne(e,t)}catch{return null}return r.forEach(i=>{a.test(i)&&(!o||s.compare(i)===1)&&(o=i,s=new Xne(o,t))}),o};_B.exports=Jne});var SB=T((Twe,TB)=>{"use strict";var DS=pt(),Qne=Jt(),mB=jl(),Zne=(r,e)=>{r=new Qne(r,e);let t=new DS("0.0.0");if(r.test(t)||(t=new DS("0.0.0-0"),r.test(t)))return t;t=null;for(let o=0;o<r.set.length;++o){let s=r.set[o],a=null;s.forEach(i=>{let n=new DS(i.semver.version);switch(i.operator){case">":n.prerelease.length===0?n.patch++:n.prerelease.push(0),n.raw=n.format();case"":case">=":(!a||mB(n,a))&&(a=n);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${i.operator}`)}}),a&&(!t||mB(t,a))&&(t=a)}return t&&r.test(t)?t:null};TB.exports=Zne});var vB=T((Swe,gB)=>{"use strict";var eie=Jt(),tie=(r,e)=>{try{return new eie(r,e).range||"*"}catch{return null}};gB.exports=tie});var Pd=T((gwe,RB)=>{"use strict";var rie=pt(),AB=Yl(),{ANY:nie}=AB,iie=Jt(),oie=zl(),yB=jl(),OB=Od(),sie=Rd(),aie=Ad(),lie=(r,e,t,o)=>{r=new rie(r,o),e=new iie(e,o);let s,a,i,n,l;switch(t){case">":s=yB,a=sie,i=OB,n=">",l=">=";break;case"<":s=OB,a=aie,i=yB,n="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(oie(r,e,o))return!1;for(let c=0;c<e.set.length;++c){let u=e.set[c],f=null,_=null;if(u.forEach(m=>{m.semver===nie&&(m=new AB(">=0.0.0")),f=f||m,_=_||m,s(m.semver,f.semver,o)?f=m:i(m.semver,_.semver,o)&&(_=m)}),f.operator===n||f.operator===l||(!_.operator||_.operator===n)&&a(r,_.semver))return!1;if(_.operator===l&&i(r,_.semver))return!1}return!0};RB.exports=lie});var CB=T((vwe,NB)=>{"use strict";var cie=Pd(),uie=(r,e,t)=>cie(r,e,">",t);NB.exports=uie});var IB=T((ywe,PB)=>{"use strict";var fie=Pd(),pie=(r,e,t)=>fie(r,e,"<",t);PB.exports=pie});var xB=T((Owe,LB)=>{"use strict";var bB=Jt(),die=(r,e,t)=>(r=new bB(r,t),e=new bB(e,t),r.intersects(e,t));LB.exports=die});var wB=T((Awe,MB)=>{"use strict";var hie=zl(),_ie=Wt();MB.exports=(r,e,t)=>{let o=[],s=null,a=null,i=r.sort((u,f)=>_ie(u,f,t));for(let u of i)hie(u,e,t)?(a=u,s||(s=u)):(a&&o.push([s,a]),a=null,s=null);s&&o.push([s,null]);let n=[];for(let[u,f]of o)u===f?n.push(u):!f&&u===i[0]?n.push("*"):f?u===i[0]?n.push(`<=${f}`):n.push(`${u} - ${f}`):n.push(`>=${u}`);let l=n.join(" || "),c=typeof e.raw=="string"?e.raw:String(e);return l.length<c.length?l:e}});var FB=T((Rwe,VB)=>{"use strict";var DB=Jt(),kS=Yl(),{ANY:US}=kS,$l=zl(),BS=Wt(),Eie=(r,e,t={})=>{if(r===e)return!0;r=new DB(r,t),e=new DB(e,t);let o=!1;e:for(let s of r.set){for(let a of e.set){let i=Tie(s,a,t);if(o=o||i!==null,i)continue e}if(o)return!1}return!0},mie=[new kS(">=0.0.0-0")],UB=[new kS(">=0.0.0")],Tie=(r,e,t)=>{if(r===e)return!0;if(r.length===1&&r[0].semver===US){if(e.length===1&&e[0].semver===US)return!0;t.includePrerelease?r=mie:r=UB}if(e.length===1&&e[0].semver===US){if(t.includePrerelease)return!0;e=UB}let o=new Set,s,a;for(let m of r)m.operator===">"||m.operator===">="?s=kB(s,m,t):m.operator==="<"||m.operator==="<="?a=BB(a,m,t):o.add(m.semver);if(o.size>1)return null;let i;if(s&&a){if(i=BS(s.semver,a.semver,t),i>0)return null;if(i===0&&(s.operator!==">="||a.operator!=="<="))return null}for(let m of o){if(s&&!$l(m,String(s),t)||a&&!$l(m,String(a),t))return null;for(let O of e)if(!$l(m,String(O),t))return!1;return!0}let n,l,c,u,f=a&&!t.includePrerelease&&a.semver.prerelease.length?a.semver:!1,_=s&&!t.includePrerelease&&s.semver.prerelease.length?s.semver:!1;f&&f.prerelease.length===1&&a.operator==="<"&&f.prerelease[0]===0&&(f=!1);for(let m of e){if(u=u||m.operator===">"||m.operator===">=",c=c||m.operator==="<"||m.operator==="<=",s){if(_&&m.semver.prerelease&&m.semver.prerelease.length&&m.semver.major===_.major&&m.semver.minor===_.minor&&m.semver.patch===_.patch&&(_=!1),m.operator===">"||m.operator===">="){if(n=kB(s,m,t),n===m&&n!==s)return!1}else if(s.operator===">="&&!$l(s.semver,String(m),t))return!1}if(a){if(f&&m.semver.prerelease&&m.semver.prerelease.length&&m.semver.major===f.major&&m.semver.minor===f.minor&&m.semver.patch===f.patch&&(f=!1),m.operator==="<"||m.operator==="<="){if(l=BB(a,m,t),l===m&&l!==a)return!1}else if(a.operator==="<="&&!$l(a.semver,String(m),t))return!1}if(!m.operator&&(a||s)&&i!==0)return!1}return!(s&&c&&!a&&i!==0||a&&u&&!s&&i!==0||_||f)},kB=(r,e,t)=>{if(!r)return e;let o=BS(r.semver,e.semver,t);return o>0?r:o<0||e.operator===">"&&r.operator===">="?e:r},BB=(r,e,t)=>{if(!r)return e;let o=BS(r.semver,e.semver,t);return o<0?r:o>0||e.operator==="<"&&r.operator==="<="?e:r};VB.exports=Eie});var FS=T((Nwe,qB)=>{"use strict";var VS=Ds(),GB=Hl(),Sie=pt(),HB=AS(),gie=qi(),vie=hk(),yie=Ek(),Oie=Sk(),Aie=yk(),Rie=Ak(),Nie=Nk(),Cie=Pk(),Pie=bk(),Iie=Wt(),bie=wk(),Lie=Uk(),xie=yd(),Mie=Fk(),wie=Hk(),Die=jl(),Uie=Od(),kie=NS(),Bie=CS(),Vie=Ad(),Fie=Rd(),Gie=PS(),Hie=Jk(),qie=Yl(),jie=Jt(),Yie=zl(),Kie=pB(),zie=hB(),$ie=EB(),Xie=SB(),Wie=vB(),Jie=Pd(),Qie=CB(),Zie=IB(),eoe=xB(),toe=wB(),roe=FB();qB.exports={parse:gie,valid:vie,clean:yie,inc:Oie,diff:Aie,major:Rie,minor:Nie,patch:Cie,prerelease:Pie,compare:Iie,rcompare:bie,compareLoose:Lie,compareBuild:xie,sort:Mie,rsort:wie,gt:Die,lt:Uie,eq:kie,neq:Bie,gte:Vie,lte:Fie,cmp:Gie,coerce:Hie,Comparator:qie,Range:jie,satisfies:Yie,toComparators:Kie,maxSatisfying:zie,minSatisfying:$ie,minVersion:Xie,validRange:Wie,outside:Jie,gtr:Qie,ltr:Zie,intersects:eoe,simplifyRange:toe,subset:roe,SemVer:Sie,re:VS.re,src:VS.src,tokens:VS.t,SEMVER_SPEC_VERSION:GB.SEMVER_SPEC_VERSION,RELEASE_TYPES:GB.RELEASE_TYPES,compareIdentifiers:HB.compareIdentifiers,rcompareIdentifiers:HB.rcompareIdentifiers}});function ioe(r){var e=decodeURIComponent(r).split(":");if(e.length!==4)return null;var t=YB(e,4),o=t[0],s=t[1],a=t[3],i=o.padStart(32,"0"),n=s.padStart(16,"0"),l=noe.test(a)?parseInt(a,16)&1:1;return{traceId:i,spanId:n,isRemote:!0,traceFlags:l}}var jB,YB,GS,Id,KB,noe,zB=p(()=>{P();xr();jB=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],o=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&o>=r.length&&(r=void 0),{value:r&&r[o++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},YB=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var o=t.call(r),s,a=[],i;try{for(;(e===void 0||e-- >0)&&!(s=o.next()).done;)a.push(s.value)}catch(n){i={error:n}}finally{try{s&&!s.done&&(t=o.return)&&t.call(o)}finally{if(i)throw i.error}}return a},GS="uber-trace-id",Id="uberctx",KB=(function(){function r(e){typeof e=="string"?(this._jaegerTraceHeader=e,this._jaegerBaggageHeaderPrefix=Id):(this._jaegerTraceHeader=(e==null?void 0:e.customTraceHeader)||GS,this._jaegerBaggageHeaderPrefix=(e==null?void 0:e.customBaggageHeaderPrefix)||Id)}return r.prototype.inject=function(e,t,o){var s,a,i=ie.getSpanContext(e),n=Ue.getBaggage(e);if(i&&At(e)===!1){var l="0"+(i.traceFlags||se.NONE).toString(16);o.set(t,this._jaegerTraceHeader,i.traceId+":"+i.spanId+":0:"+l)}if(n)try{for(var c=jB(n.getAllEntries()),u=c.next();!u.done;u=c.next()){var f=YB(u.value,2),_=f[0],m=f[1];o.set(t,this._jaegerBaggageHeaderPrefix+"-"+_,encodeURIComponent(m.value))}}catch(O){s={error:O}}finally{try{u&&!u.done&&(a=c.return)&&a.call(c)}finally{if(s)throw s.error}}},r.prototype.extract=function(e,t,o){var s,a,i=this,n,l=o.get(t,this._jaegerTraceHeader),c=Array.isArray(l)?l[0]:l,u=o.keys(t).filter(function(I){return I.startsWith(i._jaegerBaggageHeaderPrefix+"-")}).map(function(I){var M=o.get(t,I);return{key:I.substring(i._jaegerBaggageHeaderPrefix.length+1),value:Array.isArray(M)?M[0]:M}}),f=e;if(typeof c=="string"){var _=ioe(c);_&&(f=ie.setSpanContext(f,_))}if(u.length===0)return f;var m=(n=Ue.getBaggage(e))!==null&&n!==void 0?n:Ue.createBaggage();try{for(var O=jB(u),y=O.next();!y.done;y=O.next()){var A=y.value;A.value!==void 0&&(m=m.setEntry(A.key,{value:decodeURIComponent(A.value)}))}}catch(I){s={error:I}}finally{try{y&&!y.done&&(a=O.return)&&a.call(O)}finally{if(s)throw s.error}}return f=Ue.setBaggage(f,m),f},r.prototype.fields=function(){return[this._jaegerTraceHeader]},r})(),noe=/^[0-9a-f]{1,2}$/i});var $B={};Ae($B,{JaegerPropagator:()=>KB,UBER_BAGGAGE_HEADER_PREFIX:()=>Id,UBER_TRACE_ID_HEADER:()=>GS});var XB=p(()=>{zB()});var QB=T(xd=>{"use strict";Object.defineProperty(xd,"__esModule",{value:!0});xd.NodeTracerProvider=void 0;var WB=MD(),bd=(VD(),ee(BD)),JB=(Hi(),ee(ws)),ooe=FS(),soe=(XB(),ee($B)),Ld=class extends JB.BasicTracerProvider{constructor(e={}){super(e)}register(e={}){if(e.contextManager===void 0){let t=ooe.gte(process.version,"14.8.0")?WB.AsyncLocalStorageContextManager:WB.AsyncHooksContextManager;e.contextManager=new t,e.contextManager.enable()}super.register(e)}};xd.NodeTracerProvider=Ld;Ld._registeredPropagators=new Map([...JB.BasicTracerProvider._registeredPropagators,["b3",()=>new bd.B3Propagator({injectEncoding:bd.B3InjectEncoding.SINGLE_HEADER})],["b3multi",()=>new bd.B3Propagator({injectEncoding:bd.B3InjectEncoding.MULTI_HEADER})],["jaeger",()=>new soe.JaegerPropagator]])});var HS=T(fe=>{"use strict";Object.defineProperty(fe,"__esModule",{value:!0});fe.Tracer=fe.TraceIdRatioBasedSampler=fe.Span=fe.SimpleSpanProcessor=fe.SamplingDecision=fe.RandomIdGenerator=fe.ParentBasedSampler=fe.NoopSpanProcessor=fe.InMemorySpanExporter=fe.ForceFlushState=fe.ConsoleSpanExporter=fe.BatchSpanProcessor=fe.BasicTracerProvider=fe.AlwaysOnSampler=fe.AlwaysOffSampler=fe.NodeTracerProvider=void 0;var aoe=QB();Object.defineProperty(fe,"NodeTracerProvider",{enumerable:!0,get:function(){return aoe.NodeTracerProvider}});var gt=(Hi(),ee(ws));Object.defineProperty(fe,"AlwaysOffSampler",{enumerable:!0,get:function(){return gt.AlwaysOffSampler}});Object.defineProperty(fe,"AlwaysOnSampler",{enumerable:!0,get:function(){return gt.AlwaysOnSampler}});Object.defineProperty(fe,"BasicTracerProvider",{enumerable:!0,get:function(){return gt.BasicTracerProvider}});Object.defineProperty(fe,"BatchSpanProcessor",{enumerable:!0,get:function(){return gt.BatchSpanProcessor}});Object.defineProperty(fe,"ConsoleSpanExporter",{enumerable:!0,get:function(){return gt.ConsoleSpanExporter}});Object.defineProperty(fe,"ForceFlushState",{enumerable:!0,get:function(){return gt.ForceFlushState}});Object.defineProperty(fe,"InMemorySpanExporter",{enumerable:!0,get:function(){return gt.InMemorySpanExporter}});Object.defineProperty(fe,"NoopSpanProcessor",{enumerable:!0,get:function(){return gt.NoopSpanProcessor}});Object.defineProperty(fe,"ParentBasedSampler",{enumerable:!0,get:function(){return gt.ParentBasedSampler}});Object.defineProperty(fe,"RandomIdGenerator",{enumerable:!0,get:function(){return gt.RandomIdGenerator}});Object.defineProperty(fe,"SamplingDecision",{enumerable:!0,get:function(){return gt.SamplingDecision}});Object.defineProperty(fe,"SimpleSpanProcessor",{enumerable:!0,get:function(){return gt.SimpleSpanProcessor}});Object.defineProperty(fe,"Span",{enumerable:!0,get:function(){return gt.Span}});Object.defineProperty(fe,"TraceIdRatioBasedSampler",{enumerable:!0,get:function(){return gt.TraceIdRatioBasedSampler}});Object.defineProperty(fe,"Tracer",{enumerable:!0,get:function(){return gt.Tracer}})});function ks(){return`unknown_service:${process.argv0}`}var ZB=p(()=>{});var eV=p(()=>{ZB()});var qS=p(()=>{eV()});var Ce,dn=p(()=>{P();Ve();xr();qS();Ce=class r{constructor(e,t){var o;this._attributes=e,this.asyncAttributesPending=t!=null,this._syncAttributes=(o=this._attributes)!==null&&o!==void 0?o:{},this._asyncAttributesPromise=t==null?void 0:t.then(s=>(this._attributes=Object.assign({},this._attributes,s),this.asyncAttributesPending=!1,s),s=>(S.debug("a resource's async attributes promise rejected: %s",s),this.asyncAttributesPending=!1,{}))}static empty(){return r.EMPTY}static default(){return new r({[at]:ks(),[ge]:bn[ge],[Se]:bn[Se],[ve]:bn[ve]})}get attributes(){var e;return this.asyncAttributesPending&&S.error("Accessing resource attributes before async attributes settled"),(e=this._attributes)!==null&&e!==void 0?e:{}}async waitForAsyncAttributes(){this.asyncAttributesPending&&await this._asyncAttributesPromise}merge(e){var t;if(!e)return this;let o=Object.assign(Object.assign({},this._syncAttributes),(t=e._syncAttributes)!==null&&t!==void 0?t:e.attributes);if(!this._asyncAttributesPromise&&!e._asyncAttributesPromise)return new r(o);let s=Promise.all([this._asyncAttributesPromise,e._asyncAttributesPromise]).then(([a,i])=>{var n;return Object.assign(Object.assign(Object.assign(Object.assign({},this._syncAttributes),a),(n=e._syncAttributes)!==null&&n!==void 0?n:e.attributes),i)});return new r(o,s)}};Ce.EMPTY=new Ce({})});var tV,rV,jS=p(()=>{tV=r=>{switch(r){case"arm":return"arm32";case"ppc":return"ppc32";case"x64":return"amd64";default:return r}},rV=r=>{switch(r){case"sunos":return"solaris";case"win32":return"windows";default:return r}}});import*as nV from"child_process";import*as iV from"util";var Bs,Md=p(()=>{Bs=iV.promisify(nV.exec)});var oV={};Ae(oV,{getMachineId:()=>loe});async function loe(){try{let e=(await Bs('ioreg -rd1 -c "IOPlatformExpertDevice"')).stdout.split(`
`).find(o=>o.includes("IOPlatformUUID"));if(!e)return"";let t=e.split('" = "');if(t.length===2)return t[1].slice(0,-1)}catch(r){S.debug(`error reading machine id: ${r}`)}return""}var sV=p(()=>{Md();P()});var aV={};Ae(aV,{getMachineId:()=>uoe});import{promises as coe}from"fs";async function uoe(){let r=["/etc/machine-id","/var/lib/dbus/machine-id"];for(let e of r)try{return(await coe.readFile(e,{encoding:"utf8"})).trim()}catch(t){S.debug(`error reading machine id: ${t}`)}return""}var lV=p(()=>{P()});var cV={};Ae(cV,{getMachineId:()=>poe});import{promises as foe}from"fs";async function poe(){try{return(await foe.readFile("/etc/hostid",{encoding:"utf8"})).trim()}catch(r){S.debug(`error reading machine id: ${r}`)}try{return(await Bs("kenv -q smbios.system.uuid")).stdout.trim()}catch(r){S.debug(`error reading machine id: ${r}`)}return""}var uV=p(()=>{Md();P()});var fV={};Ae(fV,{getMachineId:()=>doe});import*as wd from"process";async function doe(){let r="QUERY HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Cryptography /v MachineGuid",e="%windir%\\System32\\REG.exe";wd.arch==="ia32"&&"PROCESSOR_ARCHITEW6432"in wd.env&&(e="%windir%\\sysnative\\cmd.exe /c "+e);try{let o=(await Bs(`${e} ${r}`)).stdout.split("REG_SZ");if(o.length===2)return o[1].trim()}catch(t){S.debug(`error reading machine id: ${t}`)}return""}var pV=p(()=>{Md();P()});var dV={};Ae(dV,{getMachineId:()=>hoe});async function hoe(){return S.debug("could not read machine-id: unsupported platform"),""}var hV=p(()=>{P()});import*as _V from"process";var ji,EV=p(()=>{switch(_V.platform){case"darwin":({getMachineId:ji}=(sV(),ee(oV)));break;case"linux":({getMachineId:ji}=(lV(),ee(aV)));break;case"freebsd":({getMachineId:ji}=(uV(),ee(cV)));break;case"win32":({getMachineId:ji}=(pV(),ee(fV)));break;default:({getMachineId:ji}=(hV(),ee(dV)))}});import{arch as _oe,hostname as Eoe}from"os";var YS,Yi,KS=p(()=>{Ve();dn();jS();EV();YS=class{detect(e){let t={[Bm]:Eoe(),[Vm]:tV(_oe())};return new Ce(t,this._getAsyncAttributes())}_getAsyncAttributes(){return ji().then(e=>{let t={};return e&&(t[km]=e),t})}},Yi=new YS});var zS,Xl,mV=p(()=>{KS();zS=class{detect(e){return Promise.resolve(Yi.detect(e))}},Xl=new zS});import{platform as moe,release as Toe}from"os";var $S,Ki,XS=p(()=>{Ve();dn();jS();$S=class{detect(e){let t={[Fm]:rV(moe()),[Gm]:Toe()};return new Ce(t)}},Ki=new $S});var WS,Wl,TV=p(()=>{XS();WS=class{detect(e){return Promise.resolve(Ki.detect(e))}},Wl=new WS});import*as SV from"os";var JS,zi,QS=p(()=>{P();Ve();dn();JS=class{detect(e){let t={[Hm]:process.pid,[qm]:process.title,[jm]:process.execPath,[Km]:[process.argv[0],...process.execArgv,...process.argv.slice(1)],[Vo]:process.versions.node,[st]:"nodejs",[Za]:"Node.js"};process.argv.length>1&&(t[Ym]=process.argv[1]);try{let o=SV.userInfo();t[zm]=o.username}catch(o){S.debug(`error obtaining process owner: ${o}`)}return new Ce(t)}},zi=new JS});var ZS,Jl,gV=p(()=>{QS();ZS=class{detect(e){return Promise.resolve(zi.detect(e))}},Jl=new ZS});import{randomUUID as Soe}from"crypto";var eg,Ql,vV=p(()=>{Ve();dn();eg=class{detect(e){let t={[$m]:Soe()};return new Ce(t)}},Ql=new eg});var yV=p(()=>{mV();KS();TV();XS();gV();QS();vV()});var OV=p(()=>{yV()});var tg,Zl,rg=p(()=>{Ve();P();dn();tg=class{detect(e){var t,o,s;if(!(typeof navigator<"u"&&((o=(t=global.process)===null||t===void 0?void 0:t.versions)===null||o===void 0?void 0:o.node)===void 0&&((s=global.Bun)===null||s===void 0?void 0:s.version)===void 0))return Ce.empty();let i={[st]:"browser",[Za]:"Web Browser",[Vo]:navigator.userAgent};return this._getResourceAttributes(i,e)}_getResourceAttributes(e,t){return e[Vo]===""?(S.debug("BrowserDetector failed: Unable to find required browser resources. "),Ce.empty()):new Ce(Object.assign({},e))}},Zl=new tg});var ng,ig,AV=p(()=>{rg();ng=class{detect(e){return Promise.resolve(Zl.detect(e))}},ig=new ng});var og,ec,sg=p(()=>{P();xr();Ve();dn();og=class{constructor(){this._MAX_LENGTH=255,this._COMMA_SEPARATOR=",",this._LABEL_KEY_VALUE_SPLITTER="=",this._ERROR_MESSAGE_INVALID_CHARS="should be a ASCII string with a length greater than 0 and not exceed "+this._MAX_LENGTH+" characters.",this._ERROR_MESSAGE_INVALID_VALUE="should be a ASCII string with a length not exceed "+this._MAX_LENGTH+" characters."}detect(e){let t={},o=Ho(),s=o.OTEL_RESOURCE_ATTRIBUTES,a=o.OTEL_SERVICE_NAME;if(s)try{let i=this._parseResourceAttributes(s);Object.assign(t,i)}catch(i){S.debug(`EnvDetector failed: ${i.message}`)}return a&&(t[at]=a),new Ce(t)}_parseResourceAttributes(e){if(!e)return{};let t={},o=e.split(this._COMMA_SEPARATOR,-1);for(let s of o){let a=s.split(this._LABEL_KEY_VALUE_SPLITTER,-1);if(a.length!==2)continue;let[i,n]=a;if(i=i.trim(),n=n.trim().split(/^"|"$/).join(""),!this._isValidAndNotEmpty(i))throw new Error(`Attribute key ${this._ERROR_MESSAGE_INVALID_CHARS}`);if(!this._isValid(n))throw new Error(`Attribute value ${this._ERROR_MESSAGE_INVALID_VALUE}`);t[i]=decodeURIComponent(n)}return t}_isValid(e){return e.length<=this._MAX_LENGTH&&this._isBaggageOctetString(e)}_isBaggageOctetString(e){for(let t=0;t<e.length;t++){let o=e.charCodeAt(t);if(o<33||o===44||o===59||o===92||o>126)return!1}return!0}_isValidAndNotEmpty(e){return e.length>0&&this._isValid(e)}},ec=new og});var ag,lg,RV=p(()=>{sg();ag=class{detect(e){return Promise.resolve(ec.detect(e))}},lg=new ag});var NV=p(()=>{OV();AV();RV();rg();sg()});var CV,PV=p(()=>{CV=r=>r!==null&&typeof r=="object"&&typeof r.then=="function"});var IV,bV,LV,xV=p(()=>{dn();P();PV();IV=async(r={})=>{let e=await Promise.all((r.detectors||[]).map(async t=>{try{let o=await t.detect(r);return S.debug(`${t.constructor.name} found resource.`,o),o}catch(o){return S.debug(`${t.constructor.name} failed: ${o.message}`),Ce.empty()}}));return LV(e),e.reduce((t,o)=>t.merge(o),Ce.empty())},bV=(r={})=>{var e;let t=((e=r.detectors)!==null&&e!==void 0?e:[]).map(s=>{try{let a=s.detect(r),i;if(CV(a)){let n=async()=>{var l;let c=await a;return await((l=c.waitForAsyncAttributes)===null||l===void 0?void 0:l.call(c)),c.attributes};i=new Ce({},n())}else i=a;return i.waitForAsyncAttributes?i.waitForAsyncAttributes().then(()=>S.debug(`${s.constructor.name} found resource.`,i)):S.debug(`${s.constructor.name} found resource.`,i),i}catch(a){return S.error(`${s.constructor.name} failed: ${a.message}`),Ce.empty()}}),o=t.reduce((s,a)=>s.merge(a),Ce.empty());return o.waitForAsyncAttributes&&o.waitForAsyncAttributes().then(()=>{LV(t)}),o},LV=r=>{r.forEach(e=>{if(Object.keys(e.attributes).length>0){let t=JSON.stringify(e.attributes,null,4);S.verbose(t)}})}});var Dd={};Ae(Dd,{Resource:()=>Ce,browserDetector:()=>ig,browserDetectorSync:()=>Zl,defaultServiceName:()=>ks,detectResources:()=>IV,detectResourcesSync:()=>bV,envDetector:()=>lg,envDetectorSync:()=>ec,hostDetector:()=>Xl,hostDetectorSync:()=>Yi,osDetector:()=>Wl,osDetectorSync:()=>Ki,processDetector:()=>Jl,processDetectorSync:()=>zi,serviceInstanceIdDetectorSync:()=>Ql});var Ud=p(()=>{dn();qS();NV();xV()});function MV(r,e,t,o){for(let s=0,a=r.length;s<a;s++){let i=r[s];e&&i.setTracerProvider(e),t&&i.setMeterProvider(t),o&&i.setLoggerProvider&&i.setLoggerProvider(o),i.getConfig().enabled||i.enable()}}function wV(r){r.forEach(e=>e.disable())}var DV=p(()=>{});function UV(r){var e,t;let o=r.tracerProvider||ie.getTracerProvider(),s=r.meterProvider||yi.getMeterProvider(),a=r.loggerProvider||dl.getLoggerProvider(),i=(t=(e=r.instrumentations)===null||e===void 0?void 0:e.flat())!==null&&t!==void 0?t:[];return MV(i,o,s,a),()=>{wV(i)}}var kV=p(()=>{P();hl();DV()});var ug=T((EDe,FV)=>{"use strict";function cg(r){return typeof r=="function"}var vt=console.error.bind(console);function tc(r,e,t){var o=!!r[e]&&r.propertyIsEnumerable(e);Object.defineProperty(r,e,{configurable:!0,enumerable:o,writable:!0,value:t})}function rc(r){r&&r.logger&&(cg(r.logger)?vt=r.logger:vt("new logger isn't a function, not replacing"))}function BV(r,e,t){if(!r||!r[e]){vt("no original function "+e+" to wrap");return}if(!t){vt("no wrapper function"),vt(new Error().stack);return}if(!cg(r[e])||!cg(t)){vt("original object and wrapper must be functions");return}var o=r[e],s=t(o,e);return tc(s,"__original",o),tc(s,"__unwrap",function(){r[e]===s&&tc(r,e,o)}),tc(s,"__wrapped",!0),tc(r,e,s),s}function goe(r,e,t){if(r)Array.isArray(r)||(r=[r]);else{vt("must provide one or more modules to patch"),vt(new Error().stack);return}if(!(e&&Array.isArray(e))){vt("must provide one or more functions to wrap on modules");return}r.forEach(function(o){e.forEach(function(s){BV(o,s,t)})})}function VV(r,e){if(!r||!r[e]){vt("no function to unwrap."),vt(new Error().stack);return}if(!r[e].__unwrap)vt("no original to unwrap to -- has "+e+" already been unwrapped?");else return r[e].__unwrap()}function voe(r,e){if(r)Array.isArray(r)||(r=[r]);else{vt("must provide one or more modules to patch"),vt(new Error().stack);return}if(!(e&&Array.isArray(e))){vt("must provide one or more functions to unwrap on modules");return}r.forEach(function(t){e.forEach(function(o){VV(t,o)})})}rc.wrap=BV;rc.massWrap=goe;rc.unwrap=VV;rc.massUnwrap=voe;FV.exports=rc});var Yn,kd,GV=p(()=>{P();hl();Yn=Nn(ug()),kd=class{constructor(e,t,o){this.instrumentationName=e,this.instrumentationVersion=t,this._config={},this._wrap=Yn.wrap,this._unwrap=Yn.unwrap,this._massWrap=Yn.massWrap,this._massUnwrap=Yn.massUnwrap,this.setConfig(o),this._diag=S.createComponentLogger({namespace:e}),this._tracer=ie.getTracer(e,t),this._meter=yi.getMeter(e,t),this._logger=dl.getLogger(e,t),this._updateMetricInstruments()}get meter(){return this._meter}setMeterProvider(e){this._meter=e.getMeter(this.instrumentationName,this.instrumentationVersion),this._updateMetricInstruments()}get logger(){return this._logger}setLoggerProvider(e){this._logger=e.getLogger(this.instrumentationName,this.instrumentationVersion)}getModuleDefinitions(){var e;let t=(e=this.init())!==null&&e!==void 0?e:[];return Array.isArray(t)?t:[t]}_updateMetricInstruments(){}getConfig(){return this._config}setConfig(e){this._config=Object.assign({enabled:!0},e)}setTracerProvider(e){this._tracer=e.getTracer(this.instrumentationName,this.instrumentationVersion)}get tracer(){return this._tracer}_runSpanCustomizationHook(e,t,o,s){if(e)try{e(o,s)}catch(a){this._diag.error("Error running span customization hook due to exception in handler",{triggerName:t},a)}}}});var qV=T((gDe,HV)=>{var Vs=1e3,Fs=Vs*60,Gs=Fs*60,$i=Gs*24,yoe=$i*7,Ooe=$i*365.25;HV.exports=function(r,e){e=e||{};var t=typeof r;if(t==="string"&&r.length>0)return Aoe(r);if(t==="number"&&isFinite(r))return e.long?Noe(r):Roe(r);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(r))};function Aoe(r){if(r=String(r),!(r.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(r);if(e){var t=parseFloat(e[1]),o=(e[2]||"ms").toLowerCase();switch(o){case"years":case"year":case"yrs":case"yr":case"y":return t*Ooe;case"weeks":case"week":case"w":return t*yoe;case"days":case"day":case"d":return t*$i;case"hours":case"hour":case"hrs":case"hr":case"h":return t*Gs;case"minutes":case"minute":case"mins":case"min":case"m":return t*Fs;case"seconds":case"second":case"secs":case"sec":case"s":return t*Vs;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t;default:return}}}}function Roe(r){var e=Math.abs(r);return e>=$i?Math.round(r/$i)+"d":e>=Gs?Math.round(r/Gs)+"h":e>=Fs?Math.round(r/Fs)+"m":e>=Vs?Math.round(r/Vs)+"s":r+"ms"}function Noe(r){var e=Math.abs(r);return e>=$i?Bd(r,e,$i,"day"):e>=Gs?Bd(r,e,Gs,"hour"):e>=Fs?Bd(r,e,Fs,"minute"):e>=Vs?Bd(r,e,Vs,"second"):r+" ms"}function Bd(r,e,t,o){var s=e>=t*1.5;return Math.round(r/t)+" "+o+(s?"s":"")}});var fg=T((vDe,jV)=>{function Coe(r){t.debug=t,t.default=t,t.coerce=l,t.disable=i,t.enable=s,t.enabled=n,t.humanize=qV(),t.destroy=c,Object.keys(r).forEach(u=>{t[u]=r[u]}),t.names=[],t.skips=[],t.formatters={};function e(u){let f=0;for(let _=0;_<u.length;_++)f=(f<<5)-f+u.charCodeAt(_),f|=0;return t.colors[Math.abs(f)%t.colors.length]}t.selectColor=e;function t(u){let f,_=null,m,O;function y(...A){if(!y.enabled)return;let I=y,M=Number(new Date),F=M-(f||M);I.diff=F,I.prev=f,I.curr=M,f=M,A[0]=t.coerce(A[0]),typeof A[0]!="string"&&A.unshift("%O");let N=0;A[0]=A[0].replace(/%([a-zA-Z%])/g,(B,G)=>{if(B==="%%")return"%";N++;let te=t.formatters[G];if(typeof te=="function"){let $=A[N];B=te.call(I,$),A.splice(N,1),N--}return B}),t.formatArgs.call(I,A),(I.log||t.log).apply(I,A)}return y.namespace=u,y.useColors=t.useColors(),y.color=t.selectColor(u),y.extend=o,y.destroy=t.destroy,Object.defineProperty(y,"enabled",{enumerable:!0,configurable:!1,get:()=>_!==null?_:(m!==t.namespaces&&(m=t.namespaces,O=t.enabled(u)),O),set:A=>{_=A}}),typeof t.init=="function"&&t.init(y),y}function o(u,f){let _=t(this.namespace+(typeof f>"u"?":":f)+u);return _.log=this.log,_}function s(u){t.save(u),t.namespaces=u,t.names=[],t.skips=[];let f=(typeof u=="string"?u:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(let _ of f)_[0]==="-"?t.skips.push(_.slice(1)):t.names.push(_)}function a(u,f){let _=0,m=0,O=-1,y=0;for(;_<u.length;)if(m<f.length&&(f[m]===u[_]||f[m]==="*"))f[m]==="*"?(O=m,y=_,m++):(_++,m++);else if(O!==-1)m=O+1,y++,_=y;else return!1;for(;m<f.length&&f[m]==="*";)m++;return m===f.length}function i(){let u=[...t.names,...t.skips.map(f=>"-"+f)].join(",");return t.enable(""),u}function n(u){for(let f of t.skips)if(a(u,f))return!1;for(let f of t.names)if(a(u,f))return!0;return!1}function l(u){return u instanceof Error?u.stack||u.message:u}function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return t.enable(t.load()),t}jV.exports=Coe});var YV=T((Nt,Vd)=>{Nt.formatArgs=Ioe;Nt.save=boe;Nt.load=Loe;Nt.useColors=Poe;Nt.storage=xoe();Nt.destroy=(()=>{let r=!1;return()=>{r||(r=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Nt.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function Poe(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let r;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(r=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(r[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function Ioe(r){if(r[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+r[0]+(this.useColors?"%c ":" ")+"+"+Vd.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;r.splice(1,0,e,"color: inherit");let t=0,o=0;r[0].replace(/%[a-zA-Z%]/g,s=>{s!=="%%"&&(t++,s==="%c"&&(o=t))}),r.splice(o,0,e)}Nt.log=console.debug||console.log||(()=>{});function boe(r){try{r?Nt.storage.setItem("debug",r):Nt.storage.removeItem("debug")}catch{}}function Loe(){let r;try{r=Nt.storage.getItem("debug")||Nt.storage.getItem("DEBUG")}catch{}return!r&&typeof process<"u"&&"env"in process&&(r=process.env.DEBUG),r}function xoe(){try{return localStorage}catch{}}Vd.exports=fg()(Nt);var{formatters:Moe}=Vd.exports;Moe.j=function(r){try{return JSON.stringify(r)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var zV=T((yDe,KV)=>{"use strict";KV.exports=(r,e=process.argv)=>{let t=r.startsWith("-")?"":r.length===1?"-":"--",o=e.indexOf(t+r),s=e.indexOf("--");return o!==-1&&(s===-1||o<s)}});var WV=T((ODe,XV)=>{"use strict";var woe=V("os"),$V=V("tty"),Qt=zV(),{env:Ze}=process,Kn;Qt("no-color")||Qt("no-colors")||Qt("color=false")||Qt("color=never")?Kn=0:(Qt("color")||Qt("colors")||Qt("color=true")||Qt("color=always"))&&(Kn=1);"FORCE_COLOR"in Ze&&(Ze.FORCE_COLOR==="true"?Kn=1:Ze.FORCE_COLOR==="false"?Kn=0:Kn=Ze.FORCE_COLOR.length===0?1:Math.min(parseInt(Ze.FORCE_COLOR,10),3));function pg(r){return r===0?!1:{level:r,hasBasic:!0,has256:r>=2,has16m:r>=3}}function dg(r,e){if(Kn===0)return 0;if(Qt("color=16m")||Qt("color=full")||Qt("color=truecolor"))return 3;if(Qt("color=256"))return 2;if(r&&!e&&Kn===void 0)return 0;let t=Kn||0;if(Ze.TERM==="dumb")return t;if(process.platform==="win32"){let o=woe.release().split(".");return Number(o[0])>=10&&Number(o[2])>=10586?Number(o[2])>=14931?3:2:1}if("CI"in Ze)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(o=>o in Ze)||Ze.CI_NAME==="codeship"?1:t;if("TEAMCITY_VERSION"in Ze)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(Ze.TEAMCITY_VERSION)?1:0;if(Ze.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in Ze){let o=parseInt((Ze.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(Ze.TERM_PROGRAM){case"iTerm.app":return o>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(Ze.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(Ze.TERM)||"COLORTERM"in Ze?1:t}function Doe(r){let e=dg(r,r&&r.isTTY);return pg(e)}XV.exports={supportsColor:Doe,stdout:pg(dg(!0,$V.isatty(1))),stderr:pg(dg(!0,$V.isatty(2)))}});var QV=T((et,Gd)=>{var Uoe=V("tty"),Fd=V("util");et.init=qoe;et.log=Foe;et.formatArgs=Boe;et.save=Goe;et.load=Hoe;et.useColors=koe;et.destroy=Fd.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");et.colors=[6,2,3,4,5,1];try{let r=WV();r&&(r.stderr||r).level>=2&&(et.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}et.inspectOpts=Object.keys(process.env).filter(r=>/^debug_/i.test(r)).reduce((r,e)=>{let t=e.substring(6).toLowerCase().replace(/_([a-z])/g,(s,a)=>a.toUpperCase()),o=process.env[e];return/^(yes|on|true|enabled)$/i.test(o)?o=!0:/^(no|off|false|disabled)$/i.test(o)?o=!1:o==="null"?o=null:o=Number(o),r[t]=o,r},{});function koe(){return"colors"in et.inspectOpts?!!et.inspectOpts.colors:Uoe.isatty(process.stderr.fd)}function Boe(r){let{namespace:e,useColors:t}=this;if(t){let o=this.color,s="\x1B[3"+(o<8?o:"8;5;"+o),a=`  ${s};1m${e} \x1B[0m`;r[0]=a+r[0].split(`
`).join(`
`+a),r.push(s+"m+"+Gd.exports.humanize(this.diff)+"\x1B[0m")}else r[0]=Voe()+e+" "+r[0]}function Voe(){return et.inspectOpts.hideDate?"":new Date().toISOString()+" "}function Foe(...r){return process.stderr.write(Fd.formatWithOptions(et.inspectOpts,...r)+`
`)}function Goe(r){r?process.env.DEBUG=r:delete process.env.DEBUG}function Hoe(){return process.env.DEBUG}function qoe(r){r.inspectOpts={};let e=Object.keys(et.inspectOpts);for(let t=0;t<e.length;t++)r.inspectOpts[e[t]]=et.inspectOpts[e[t]]}Gd.exports=fg()(et);var{formatters:JV}=Gd.exports;JV.o=function(r){return this.inspectOpts.colors=this.useColors,Fd.inspect(r,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};JV.O=function(r){return this.inspectOpts.colors=this.useColors,Fd.inspect(r,this.inspectOpts)}});var ZV=T((ADe,hg)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?hg.exports=YV():hg.exports=QV()});var Eg=T((RDe,e2)=>{"use strict";var _g=V("path").sep;e2.exports=function(r){var e=r.split(_g),t=e.lastIndexOf("node_modules");if(t!==-1&&e[t+1]){for(var o=e[t+1][0]==="@",s=o?e[t+1]+"/"+e[t+2]:e[t+1],a=o?3:2,i="",n=t+a-1,l=0;l<=n;l++)l===n?i+=e[l]:i+=e[l]+_g;for(var c="",u=e.length-1,f=t+a;f<=u;f++)f===u?c+=e[f]:c+=e[f]+_g;return{name:s,basedir:i,path:c}}}});var mg=T((NDe,t2)=>{"use strict";var joe=V("os");t2.exports=joe.homedir||function(){var e=process.env.HOME,t=process.env.LOGNAME||process.env.USER||process.env.LNAME||process.env.USERNAME;return process.platform==="win32"?process.env.USERPROFILE||process.env.HOMEDRIVE+process.env.HOMEPATH||e||null:process.platform==="darwin"?e||(t?"/Users/"+t:null):process.platform==="linux"?e||(process.getuid()===0?"/root":t?"/home/"+t:null):e||null}});var Tg=T((CDe,r2)=>{r2.exports=function(){var r=Error.prepareStackTrace;Error.prepareStackTrace=function(t,o){return o};var e=new Error().stack;return Error.prepareStackTrace=r,e[2].getFileName()}});var n2=T((PDe,nc)=>{"use strict";var Yoe=process.platform==="win32",Koe=/^(((?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?[\\\/]?)(?:[^\\\/]*[\\\/])*)((\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))[\\\/]*$/,Sg={};function zoe(r){return Koe.exec(r).slice(1)}Sg.parse=function(r){if(typeof r!="string")throw new TypeError("Parameter 'pathString' must be a string, not "+typeof r);var e=zoe(r);if(!e||e.length!==5)throw new TypeError("Invalid path '"+r+"'");return{root:e[1],dir:e[0]===e[1]?e[0]:e[0].slice(0,-1),base:e[2],ext:e[4],name:e[3]}};var $oe=/^((\/?)(?:[^\/]*\/)*)((\.{1,2}|[^\/]+?|)(\.[^.\/]*|))[\/]*$/,gg={};function Xoe(r){return $oe.exec(r).slice(1)}gg.parse=function(r){if(typeof r!="string")throw new TypeError("Parameter 'pathString' must be a string, not "+typeof r);var e=Xoe(r);if(!e||e.length!==5)throw new TypeError("Invalid path '"+r+"'");return{root:e[1],dir:e[0].slice(0,-1),base:e[2],ext:e[4],name:e[3]}};Yoe?nc.exports=Sg.parse:nc.exports=gg.parse;nc.exports.posix=gg.parse;nc.exports.win32=Sg.parse});var vg=T((IDe,a2)=>{var s2=V("path"),i2=s2.parse||n2(),o2=function(e,t){var o="/";/^([A-Za-z]:)/.test(e)?o="":/^\\\\/.test(e)&&(o="\\\\");for(var s=[e],a=i2(e);a.dir!==s[s.length-1];)s.push(a.dir),a=i2(a.dir);return s.reduce(function(i,n){return i.concat(t.map(function(l){return s2.resolve(o,n,l)}))},[])};a2.exports=function(e,t,o){var s=t&&t.moduleDirectory?[].concat(t.moduleDirectory):["node_modules"];if(t&&typeof t.paths=="function")return t.paths(o,e,function(){return o2(e,s)},t);var a=o2(e,s);return t&&t.paths?a.concat(t.paths):a}});var yg=T((bDe,l2)=>{l2.exports=function(r,e){return e||{}}});var f2=T((LDe,u2)=>{"use strict";var Woe="Function.prototype.bind called on incompatible ",Joe=Object.prototype.toString,Qoe=Math.max,Zoe="[object Function]",c2=function(e,t){for(var o=[],s=0;s<e.length;s+=1)o[s]=e[s];for(var a=0;a<t.length;a+=1)o[a+e.length]=t[a];return o},ese=function(e,t){for(var o=[],s=t||0,a=0;s<e.length;s+=1,a+=1)o[a]=e[s];return o},tse=function(r,e){for(var t="",o=0;o<r.length;o+=1)t+=r[o],o+1<r.length&&(t+=e);return t};u2.exports=function(e){var t=this;if(typeof t!="function"||Joe.apply(t)!==Zoe)throw new TypeError(Woe+t);for(var o=ese(arguments,1),s,a=function(){if(this instanceof s){var u=t.apply(this,c2(o,arguments));return Object(u)===u?u:this}return t.apply(e,c2(o,arguments))},i=Qoe(0,t.length-o.length),n=[],l=0;l<i;l++)n[l]="$"+l;if(s=Function("binder","return function ("+tse(n,",")+"){ return binder.apply(this,arguments); }")(a),t.prototype){var c=function(){};c.prototype=t.prototype,s.prototype=new c,c.prototype=null}return s}});var d2=T((xDe,p2)=>{"use strict";var rse=f2();p2.exports=Function.prototype.bind||rse});var _2=T((MDe,h2)=>{"use strict";var nse=Function.prototype.call,ise=Object.prototype.hasOwnProperty,ose=d2();h2.exports=ose.call(nse,ise)});var E2=T((wDe,sse)=>{sse.exports={assert:!0,"node:assert":[">= 14.18 && < 15",">= 16"],"assert/strict":">= 15","node:assert/strict":">= 16",async_hooks:">= 8","node:async_hooks":[">= 14.18 && < 15",">= 16"],buffer_ieee754:">= 0.5 && < 0.9.7",buffer:!0,"node:buffer":[">= 14.18 && < 15",">= 16"],child_process:!0,"node:child_process":[">= 14.18 && < 15",">= 16"],cluster:">= 0.5","node:cluster":[">= 14.18 && < 15",">= 16"],console:!0,"node:console":[">= 14.18 && < 15",">= 16"],constants:!0,"node:constants":[">= 14.18 && < 15",">= 16"],crypto:!0,"node:crypto":[">= 14.18 && < 15",">= 16"],_debug_agent:">= 1 && < 8",_debugger:"< 8",dgram:!0,"node:dgram":[">= 14.18 && < 15",">= 16"],diagnostics_channel:[">= 14.17 && < 15",">= 15.1"],"node:diagnostics_channel":[">= 14.18 && < 15",">= 16"],dns:!0,"node:dns":[">= 14.18 && < 15",">= 16"],"dns/promises":">= 15","node:dns/promises":">= 16",domain:">= 0.7.12","node:domain":[">= 14.18 && < 15",">= 16"],events:!0,"node:events":[">= 14.18 && < 15",">= 16"],freelist:"< 6",fs:!0,"node:fs":[">= 14.18 && < 15",">= 16"],"fs/promises":[">= 10 && < 10.1",">= 14"],"node:fs/promises":[">= 14.18 && < 15",">= 16"],_http_agent:">= 0.11.1","node:_http_agent":[">= 14.18 && < 15",">= 16"],_http_client:">= 0.11.1","node:_http_client":[">= 14.18 && < 15",">= 16"],_http_common:">= 0.11.1","node:_http_common":[">= 14.18 && < 15",">= 16"],_http_incoming:">= 0.11.1","node:_http_incoming":[">= 14.18 && < 15",">= 16"],_http_outgoing:">= 0.11.1","node:_http_outgoing":[">= 14.18 && < 15",">= 16"],_http_server:">= 0.11.1","node:_http_server":[">= 14.18 && < 15",">= 16"],http:!0,"node:http":[">= 14.18 && < 15",">= 16"],http2:">= 8.8","node:http2":[">= 14.18 && < 15",">= 16"],https:!0,"node:https":[">= 14.18 && < 15",">= 16"],inspector:">= 8","node:inspector":[">= 14.18 && < 15",">= 16"],"inspector/promises":[">= 19"],"node:inspector/promises":[">= 19"],_linklist:"< 8",module:!0,"node:module":[">= 14.18 && < 15",">= 16"],net:!0,"node:net":[">= 14.18 && < 15",">= 16"],"node-inspect/lib/_inspect":">= 7.6 && < 12","node-inspect/lib/internal/inspect_client":">= 7.6 && < 12","node-inspect/lib/internal/inspect_repl":">= 7.6 && < 12",os:!0,"node:os":[">= 14.18 && < 15",">= 16"],path:!0,"node:path":[">= 14.18 && < 15",">= 16"],"path/posix":">= 15.3","node:path/posix":">= 16","path/win32":">= 15.3","node:path/win32":">= 16",perf_hooks:">= 8.5","node:perf_hooks":[">= 14.18 && < 15",">= 16"],process:">= 1","node:process":[">= 14.18 && < 15",">= 16"],punycode:">= 0.5","node:punycode":[">= 14.18 && < 15",">= 16"],querystring:!0,"node:querystring":[">= 14.18 && < 15",">= 16"],readline:!0,"node:readline":[">= 14.18 && < 15",">= 16"],"readline/promises":">= 17","node:readline/promises":">= 17",repl:!0,"node:repl":[">= 14.18 && < 15",">= 16"],"node:sea":[">= 20.12 && < 21",">= 21.7"],smalloc:">= 0.11.5 && < 3","node:sqlite":[">= 22.13 && < 23",">= 23.4"],_stream_duplex:">= 0.9.4","node:_stream_duplex":[">= 14.18 && < 15",">= 16"],_stream_transform:">= 0.9.4","node:_stream_transform":[">= 14.18 && < 15",">= 16"],_stream_wrap:">= 1.4.1","node:_stream_wrap":[">= 14.18 && < 15",">= 16"],_stream_passthrough:">= 0.9.4","node:_stream_passthrough":[">= 14.18 && < 15",">= 16"],_stream_readable:">= 0.9.4","node:_stream_readable":[">= 14.18 && < 15",">= 16"],_stream_writable:">= 0.9.4","node:_stream_writable":[">= 14.18 && < 15",">= 16"],stream:!0,"node:stream":[">= 14.18 && < 15",">= 16"],"stream/consumers":">= 16.7","node:stream/consumers":">= 16.7","stream/promises":">= 15","node:stream/promises":">= 16","stream/web":">= 16.5","node:stream/web":">= 16.5",string_decoder:!0,"node:string_decoder":[">= 14.18 && < 15",">= 16"],sys:[">= 0.4 && < 0.7",">= 0.8"],"node:sys":[">= 14.18 && < 15",">= 16"],"test/reporters":">= 19.9 && < 20.2","node:test/reporters":[">= 18.17 && < 19",">= 19.9",">= 20"],"test/mock_loader":">= 22.3 && < 22.7","node:test/mock_loader":">= 22.3 && < 22.7","node:test":[">= 16.17 && < 17",">= 18"],timers:!0,"node:timers":[">= 14.18 && < 15",">= 16"],"timers/promises":">= 15","node:timers/promises":">= 16",_tls_common:">= 0.11.13","node:_tls_common":[">= 14.18 && < 15",">= 16"],_tls_legacy:">= 0.11.3 && < 10",_tls_wrap:">= 0.11.3","node:_tls_wrap":[">= 14.18 && < 15",">= 16"],tls:!0,"node:tls":[">= 14.18 && < 15",">= 16"],trace_events:">= 10","node:trace_events":[">= 14.18 && < 15",">= 16"],tty:!0,"node:tty":[">= 14.18 && < 15",">= 16"],url:!0,"node:url":[">= 14.18 && < 15",">= 16"],util:!0,"node:util":[">= 14.18 && < 15",">= 16"],"util/types":">= 15.3","node:util/types":">= 16","v8/tools/arguments":">= 10 && < 12","v8/tools/codemap":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/consarray":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/csvparser":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/logreader":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/profile_view":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/splaytree":[">= 4.4 && < 5",">= 5.2 && < 12"],v8:">= 1","node:v8":[">= 14.18 && < 15",">= 16"],vm:!0,"node:vm":[">= 14.18 && < 15",">= 16"],wasi:[">= 13.4 && < 13.5",">= 18.17 && < 19",">= 20"],"node:wasi":[">= 18.17 && < 19",">= 20"],worker_threads:">= 11.7","node:worker_threads":[">= 14.18 && < 15",">= 16"],zlib:">= 0.5","node:zlib":[">= 14.18 && < 15",">= 16"]}});var ic=T((DDe,S2)=>{"use strict";var ase=_2();function lse(r,e){for(var t=r.split("."),o=e.split(" "),s=o.length>1?o[0]:"=",a=(o.length>1?o[1]:o[0]).split("."),i=0;i<3;++i){var n=parseInt(t[i]||0,10),l=parseInt(a[i]||0,10);if(n!==l)return s==="<"?n<l:s===">="?n>=l:!1}return s===">="}function m2(r,e){var t=e.split(/ ?&& ?/);if(t.length===0)return!1;for(var o=0;o<t.length;++o)if(!lse(r,t[o]))return!1;return!0}function cse(r,e){if(typeof e=="boolean")return e;var t=typeof r>"u"?process.versions&&process.versions.node:r;if(typeof t!="string")throw new TypeError(typeof r>"u"?"Unable to determine current node version":"If provided, a valid node version is required");if(e&&typeof e=="object"){for(var o=0;o<e.length;++o)if(m2(t,e[o]))return!0;return!1}return m2(t,e)}var T2=E2();S2.exports=function(e,t){return ase(T2,e)&&cse(t,T2[e])}});var y2=T((UDe,v2)=>{var Xi=V("fs"),use=mg(),Ke=V("path"),fse=Tg(),pse=vg(),dse=yg(),hse=ic(),_se=process.platform!=="win32"&&Xi.realpath&&typeof Xi.realpath.native=="function"?Xi.realpath.native:Xi.realpath,g2=use(),Ese=function(){return[Ke.join(g2,".node_modules"),Ke.join(g2,".node_libraries")]},mse=function(e,t){Xi.stat(e,function(o,s){return o?o.code==="ENOENT"||o.code==="ENOTDIR"?t(null,!1):t(o):t(null,s.isFile()||s.isFIFO())})},Tse=function(e,t){Xi.stat(e,function(o,s){return o?o.code==="ENOENT"||o.code==="ENOTDIR"?t(null,!1):t(o):t(null,s.isDirectory())})},Sse=function(e,t){_se(e,function(o,s){o&&o.code!=="ENOENT"?t(o):t(null,o?e:s)})},oc=function(e,t,o,s){o&&o.preserveSymlinks===!1?e(t,s):s(null,t)},gse=function(e,t,o){e(t,function(s,a){if(s)o(s);else try{var i=JSON.parse(a);o(null,i)}catch{o(null)}})},vse=function(e,t,o){for(var s=pse(t,o,e),a=0;a<s.length;a++)s[a]=Ke.join(s[a],e);return s};v2.exports=function(e,t,o){var s=o,a=t;if(typeof t=="function"&&(s=a,a={}),typeof e!="string"){var i=new TypeError("Path must be a string.");return process.nextTick(function(){s(i)})}a=dse(e,a);var n=a.isFile||mse,l=a.isDirectory||Tse,c=a.readFile||Xi.readFile,u=a.realpath||Sse,f=a.readPackage||gse;if(a.readFile&&a.readPackage){var _=new TypeError("`readFile` and `readPackage` are mutually exclusive.");return process.nextTick(function(){s(_)})}var m=a.packageIterator,O=a.extensions||[".js"],y=a.includeCoreModules!==!1,A=a.basedir||Ke.dirname(fse()),I=a.filename||A;a.paths=a.paths||Ese();var M=Ke.resolve(A);oc(u,M,a,function(v,W){v?s(v):N(W)});var F;function N(v){if(/^(?:\.\.?(?:\/|$)|\/|([A-Za-z]:)?[/\\])/.test(e))F=Ke.resolve(v,e),(e==="."||e===".."||e.slice(-1)==="/")&&(F+="/"),/\/$/.test(e)&&F===v?te(F,a.package,K):B(F,a.package,K);else{if(y&&hse(e))return s(null,e);le(e,v,function(W,R,E){if(W)s(W);else{if(R)return oc(u,R,a,function(Q,Y){Q?s(Q):s(null,Y,E)});var C=new Error("Cannot find module '"+e+"' from '"+I+"'");C.code="MODULE_NOT_FOUND",s(C)}})}}function K(v,W,R){v?s(v):W?s(null,W,R):te(F,function(E,C,Q){if(E)s(E);else if(C)oc(u,C,a,function(J,ce){J?s(J):s(null,ce,Q)});else{var Y=new Error("Cannot find module '"+e+"' from '"+I+"'");Y.code="MODULE_NOT_FOUND",s(Y)}})}function B(v,W,R){var E=W,C=R;typeof E=="function"&&(C=E,E=void 0);var Q=[""].concat(O);Y(Q,v,E);function Y(J,ce,Ne){if(J.length===0)return C(null,void 0,Ne);var Me=ce+J[0],Te=Ne;Te?Z(null,Te):G(Ke.dirname(Me),Z);function Z(Ee,we,We){if(Te=we,Ee)return C(Ee);if(We&&Te&&a.pathFilter){var Do=Ke.relative(We,Me),Uo=Do.slice(0,Do.length-J[0].length),mi=a.pathFilter(Te,ce,Uo);if(mi)return Y([""].concat(O.slice()),Ke.resolve(We,mi),Te)}n(Me,je)}function je(Ee,we){if(Ee)return C(Ee);if(we)return C(null,Me,Te);Y(J.slice(1),ce,Te)}}}function G(v,W){if(v===""||v==="/"||process.platform==="win32"&&/^\w:[/\\]*$/.test(v)||/[/\\]node_modules[/\\]*$/.test(v))return W(null);oc(u,v,a,function(R,E){if(R)return G(Ke.dirname(v),W);var C=Ke.join(E,"package.json");n(C,function(Q,Y){if(!Y)return G(Ke.dirname(v),W);f(c,C,function(J,ce){J&&W(J);var Ne=ce;Ne&&a.packageFilter&&(Ne=a.packageFilter(Ne,C)),W(null,Ne,v)})})})}function te(v,W,R){var E=R,C=W;typeof C=="function"&&(E=C,C=a.package),oc(u,v,a,function(Q,Y){if(Q)return E(Q);var J=Ke.join(Y,"package.json");n(J,function(ce,Ne){if(ce)return E(ce);if(!Ne)return B(Ke.join(v,"index"),C,E);f(c,J,function(Me,Te){if(Me)return E(Me);var Z=Te;if(Z&&a.packageFilter&&(Z=a.packageFilter(Z,J)),Z&&Z.main){if(typeof Z.main!="string"){var je=new TypeError("package \u201C"+Z.name+"\u201D `main` must be a string");return je.code="INVALID_PACKAGE_MAIN",E(je)}(Z.main==="."||Z.main==="./")&&(Z.main="index"),B(Ke.resolve(v,Z.main),Z,function(Ee,we,We){if(Ee)return E(Ee);if(we)return E(null,we,We);if(!We)return B(Ke.join(v,"index"),We,E);var Do=Ke.resolve(v,We.main);te(Do,We,function(Uo,mi,Ye){if(Uo)return E(Uo);if(mi)return E(null,mi,Ye);B(Ke.join(v,"index"),Ye,E)})});return}B(Ke.join(v,"/index"),Z,E)})})})}function $(v,W){if(W.length===0)return v(null,void 0);var R=W[0];l(Ke.dirname(R),E);function E(Y,J){if(Y)return v(Y);if(!J)return $(v,W.slice(1));B(R,a.package,C)}function C(Y,J,ce){if(Y)return v(Y);if(J)return v(null,J,ce);te(R,a.package,Q)}function Q(Y,J,ce){if(Y)return v(Y);if(J)return v(null,J,ce);$(v,W.slice(1))}}function le(v,W,R){var E=function(){return vse(v,W,a)};$(R,m?m(v,W,E,a):E())}}});var O2=T((kDe,yse)=>{yse.exports={assert:!0,"node:assert":[">= 14.18 && < 15",">= 16"],"assert/strict":">= 15","node:assert/strict":">= 16",async_hooks:">= 8","node:async_hooks":[">= 14.18 && < 15",">= 16"],buffer_ieee754:">= 0.5 && < 0.9.7",buffer:!0,"node:buffer":[">= 14.18 && < 15",">= 16"],child_process:!0,"node:child_process":[">= 14.18 && < 15",">= 16"],cluster:">= 0.5","node:cluster":[">= 14.18 && < 15",">= 16"],console:!0,"node:console":[">= 14.18 && < 15",">= 16"],constants:!0,"node:constants":[">= 14.18 && < 15",">= 16"],crypto:!0,"node:crypto":[">= 14.18 && < 15",">= 16"],_debug_agent:">= 1 && < 8",_debugger:"< 8",dgram:!0,"node:dgram":[">= 14.18 && < 15",">= 16"],diagnostics_channel:[">= 14.17 && < 15",">= 15.1"],"node:diagnostics_channel":[">= 14.18 && < 15",">= 16"],dns:!0,"node:dns":[">= 14.18 && < 15",">= 16"],"dns/promises":">= 15","node:dns/promises":">= 16",domain:">= 0.7.12","node:domain":[">= 14.18 && < 15",">= 16"],events:!0,"node:events":[">= 14.18 && < 15",">= 16"],freelist:"< 6",fs:!0,"node:fs":[">= 14.18 && < 15",">= 16"],"fs/promises":[">= 10 && < 10.1",">= 14"],"node:fs/promises":[">= 14.18 && < 15",">= 16"],_http_agent:">= 0.11.1","node:_http_agent":[">= 14.18 && < 15",">= 16"],_http_client:">= 0.11.1","node:_http_client":[">= 14.18 && < 15",">= 16"],_http_common:">= 0.11.1","node:_http_common":[">= 14.18 && < 15",">= 16"],_http_incoming:">= 0.11.1","node:_http_incoming":[">= 14.18 && < 15",">= 16"],_http_outgoing:">= 0.11.1","node:_http_outgoing":[">= 14.18 && < 15",">= 16"],_http_server:">= 0.11.1","node:_http_server":[">= 14.18 && < 15",">= 16"],http:!0,"node:http":[">= 14.18 && < 15",">= 16"],http2:">= 8.8","node:http2":[">= 14.18 && < 15",">= 16"],https:!0,"node:https":[">= 14.18 && < 15",">= 16"],inspector:">= 8","node:inspector":[">= 14.18 && < 15",">= 16"],"inspector/promises":[">= 19"],"node:inspector/promises":[">= 19"],_linklist:"< 8",module:!0,"node:module":[">= 14.18 && < 15",">= 16"],net:!0,"node:net":[">= 14.18 && < 15",">= 16"],"node-inspect/lib/_inspect":">= 7.6 && < 12","node-inspect/lib/internal/inspect_client":">= 7.6 && < 12","node-inspect/lib/internal/inspect_repl":">= 7.6 && < 12",os:!0,"node:os":[">= 14.18 && < 15",">= 16"],path:!0,"node:path":[">= 14.18 && < 15",">= 16"],"path/posix":">= 15.3","node:path/posix":">= 16","path/win32":">= 15.3","node:path/win32":">= 16",perf_hooks:">= 8.5","node:perf_hooks":[">= 14.18 && < 15",">= 16"],process:">= 1","node:process":[">= 14.18 && < 15",">= 16"],punycode:">= 0.5","node:punycode":[">= 14.18 && < 15",">= 16"],querystring:!0,"node:querystring":[">= 14.18 && < 15",">= 16"],readline:!0,"node:readline":[">= 14.18 && < 15",">= 16"],"readline/promises":">= 17","node:readline/promises":">= 17",repl:!0,"node:repl":[">= 14.18 && < 15",">= 16"],"node:sea":[">= 20.12 && < 21",">= 21.7"],smalloc:">= 0.11.5 && < 3","node:sqlite":">= 23.4",_stream_duplex:">= 0.9.4","node:_stream_duplex":[">= 14.18 && < 15",">= 16"],_stream_transform:">= 0.9.4","node:_stream_transform":[">= 14.18 && < 15",">= 16"],_stream_wrap:">= 1.4.1","node:_stream_wrap":[">= 14.18 && < 15",">= 16"],_stream_passthrough:">= 0.9.4","node:_stream_passthrough":[">= 14.18 && < 15",">= 16"],_stream_readable:">= 0.9.4","node:_stream_readable":[">= 14.18 && < 15",">= 16"],_stream_writable:">= 0.9.4","node:_stream_writable":[">= 14.18 && < 15",">= 16"],stream:!0,"node:stream":[">= 14.18 && < 15",">= 16"],"stream/consumers":">= 16.7","node:stream/consumers":">= 16.7","stream/promises":">= 15","node:stream/promises":">= 16","stream/web":">= 16.5","node:stream/web":">= 16.5",string_decoder:!0,"node:string_decoder":[">= 14.18 && < 15",">= 16"],sys:[">= 0.4 && < 0.7",">= 0.8"],"node:sys":[">= 14.18 && < 15",">= 16"],"test/reporters":">= 19.9 && < 20.2","node:test/reporters":[">= 18.17 && < 19",">= 19.9",">= 20"],"test/mock_loader":">= 22.3 && < 22.7","node:test/mock_loader":">= 22.3 && < 22.7","node:test":[">= 16.17 && < 17",">= 18"],timers:!0,"node:timers":[">= 14.18 && < 15",">= 16"],"timers/promises":">= 15","node:timers/promises":">= 16",_tls_common:">= 0.11.13","node:_tls_common":[">= 14.18 && < 15",">= 16"],_tls_legacy:">= 0.11.3 && < 10",_tls_wrap:">= 0.11.3","node:_tls_wrap":[">= 14.18 && < 15",">= 16"],tls:!0,"node:tls":[">= 14.18 && < 15",">= 16"],trace_events:">= 10","node:trace_events":[">= 14.18 && < 15",">= 16"],tty:!0,"node:tty":[">= 14.18 && < 15",">= 16"],url:!0,"node:url":[">= 14.18 && < 15",">= 16"],util:!0,"node:util":[">= 14.18 && < 15",">= 16"],"util/types":">= 15.3","node:util/types":">= 16","v8/tools/arguments":">= 10 && < 12","v8/tools/codemap":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/consarray":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/csvparser":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/logreader":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/profile_view":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/splaytree":[">= 4.4 && < 5",">= 5.2 && < 12"],v8:">= 1","node:v8":[">= 14.18 && < 15",">= 16"],vm:!0,"node:vm":[">= 14.18 && < 15",">= 16"],wasi:[">= 13.4 && < 13.5",">= 18.17 && < 19",">= 20"],"node:wasi":[">= 18.17 && < 19",">= 20"],worker_threads:">= 11.7","node:worker_threads":[">= 14.18 && < 15",">= 16"],zlib:">= 0.5","node:zlib":[">= 14.18 && < 15",">= 16"]}});var C2=T((BDe,N2)=>{"use strict";var Ose=ic(),A2=O2(),R2={};for(Hd in A2)Object.prototype.hasOwnProperty.call(A2,Hd)&&(R2[Hd]=Ose(Hd));var Hd;N2.exports=R2});var I2=T((VDe,P2)=>{var Ase=ic();P2.exports=function(e){return Ase(e)}});var x2=T((FDe,L2)=>{var Rse=ic(),Wi=V("fs"),dt=V("path"),Nse=mg(),Cse=Tg(),Pse=vg(),Ise=yg(),bse=process.platform!=="win32"&&Wi.realpathSync&&typeof Wi.realpathSync.native=="function"?Wi.realpathSync.native:Wi.realpathSync,b2=Nse(),Lse=function(){return[dt.join(b2,".node_modules"),dt.join(b2,".node_libraries")]},xse=function(e){try{var t=Wi.statSync(e,{throwIfNoEntry:!1})}catch(o){if(o&&(o.code==="ENOENT"||o.code==="ENOTDIR"))return!1;throw o}return!!t&&(t.isFile()||t.isFIFO())},Mse=function(e){try{var t=Wi.statSync(e,{throwIfNoEntry:!1})}catch(o){if(o&&(o.code==="ENOENT"||o.code==="ENOTDIR"))return!1;throw o}return!!t&&t.isDirectory()},wse=function(e){try{return bse(e)}catch(t){if(t.code!=="ENOENT")throw t}return e},sc=function(e,t,o){return o&&o.preserveSymlinks===!1?e(t):t},Dse=function(e,t){var o=e(t);try{var s=JSON.parse(o);return s}catch{}},Use=function(e,t,o){for(var s=Pse(t,o,e),a=0;a<s.length;a++)s[a]=dt.join(s[a],e);return s};L2.exports=function(e,t){if(typeof e!="string")throw new TypeError("Path must be a string.");var o=Ise(e,t),s=o.isFile||xse,a=o.readFileSync||Wi.readFileSync,i=o.isDirectory||Mse,n=o.realpathSync||wse,l=o.readPackageSync||Dse;if(o.readFileSync&&o.readPackageSync)throw new TypeError("`readFileSync` and `readPackageSync` are mutually exclusive.");var c=o.packageIterator,u=o.extensions||[".js"],f=o.includeCoreModules!==!1,_=o.basedir||dt.dirname(Cse()),m=o.filename||_;o.paths=o.paths||Lse();var O=sc(n,dt.resolve(_),o);if(/^(?:\.\.?(?:\/|$)|\/|([A-Za-z]:)?[/\\])/.test(e)){var y=dt.resolve(O,e);(e==="."||e===".."||e.slice(-1)==="/")&&(y+="/");var A=F(y)||K(y);if(A)return sc(n,A,o)}else{if(f&&Rse(e))return e;var I=B(e,O);if(I)return sc(n,I,o)}var M=new Error("Cannot find module '"+e+"' from '"+m+"'");throw M.code="MODULE_NOT_FOUND",M;function F(G){var te=N(dt.dirname(G));if(te&&te.dir&&te.pkg&&o.pathFilter){var $=dt.relative(te.dir,G),le=o.pathFilter(te.pkg,G,$);le&&(G=dt.resolve(te.dir,le))}if(s(G))return G;for(var v=0;v<u.length;v++){var W=G+u[v];if(s(W))return W}}function N(G){if(!(G===""||G==="/")&&!(process.platform==="win32"&&/^\w:[/\\]*$/.test(G))&&!/[/\\]node_modules[/\\]*$/.test(G)){var te=dt.join(sc(n,G,o),"package.json");if(!s(te))return N(dt.dirname(G));var $=l(a,te);return $&&o.packageFilter&&($=o.packageFilter($,G)),{pkg:$,dir:G}}}function K(G){var te=dt.join(sc(n,G,o),"/package.json");if(s(te)){try{var $=l(a,te)}catch{}if($&&o.packageFilter&&($=o.packageFilter($,G)),$&&$.main){if(typeof $.main!="string"){var le=new TypeError("package \u201C"+$.name+"\u201D `main` must be a string");throw le.code="INVALID_PACKAGE_MAIN",le}($.main==="."||$.main==="./")&&($.main="index");try{var v=F(dt.resolve(G,$.main));if(v)return v;var W=K(dt.resolve(G,$.main));if(W)return W}catch{}}}return F(dt.join(G,"/index"))}function B(G,te){for(var $=function(){return Use(G,te,o)},le=c?c(G,te,$,o):$(),v=0;v<le.length;v++){var W=le[v];if(i(dt.dirname(W))){var R=F(W);if(R)return R;var E=K(W);if(E)return E}}}}});var Og=T((GDe,M2)=>{var qd=y2();qd.core=C2();qd.isCore=I2();qd.sync=x2();M2.exports=qd});var w2=T((HDe,kse)=>{kse.exports={name:"require-in-the-middle",version:"7.5.2",description:"Module to hook into the Node.js require function",main:"index.js",types:"types/index.d.ts",dependencies:{debug:"^4.3.5","module-details-from-path":"^1.0.3",resolve:"^1.22.8"},devDependencies:{"@babel/core":"^7.9.0","@babel/preset-env":"^7.9.5","@babel/preset-typescript":"^7.9.0","@babel/register":"^7.9.0","ipp-printer":"^1.0.0",patterns:"^1.0.3",roundround:"^0.2.0",semver:"^6.3.0",standard:"^14.3.1",tape:"^4.11.0"},scripts:{test:"npm run test:lint && npm run test:tape && npm run test:babel","test:lint":"standard","test:tape":"tape test/*.js","test:babel":"node test/babel/babel-register.js"},repository:{type:"git",url:"git+https://github.com/nodejs/require-in-the-middle.git"},keywords:["require","hook","shim","shimmer","shimming","patch","monkey","monkeypatch","module","load"],files:["types"],author:"Thomas Watson Steen <w@tson.dk> (https://twitter.com/wa7son)",license:"MIT",bugs:{url:"https://github.com/nodejs/require-in-the-middle/issues"},homepage:"https://github.com/nodejs/require-in-the-middle#readme",engines:{node:">=8.6.0"}}});var Cg=T((qDe,Ng)=>{"use strict";var qs=V("path"),hr=V("module"),Fe=ZV()("require-in-the-middle"),Bse=Eg();Ng.exports=ac;Ng.exports.Hook=ac;var Ag,Hs;if(hr.isBuiltin)Hs=hr.isBuiltin;else if(hr.builtinModules)Hs=r=>r.startsWith("node:")?!0:(Ag===void 0&&(Ag=new Set(hr.builtinModules)),Ag.has(r));else{let r=Og(),[e,t]=process.versions.node.split(".").map(Number);e===8&&t<8?Hs=o=>o==="http2"?!0:!!r.core[o]:Hs=o=>!!r.core[o]}var jd;function Vse(r,e){if(!jd)if(V.resolve&&V.resolve.paths)jd=function(t,o){return V.resolve(t,{paths:[o]})};else{let t=Og();jd=function(o,s){return t.sync(o,{basedir:s})}}return jd(r,e)}var Fse=/([/\\]index)?(\.js)?$/,Rg=class{constructor(){this._localCache=new Map,this._kRitmExports=Symbol("RitmExports")}has(e,t){if(this._localCache.has(e))return!0;if(t)return!1;{let o=V.cache[e];return!!(o&&this._kRitmExports in o)}}get(e,t){let o=this._localCache.get(e);if(o!==void 0)return o;if(!t){let s=V.cache[e];return s&&s[this._kRitmExports]}}set(e,t,o){o?this._localCache.set(e,t):e in V.cache?V.cache[e][this._kRitmExports]=t:(Fe('non-core module is unexpectedly not in require.cache: "%s"',e),this._localCache.set(e,t))}};function ac(r,e,t){if(!(this instanceof ac))return new ac(r,e,t);if(typeof r=="function"?(t=r,r=null,e=null):typeof e=="function"&&(t=e,e=null),typeof hr._resolveFilename!="function"){console.error("Error: Expected Module._resolveFilename to be a function (was: %s) - aborting!",typeof hr._resolveFilename),console.error("Please report this error as an issue related to Node.js %s at %s",process.version,w2().bugs.url);return}this._cache=new Rg,this._unhooked=!1,this._origRequire=hr.prototype.require;let o=this,s=new Set,a=e?e.internals===!0:!1,i=Array.isArray(r);Fe("registering require hook"),this._require=hr.prototype.require=function(l){return o._unhooked===!0?(Fe("ignoring require call - module is soft-unhooked"),o._origRequire.apply(this,arguments)):n.call(this,arguments,!1)},typeof process.getBuiltinModule=="function"&&(this._origGetBuiltinModule=process.getBuiltinModule,this._getBuiltinModule=process.getBuiltinModule=function(l){return o._unhooked===!0?(Fe("ignoring process.getBuiltinModule call - module is soft-unhooked"),o._origGetBuiltinModule.apply(this,arguments)):n.call(this,arguments,!0)});function n(l,c){let u=l[0],f=Hs(u),_;if(f){if(_=u,u.startsWith("node:")){let M=u.slice(5);Hs(M)&&(_=M)}}else{if(c)return Fe("call to process.getBuiltinModule with unknown built-in id"),o._origGetBuiltinModule.apply(this,l);try{_=hr._resolveFilename(u,this)}catch(M){return Fe('Module._resolveFilename("%s") threw %j, calling original Module.require',u,M.message),o._origRequire.apply(this,l)}}let m,O;if(Fe("processing %s module require('%s'): %s",f===!0?"core":"non-core",u,_),o._cache.has(_,f)===!0)return Fe("returning already patched cached module: %s",_),o._cache.get(_,f);let y=s.has(_);y===!1&&s.add(_);let A=c?o._origGetBuiltinModule.apply(this,l):o._origRequire.apply(this,l);if(y===!0)return Fe("module is in the process of being patched already - ignoring: %s",_),A;if(s.delete(_),f===!0){if(i===!0&&r.includes(_)===!1)return Fe("ignoring core module not on whitelist: %s",_),A;m=_}else if(i===!0&&r.includes(_)){let M=qs.parse(_);m=M.name,O=M.dir}else{let M=Bse(_);if(M===void 0)return Fe("could not parse filename: %s",_),A;m=M.name,O=M.basedir;let F=Gse(M);Fe("resolved filename to module: %s (id: %s, resolved: %s, basedir: %s)",m,u,F,O);let N=!1;if(i){if(!u.startsWith(".")&&r.includes(u)&&(m=u,N=!0),!r.includes(m)&&!r.includes(F))return A;r.includes(F)&&F!==m&&(m=F,N=!0)}if(!N){let K;try{K=Vse(m,O)}catch{return Fe("could not resolve module: %s",m),o._cache.set(_,A,f),A}if(K!==_)if(a===!0)m=m+qs.sep+qs.relative(O,_),Fe("preparing to process require of internal file: %s",m);else return Fe("ignoring require of non-main module file: %s",K),o._cache.set(_,A,f),A}}o._cache.set(_,A,f),Fe("calling require hook: %s",m);let I=t(A,m,O);return o._cache.set(_,I,f),Fe("returning module: %s",m),I}}ac.prototype.unhook=function(){this._unhooked=!0,this._require===hr.prototype.require?(hr.prototype.require=this._origRequire,Fe("require unhook successful")):Fe("require unhook unsuccessful"),process.getBuiltinModule!==void 0&&(this._getBuiltinModule===process.getBuiltinModule?(process.getBuiltinModule=this._origGetBuiltinModule,Fe("process.getBuiltinModule unhook successful")):Fe("process.getBuiltinModule unhook unsuccessful"))};function Gse(r){let e=qs.sep!=="/"?r.path.split(qs.sep).join("/"):r.path;return qs.posix.join(r.name,e).replace(Fse,"")}});var Yd,Kd,D2=p(()=>{Yd=class{constructor(){this.hooks=[],this.children=new Map}},Kd=class{constructor(){this._trie=new Yd,this._counter=0}insert(e){let t=this._trie;for(let o of e.moduleName.split("/")){let s=t.children.get(o);s||(s=new Yd,t.children.set(o,s)),t=s}t.hooks.push({hook:e,insertedId:this._counter++})}search(e,{maintainInsertionOrder:t,fullOnly:o}={}){let s=this._trie,a=[],i=!0;for(let n of e.split("/")){let l=s.children.get(n);if(!l){i=!1;break}o||a.push(...l.hooks),s=l}return o&&i&&a.push(...s.hooks),a.length===0?[]:a.length===1?[a[0].hook]:(t&&a.sort((n,l)=>n.insertedId-l.insertedId),a.map(({hook:n})=>n))}}});import*as Pg from"path";function qse(r){return Pg.sep!=="/"?r.split(Pg.sep).join("/"):r}var k2,Hse,zd,B2=p(()=>{k2=Nn(Cg());D2();Hse=["afterEach","after","beforeEach","before","describe","it"].every(r=>typeof global[r]=="function"),zd=class r{constructor(){this._moduleNameTrie=new Kd,this._initialize()}_initialize(){new k2.Hook(null,{internals:!0},(e,t,o)=>{let s=qse(t),a=this._moduleNameTrie.search(s,{maintainInsertionOrder:!0,fullOnly:o===void 0});for(let{onRequire:i}of a)e=i(e,t,o);return e})}register(e,t){let o={moduleName:e,onRequire:t};return this._moduleNameTrie.insert(o),o}static getInstance(){var e;return Hse?new r:this._instance=(e=this._instance)!==null&&e!==void 0?e:new r}}});var j2=T(Ji=>{var V2=[],Ig=new WeakMap,F2=new WeakMap,G2=new Map,H2=[],jse={set(r,e,t){return Ig.get(r)[e](t)},get(r,e){if(e===Symbol.toStringTag)return"Module";let t=F2.get(r)[e];if(typeof t=="function")return t()},defineProperty(r,e,t){if(!("value"in t))throw new Error("Getters/setters are not supported for exports property descriptors.");return Ig.get(r)[e](t.value)}};function Yse(r,e,t,o,s){G2.set(r,s),Ig.set(e,t),F2.set(e,o);let a=new Proxy(e,jse);V2.forEach(i=>i(r,a)),H2.push([r,a])}var q2=!1;function Kse(){return q2}function zse(r){q2=r}Ji.register=Yse;Ji.importHooks=V2;Ji.specifiers=G2;Ji.toHook=H2;Ji.getExperimentalPatchInternals=Kse;Ji.setExperimentalPatchInternals=zse});var W2=T((XDe,js)=>{var Y2=V("path"),$se=Eg(),{fileURLToPath:K2}=V("url"),{MessageChannel:Xse}=V("worker_threads"),{importHooks:bg,specifiers:Wse,toHook:Jse,getExperimentalPatchInternals:Qse}=j2();function $2(r){bg.push(r),Jse.forEach(([e,t])=>r(e,t))}function X2(r){let e=bg.indexOf(r);e>-1&&bg.splice(e,1)}function z2(r,e,t,o){let s=r(e,t,o);s&&s!==e&&(e.default=s)}var Lg;function Zse(){let{port1:r,port2:e}=new Xse,t=0,o;Lg=n=>{t++,r.postMessage(n)},r.on("message",()=>{t--,o&&t<=0&&o()}).unref();function s(){let n=setInterval(()=>{},1e3),l=new Promise(c=>{o=c}).then(()=>{clearInterval(n)});return t===0&&o(),l}let a=e;return{registerOptions:{data:{addHookMessagePort:a,include:[]},transferList:[a]},addHookMessagePort:a,waitForAllMessagesAcknowledged:s}}function lc(r,e,t){if(!(this instanceof lc))return new lc(r,e,t);typeof r=="function"?(t=r,r=null,e=null):typeof e=="function"&&(t=e,e=null);let o=e?e.internals===!0:!1;Lg&&Array.isArray(r)&&Lg(r),this._iitmHook=(s,a)=>{let i=s,n=s.startsWith("node:"),l;if(n)s=s.replace(/^node:/,"");else{if(s.startsWith("file://"))try{s=K2(s)}catch{}let c=$se(s);c&&(s=c.name,l=c.basedir)}if(r){for(let c of r)if(c===s){if(l){if(o)s=s+Y2.sep+Y2.relative(l,K2(i));else if(!Qse()&&!l.endsWith(Wse.get(i)))continue}z2(t,a,s,l)}}else z2(t,a,s,l)},$2(this._iitmHook)}lc.prototype.unhook=function(){X2(this._iitmHook)};js.exports=lc;js.exports.Hook=lc;js.exports.addHook=$2;js.exports.removeHook=X2;js.exports.createAddHookMessageChannel=Zse});function J2(r,e,t){let o,s;try{s=r()}catch(a){o=a}finally{if(e(o,s),o&&!t)throw o;return s}}async function Q2(r,e,t){let o,s;try{s=await r()}catch(a){o=a}finally{if(e(o,s),o&&!t)throw o;return s}}function $d(r){return typeof r=="function"&&typeof r.__original=="function"&&typeof r.__unwrap=="function"&&r.__wrapped===!0}var xg=p(()=>{});import*as hn from"path";import{types as Z2}from"util";import{readFileSync as eae}from"fs";function eF(r,e,t){return typeof e>"u"?r.includes("*"):r.some(o=>(0,tF.satisfies)(e,o,{includePrerelease:t}))}var tF,cc,rF,nF,Ys,iF=p(()=>{tF=Nn(FS()),cc=Nn(ug());GV();B2();rF=Nn(W2());P();nF=Nn(Cg());xg();Ys=class extends kd{constructor(e,t,o){super(e,t,o),this._hooks=[],this._requireInTheMiddleSingleton=zd.getInstance(),this._enabled=!1,this._wrap=(a,i,n)=>{if($d(a[i])&&this._unwrap(a,i),Z2.isProxy(a)){let l=(0,cc.wrap)(Object.assign({},a),i,n);return Object.defineProperty(a,i,{value:l}),l}else return(0,cc.wrap)(a,i,n)},this._unwrap=(a,i)=>Z2.isProxy(a)?Object.defineProperty(a,i,{value:a[i]}):(0,cc.unwrap)(a,i),this._massWrap=(a,i,n)=>{if(a)Array.isArray(a)||(a=[a]);else{S.error("must provide one or more modules to patch");return}if(!(i&&Array.isArray(i))){S.error("must provide one or more functions to wrap on modules");return}a.forEach(l=>{i.forEach(c=>{this._wrap(l,c,n)})})},this._massUnwrap=(a,i)=>{if(a)Array.isArray(a)||(a=[a]);else{S.error("must provide one or more modules to patch");return}if(!(i&&Array.isArray(i))){S.error("must provide one or more functions to wrap on modules");return}a.forEach(n=>{i.forEach(l=>{this._unwrap(n,l)})})};let s=this.init();s&&!Array.isArray(s)&&(s=[s]),this._modules=s||[],this._config.enabled&&this.enable()}_warnOnPreloadedModules(){this._modules.forEach(e=>{let{name:t}=e;try{let o=V.resolve(t);V.cache[o]&&this._diag.warn(`Module ${t} has been loaded before ${this.instrumentationName} so it might not work, please initialize it before requiring ${t}`)}catch{}})}_extractPackageVersion(e){try{let t=eae(hn.join(e,"package.json"),{encoding:"utf8"}),o=JSON.parse(t).version;return typeof o=="string"?o:void 0}catch{S.warn("Failed extracting version",e)}}_onRequire(e,t,o,s){var a;if(!s)return typeof e.patch=="function"&&(e.moduleExports=t,this._enabled)?(this._diag.debug("Applying instrumentation patch for nodejs core module on require hook",{module:e.name}),e.patch(t)):t;let i=this._extractPackageVersion(s);if(e.moduleVersion=i,e.name===o)return eF(e.supportedVersions,i,e.includePrerelease)&&typeof e.patch=="function"&&(e.moduleExports=t,this._enabled)?(this._diag.debug("Applying instrumentation patch for module on require hook",{module:e.name,version:e.moduleVersion,baseDir:s}),e.patch(t,e.moduleVersion)):t;let n=(a=e.files)!==null&&a!==void 0?a:[],l=hn.normalize(o);return n.filter(u=>u.name===l).filter(u=>eF(u.supportedVersions,i,e.includePrerelease)).reduce((u,f)=>(f.moduleExports=u,this._enabled?(this._diag.debug("Applying instrumentation patch for nodejs module file on require hook",{module:e.name,version:e.moduleVersion,fileName:f.name,baseDir:s}),f.patch(u,e.moduleVersion)):u),t)}enable(){if(!this._enabled){if(this._enabled=!0,this._hooks.length>0){for(let e of this._modules){typeof e.patch=="function"&&e.moduleExports&&(this._diag.debug("Applying instrumentation patch for nodejs module on instrumentation enabled",{module:e.name,version:e.moduleVersion}),e.patch(e.moduleExports,e.moduleVersion));for(let t of e.files)t.moduleExports&&(this._diag.debug("Applying instrumentation patch for nodejs module file on instrumentation enabled",{module:e.name,version:e.moduleVersion,fileName:t.name}),t.patch(t.moduleExports,e.moduleVersion))}return}this._warnOnPreloadedModules();for(let e of this._modules){let t=(i,n,l)=>{if(!l&&hn.isAbsolute(n)){let c=hn.parse(n);n=c.name,l=c.dir}return this._onRequire(e,i,n,l)},o=(i,n,l)=>this._onRequire(e,i,n,l),s=hn.isAbsolute(e.name)?new nF.Hook([e.name],{internals:!0},o):this._requireInTheMiddleSingleton.register(e.name,o);this._hooks.push(s);let a=new rF.Hook([e.name],{internals:!1},t);this._hooks.push(a)}}}disable(){if(this._enabled){this._enabled=!1;for(let e of this._modules){typeof e.unpatch=="function"&&e.moduleExports&&(this._diag.debug("Removing instrumentation patch for nodejs module on instrumentation disabled",{module:e.name,version:e.moduleVersion}),e.unpatch(e.moduleExports,e.moduleVersion));for(let t of e.files)t.moduleExports&&(this._diag.debug("Removing instrumentation patch for nodejs module file on instrumentation disabled",{module:e.name,version:e.moduleVersion,fileName:t.name}),t.unpatch(t.moduleExports,e.moduleVersion))}}}isEnabled(){return this._enabled}}});import{normalize as Xd}from"path";var oF=p(()=>{});var sF=p(()=>{iF();oF()});var Mg=p(()=>{sF()});var Wd,aF=p(()=>{Wd=class{constructor(e,t,o,s,a){this.name=e,this.supportedVersions=t,this.patch=o,this.unpatch=s,this.files=a||[]}}});var Jd,lF=p(()=>{Mg();Jd=class{constructor(e,t,o,s){this.supportedVersions=t,this.patch=o,this.unpatch=s,this.name=Xd(e)}}});var cF={};Ae(cF,{InstrumentationBase:()=>Ys,InstrumentationNodeModuleDefinition:()=>Wd,InstrumentationNodeModuleFile:()=>Jd,isWrapped:()=>$d,registerInstrumentations:()=>UV,safeExecuteInTheMiddle:()=>J2,safeExecuteInTheMiddleAsync:()=>Q2});var uF=p(()=>{kV();Mg();aF();lF();xg()});var Br,fF=p(()=>{Br=(function(){function r(e){this._delegate=e}return r.prototype.export=function(e,t){this._delegate.export(e,t)},r.prototype.forceFlush=function(){return this._delegate.forceFlush()},r.prototype.shutdown=function(){return this._delegate.shutdown()},r})()});var tae,Qi,Qd=p(()=>{tae=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(o[a]=s[a])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}})(),Qi=(function(r){tae(e,r);function e(t,o,s){var a=r.call(this,t)||this;return a.name="OTLPExporterError",a.data=s,a.code=o,a}return e})(Error)});function rae(r){if(!Number.isNaN(r)&&Number.isFinite(r)&&r>0)return r;throw new Error("Configuration: timeoutMillis is invalid, expected number greater than 0 (actual: '"+r+"')")}function Zd(r){if(r!=null)return function(){return r}}function eh(r,e,t){var o,s,a,i,n,l;return{timeoutMillis:rae((s=(o=r.timeoutMillis)!==null&&o!==void 0?o:e.timeoutMillis)!==null&&s!==void 0?s:t.timeoutMillis),concurrencyLimit:(i=(a=r.concurrencyLimit)!==null&&a!==void 0?a:e.concurrencyLimit)!==null&&i!==void 0?i:t.concurrencyLimit,compression:(l=(n=r.compression)!==null&&n!==void 0?n:e.compression)!==null&&l!==void 0?l:t.compression}}function th(){return{timeoutMillis:1e4,concurrencyLimit:30,compression:"none"}}var uc=p(()=>{});var rh,pF=p(()=>{(function(r){r.NONE="none",r.GZIP="gzip"})(rh||(rh={}))});function nh(r){return new oae(r.concurrencyLimit)}var nae,iae,oae,wg=p(()=>{nae=function(r,e,t,o){function s(a){return a instanceof t?a:new t(function(i){i(a)})}return new(t||(t=Promise))(function(a,i){function n(u){try{c(o.next(u))}catch(f){i(f)}}function l(u){try{c(o.throw(u))}catch(f){i(f)}}function c(u){u.done?a(u.value):s(u.value).then(n,l)}c((o=o.apply(r,e||[])).next())})},iae=function(r,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},o,s,a,i;return i={next:n(0),throw:n(1),return:n(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function n(c){return function(u){return l([c,u])}}function l(c){if(o)throw new TypeError("Generator is already executing.");for(;t;)try{if(o=1,s&&(a=c[0]&2?s.return:c[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,c[1])).done)return a;switch(s=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,s=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){t.label=c[1];break}if(c[0]===6&&t.label<a[1]){t.label=a[1],a=c;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(c);break}a[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(r,t)}catch(u){c=[6,u],s=0}finally{o=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},oae=(function(){function r(e){this._sendingPromises=[],this._concurrencyLimit=e}return r.prototype.pushPromise=function(e){var t=this;if(this.hasReachedLimit())throw new Error("Concurrency Limit reached");this._sendingPromises.push(e);var o=function(){var s=t._sendingPromises.indexOf(e);t._sendingPromises.splice(s,1)};e.then(o,o)},r.prototype.hasReachedLimit=function(){return this._sendingPromises.length>=this._concurrencyLimit},r.prototype.awaitAll=function(){return nae(this,void 0,void 0,function(){return iae(this,function(e){switch(e.label){case 0:return[4,Promise.all(this._sendingPromises)];case 1:return e.sent(),[2]}})})},r})()});function hF(r){return r.reduce((e,t)=>{let o=`${e}${e!==""?",":""}${t}`;return o.length>8192?e:o},"")}function _F(r){return r.getAllEntries().map(([e,t])=>{let o=`${encodeURIComponent(e)}=${encodeURIComponent(t.value)}`;return t.metadata!==void 0&&(o+=";"+t.metadata.toString()),o})}function Dg(r){let e=r.split(";");if(e.length<=0)return;let t=e.shift();if(!t)return;let o=t.indexOf("=");if(o<=0)return;let s=decodeURIComponent(t.substring(0,o).trim()),a=decodeURIComponent(t.substring(o+1).trim()),i;return e.length>0&&(i=br(e.join(";"))),{key:s,value:a,metadata:i}}function EF(r){return typeof r!="string"||r.length===0?{}:r.split(",").map(e=>Dg(e)).filter(e=>e!==void 0&&e.value.length>0).reduce((e,t)=>(e[t.key]=t.value,e),{})}var mF=p(()=>{P()});var _r,TF=p(()=>{(function(r){r[r.SUCCESS=0]="SUCCESS",r[r.FAILED=1]="FAILED"})(_r||(_r={}))});var fc,Ug=p(()=>{TF();mF();fc={getKeyPairs:_F,serializeKeyPairs:hF,parseKeyPairsIntoRecord:EF,parsePairKeyValue:Dg}});function aae(r){return Object.prototype.hasOwnProperty.call(r,"partialSuccess")}function SF(){return{handleResponse:function(r){r==null||!aae(r)||r.partialSuccess==null||Object.keys(r.partialSuccess).length===0||S.warn("Received Partial Success response:",JSON.stringify(r.partialSuccess))}}}var gF=p(()=>{P()});function ih(r,e){return new uae(r.transport,r.serializer,SF(),r.promiseHandler,e.timeout)}var lae,cae,uae,kg=p(()=>{Ug();Qd();gF();P();lae=function(r,e,t,o){function s(a){return a instanceof t?a:new t(function(i){i(a)})}return new(t||(t=Promise))(function(a,i){function n(u){try{c(o.next(u))}catch(f){i(f)}}function l(u){try{c(o.throw(u))}catch(f){i(f)}}function c(u){u.done?a(u.value):s(u.value).then(n,l)}c((o=o.apply(r,e||[])).next())})},cae=function(r,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},o,s,a,i;return i={next:n(0),throw:n(1),return:n(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function n(c){return function(u){return l([c,u])}}function l(c){if(o)throw new TypeError("Generator is already executing.");for(;t;)try{if(o=1,s&&(a=c[0]&2?s.return:c[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,c[1])).done)return a;switch(s=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,s=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){t.label=c[1];break}if(c[0]===6&&t.label<a[1]){t.label=a[1],a=c;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(c);break}a[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(r,t)}catch(u){c=[6,u],s=0}finally{o=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},uae=(function(){function r(e,t,o,s,a){this._transport=e,this._serializer=t,this._responseHandler=o,this._promiseQueue=s,this._timeout=a,this._diagLogger=S.createComponentLogger({namespace:"OTLPExportDelegate"})}return r.prototype.export=function(e,t){var o=this;if(this._diagLogger.debug("items to be sent",e),this._promiseQueue.hasReachedLimit()){t({code:_r.FAILED,error:new Error("Concurrent export limit reached")});return}var s=this._serializer.serializeRequest(e);if(s==null){t({code:_r.FAILED,error:new Error("Nothing to send")});return}this._promiseQueue.pushPromise(this._transport.send(s,this._timeout).then(function(a){if(a.status==="success"){if(a.data!=null)try{o._responseHandler.handleResponse(o._serializer.deserializeResponse(a.data))}catch(i){o._diagLogger.warn("Export succeeded but could not deserialize response - is the response specification compliant?",i,a.data)}t({code:_r.SUCCESS});return}else if(a.status==="failure"&&a.error){t({code:_r.FAILED,error:a.error});return}else a.status==="retryable"?t({code:_r.FAILED,error:new Qi("Export failed with retryable status")}):t({code:_r.FAILED,error:new Qi("Export failed with unknown error")})},function(a){return t({code:_r.FAILED,error:a})}))},r.prototype.forceFlush=function(){return this._promiseQueue.awaitAll()},r.prototype.shutdown=function(){return lae(this,void 0,void 0,function(){return cae(this,function(e){switch(e.label){case 0:return this._diagLogger.debug("shutdown started"),[4,this.forceFlush()];case 1:return e.sent(),this._transport.shutdown(),[2]}})})},r})()});function vF(r,e,t){return ih({transport:t,serializer:e,promiseHandler:nh(r)},{timeout:r.timeoutMillis})}var yF=p(()=>{wg();kg()});var pc={};Ae(pc,{CompressionAlgorithm:()=>rh,OTLPExporterBase:()=>Br,OTLPExporterError:()=>Qi,createOtlpNetworkExportDelegate:()=>vF,getSharedConfigurationDefaults:()=>th,mergeOtlpSharedConfigurationWithDefaults:()=>eh});var _n=p(()=>{fF();Qd();uc();pF();yF()});function OF(r){return r>=48&&r<=57?r-48:r>=97&&r<=102?r-87:r-55}function dc(r){let e=new Uint8Array(r.length/2),t=0;for(let o=0;o<r.length;o+=2){let s=OF(r.charCodeAt(o)),a=OF(r.charCodeAt(o+1));e[t++]=s<<4|a}return e}var AF=p(()=>{});function Bg(r){return r[0]*dae+r[1]}var fae,pae,XUe,dae,RF=p(()=>{fae=9,pae=6,XUe=Math.pow(10,pae),dae=Math.pow(10,fae)});var NF=p(()=>{RF();AF()});function oh(r){let e=BigInt(1e9);return BigInt(r[0])*e+BigInt(r[1])}function Vg(r){let e=Number(BigInt.asUintN(32,r)),t=Number(BigInt.asUintN(32,r>>BigInt(32)));return{low:e,high:t}}function sh(r){let e=oh(r);return Vg(e)}function Fg(r){return oh(r).toString()}function CF(r){return r}function PF(r){if(r!==void 0)return dc(r)}function zn(r){var e,t;if(r===void 0)return _ae;let o=(e=r.useLongBits)!==null&&e!==void 0?e:!0,s=(t=r.useHex)!==null&&t!==void 0?t:!1;return{encodeHrTime:o?sh:hae,encodeSpanContext:s?CF:dc,encodeOptionalSpanContext:s?CF:PF}}var hae,_ae,hc=p(()=>{NF();hae=typeof BigInt<"u"?Fg:Bg;_ae={encodeHrTime:sh,encodeSpanContext:dc,encodeOptionalSpanContext:PF}});var ah,IF=p(()=>{(function(r){r[r.SPAN_KIND_UNSPECIFIED=0]="SPAN_KIND_UNSPECIFIED",r[r.SPAN_KIND_INTERNAL=1]="SPAN_KIND_INTERNAL",r[r.SPAN_KIND_SERVER=2]="SPAN_KIND_SERVER",r[r.SPAN_KIND_CLIENT=3]="SPAN_KIND_CLIENT",r[r.SPAN_KIND_PRODUCER=4]="SPAN_KIND_PRODUCER",r[r.SPAN_KIND_CONSUMER=5]="SPAN_KIND_CONSUMER"})(ah||(ah={}))});function Ks(r){return{name:r.name,version:r.version}}function Vr(r){return Object.keys(r).map(e=>lh(e,r[e]))}function lh(r,e){return{key:r,value:ch(e)}}function ch(r){let e=typeof r;return e==="string"?{stringValue:r}:e==="number"?Number.isInteger(r)?{intValue:r}:{doubleValue:r}:e==="boolean"?{boolValue:r}:r instanceof Uint8Array?{bytesValue:r}:Array.isArray(r)?{arrayValue:{values:r.map(ch)}}:e==="object"&&r!=null?{kvlistValue:{values:Object.entries(r).map(([t,o])=>lh(t,o))}}:{}}var zs=p(()=>{});function bF(r,e){var t;let o=r.spanContext(),s=r.status;return{traceId:e.encodeSpanContext(o.traceId),spanId:e.encodeSpanContext(o.spanId),parentSpanId:e.encodeOptionalSpanContext(r.parentSpanId),traceState:(t=o.traceState)===null||t===void 0?void 0:t.serialize(),name:r.name,kind:r.kind==null?0:r.kind+1,startTimeUnixNano:e.encodeHrTime(r.startTime),endTimeUnixNano:e.encodeHrTime(r.endTime),attributes:Vr(r.attributes),droppedAttributesCount:r.droppedAttributesCount,events:r.events.map(a=>mae(a,e)),droppedEventsCount:r.droppedEventsCount,status:{code:s.code,message:s.message},links:r.links.map(a=>Eae(a,e)),droppedLinksCount:r.droppedLinksCount}}function Eae(r,e){var t;return{attributes:r.attributes?Vr(r.attributes):[],spanId:e.encodeSpanContext(r.context.spanId),traceId:e.encodeSpanContext(r.context.traceId),traceState:(t=r.context.traceState)===null||t===void 0?void 0:t.serialize(),droppedAttributesCount:r.droppedAttributesCount||0}}function mae(r,e){return{attributes:r.attributes?Vr(r.attributes):[],name:r.name,timeUnixNano:e.encodeHrTime(r.time),droppedAttributesCount:r.droppedAttributesCount||0}}var LF=p(()=>{zs()});function $s(r){return{attributes:Vr(r.attributes),droppedAttributesCount:0}}var uh=p(()=>{zs()});function $n(r,e){let t=zn(e);return{resourceSpans:Sae(r,t)}}function Tae(r){let e=new Map;for(let t of r){let o=e.get(t.resource);o||(o=new Map,e.set(t.resource,o));let s=`${t.instrumentationLibrary.name}@${t.instrumentationLibrary.version||""}:${t.instrumentationLibrary.schemaUrl||""}`,a=o.get(s);a||(a=[],o.set(s,a)),a.push(t)}return e}function Sae(r,e){let t=Tae(r),o=[],s=t.entries(),a=s.next();for(;!a.done;){let[i,n]=a.value,l=[],c=n.values(),u=c.next();for(;!u.done;){let _=u.value;if(_.length>0){let m=_.map(O=>bF(O,e));l.push({scope:Ks(_[0].instrumentationLibrary),spans:m,schemaUrl:_[0].instrumentationLibrary.schemaUrl})}u=c.next()}let f={resource:$s(i),scopeSpans:l,schemaUrl:void 0};o.push(f),a=s.next()}return o}var fh=p(()=>{LF();hc();zs();uh()});function MF(r,e){let t=zn(e);return{resource:$s(r.resource),schemaUrl:void 0,scopeMetrics:gae(r.scopeMetrics,t)}}function gae(r,e){return Array.from(r.map(t=>({scope:Ks(t.scope),metrics:t.metrics.map(o=>vae(o,e)),schemaUrl:t.scope.schemaUrl})))}function vae(r,e){let t={name:r.descriptor.name,description:r.descriptor.description,unit:r.descriptor.unit},o=Rae(r.aggregationTemporality);switch(r.dataPointType){case lt.SUM:t.sum={aggregationTemporality:o,isMonotonic:r.isMonotonic,dataPoints:xF(r,e)};break;case lt.GAUGE:t.gauge={dataPoints:xF(r,e)};break;case lt.HISTOGRAM:t.histogram={aggregationTemporality:o,dataPoints:Oae(r,e)};break;case lt.EXPONENTIAL_HISTOGRAM:t.exponentialHistogram={aggregationTemporality:o,dataPoints:Aae(r,e)};break}return t}function yae(r,e,t){let o={attributes:Vr(r.attributes),startTimeUnixNano:t.encodeHrTime(r.startTime),timeUnixNano:t.encodeHrTime(r.endTime)};switch(e){case Ot.INT:o.asInt=r.value;break;case Ot.DOUBLE:o.asDouble=r.value;break}return o}function xF(r,e){return r.dataPoints.map(t=>yae(t,r.descriptor.valueType,e))}function Oae(r,e){return r.dataPoints.map(t=>{let o=t.value;return{attributes:Vr(t.attributes),bucketCounts:o.buckets.counts,explicitBounds:o.buckets.boundaries,count:o.count,sum:o.sum,min:o.min,max:o.max,startTimeUnixNano:e.encodeHrTime(t.startTime),timeUnixNano:e.encodeHrTime(t.endTime)}})}function Aae(r,e){return r.dataPoints.map(t=>{let o=t.value;return{attributes:Vr(t.attributes),count:o.count,min:o.min,max:o.max,sum:o.sum,positive:{offset:o.positive.offset,bucketCounts:o.positive.bucketCounts},negative:{offset:o.negative.offset,bucketCounts:o.negative.bucketCounts},scale:o.scale,zeroCount:o.zeroCount,startTimeUnixNano:e.encodeHrTime(t.startTime),timeUnixNano:e.encodeHrTime(t.endTime)}})}function Rae(r){switch(r){case cr.DELTA:return 1;case cr.CUMULATIVE:return 2}}var wF=p(()=>{P();kp();hc();zs();uh()});function Xs(r,e){return{resourceMetrics:r.map(t=>MF(t,e))}}var ph=p(()=>{wF()});function Ws(r,e){let t=zn(e);return{resourceLogs:Cae(r,t)}}function Nae(r){let e=new Map;for(let t of r){let{resource:o,instrumentationScope:{name:s,version:a="",schemaUrl:i=""}}=t,n=e.get(o);n||(n=new Map,e.set(o,n));let l=`${s}@${a}:${i}`,c=n.get(l);c||(c=[],n.set(l,c)),c.push(t)}return e}function Cae(r,e){let t=Nae(r);return Array.from(t,([o,s])=>({resource:$s(o),scopeLogs:Array.from(s,([,a])=>({scope:Ks(a[0].instrumentationScope),logRecords:a.map(i=>Pae(i,e)),schemaUrl:a[0].instrumentationScope.schemaUrl})),schemaUrl:void 0}))}function Pae(r,e){var t,o,s;return{timeUnixNano:e.encodeHrTime(r.hrTime),observedTimeUnixNano:e.encodeHrTime(r.hrTimeObserved),severityNumber:r.severityNumber,severityText:r.severityText,body:ch(r.body),attributes:Iae(r.attributes),droppedAttributesCount:r.droppedAttributesCount,flags:(t=r.spanContext)===null||t===void 0?void 0:t.traceFlags,traceId:e.encodeOptionalSpanContext((o=r.spanContext)===null||o===void 0?void 0:o.traceId),spanId:e.encodeOptionalSpanContext((s=r.spanContext)===null||s===void 0?void 0:s.spanId)}}function Iae(r){return Object.keys(r).map(e=>lh(e,r[e]))}var dh=p(()=>{hc();zs();uh()});var Gg=T((Uke,DF)=>{"use strict";DF.exports=bae;function bae(r,e){for(var t=new Array(arguments.length-1),o=0,s=2,a=!0;s<arguments.length;)t[o++]=arguments[s++];return new Promise(function(n,l){t[o]=function(u){if(a)if(a=!1,u)l(u);else{for(var f=new Array(arguments.length-1),_=0;_<f.length;)f[_++]=arguments[_];n.apply(null,f)}};try{r.apply(e||null,t)}catch(c){a&&(a=!1,l(c))}})}});var VF=T(BF=>{"use strict";var hh=BF;hh.length=function(e){var t=e.length;if(!t)return 0;for(var o=0;--t%4>1&&e.charAt(t)==="=";)++o;return Math.ceil(e.length*3)/4-o};var Js=new Array(64),kF=new Array(123);for(Er=0;Er<64;)kF[Js[Er]=Er<26?Er+65:Er<52?Er+71:Er<62?Er-4:Er-59|43]=Er++;var Er;hh.encode=function(e,t,o){for(var s=null,a=[],i=0,n=0,l;t<o;){var c=e[t++];switch(n){case 0:a[i++]=Js[c>>2],l=(c&3)<<4,n=1;break;case 1:a[i++]=Js[l|c>>4],l=(c&15)<<2,n=2;break;case 2:a[i++]=Js[l|c>>6],a[i++]=Js[c&63],n=0;break}i>8191&&((s||(s=[])).push(String.fromCharCode.apply(String,a)),i=0)}return n&&(a[i++]=Js[l],a[i++]=61,n===1&&(a[i++]=61)),s?(i&&s.push(String.fromCharCode.apply(String,a.slice(0,i))),s.join("")):String.fromCharCode.apply(String,a.slice(0,i))};var UF="invalid encoding";hh.decode=function(e,t,o){for(var s=o,a=0,i,n=0;n<e.length;){var l=e.charCodeAt(n++);if(l===61&&a>1)break;if((l=kF[l])===void 0)throw Error(UF);switch(a){case 0:i=l,a=1;break;case 1:t[o++]=i<<2|(l&48)>>4,i=l,a=2;break;case 2:t[o++]=(i&15)<<4|(l&60)>>2,i=l,a=3;break;case 3:t[o++]=(i&3)<<6|l,a=0;break}}if(a===1)throw Error(UF);return o-s};hh.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}});var GF=T((Bke,FF)=>{"use strict";FF.exports=_h;function _h(){this._listeners={}}_h.prototype.on=function(e,t,o){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:o||this}),this};_h.prototype.off=function(e,t){if(e===void 0)this._listeners={};else if(t===void 0)this._listeners[e]=[];else for(var o=this._listeners[e],s=0;s<o.length;)o[s].fn===t?o.splice(s,1):++s;return this};_h.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var o=[],s=1;s<arguments.length;)o.push(arguments[s++]);for(s=0;s<t.length;)t[s].fn.apply(t[s++].ctx,o)}return this}});var $F=T((Vke,zF)=>{"use strict";zF.exports=HF(HF);function HF(r){return typeof Float32Array<"u"?(function(){var e=new Float32Array([-0]),t=new Uint8Array(e.buffer),o=t[3]===128;function s(l,c,u){e[0]=l,c[u]=t[0],c[u+1]=t[1],c[u+2]=t[2],c[u+3]=t[3]}function a(l,c,u){e[0]=l,c[u]=t[3],c[u+1]=t[2],c[u+2]=t[1],c[u+3]=t[0]}r.writeFloatLE=o?s:a,r.writeFloatBE=o?a:s;function i(l,c){return t[0]=l[c],t[1]=l[c+1],t[2]=l[c+2],t[3]=l[c+3],e[0]}function n(l,c){return t[3]=l[c],t[2]=l[c+1],t[1]=l[c+2],t[0]=l[c+3],e[0]}r.readFloatLE=o?i:n,r.readFloatBE=o?n:i})():(function(){function e(o,s,a,i){var n=s<0?1:0;if(n&&(s=-s),s===0)o(1/s>0?0:2147483648,a,i);else if(isNaN(s))o(2143289344,a,i);else if(s>34028234663852886e22)o((n<<31|2139095040)>>>0,a,i);else if(s<11754943508222875e-54)o((n<<31|Math.round(s/1401298464324817e-60))>>>0,a,i);else{var l=Math.floor(Math.log(s)/Math.LN2),c=Math.round(s*Math.pow(2,-l)*8388608)&8388607;o((n<<31|l+127<<23|c)>>>0,a,i)}}r.writeFloatLE=e.bind(null,qF),r.writeFloatBE=e.bind(null,jF);function t(o,s,a){var i=o(s,a),n=(i>>31)*2+1,l=i>>>23&255,c=i&8388607;return l===255?c?NaN:n*(1/0):l===0?n*1401298464324817e-60*c:n*Math.pow(2,l-150)*(c+8388608)}r.readFloatLE=t.bind(null,YF),r.readFloatBE=t.bind(null,KF)})(),typeof Float64Array<"u"?(function(){var e=new Float64Array([-0]),t=new Uint8Array(e.buffer),o=t[7]===128;function s(l,c,u){e[0]=l,c[u]=t[0],c[u+1]=t[1],c[u+2]=t[2],c[u+3]=t[3],c[u+4]=t[4],c[u+5]=t[5],c[u+6]=t[6],c[u+7]=t[7]}function a(l,c,u){e[0]=l,c[u]=t[7],c[u+1]=t[6],c[u+2]=t[5],c[u+3]=t[4],c[u+4]=t[3],c[u+5]=t[2],c[u+6]=t[1],c[u+7]=t[0]}r.writeDoubleLE=o?s:a,r.writeDoubleBE=o?a:s;function i(l,c){return t[0]=l[c],t[1]=l[c+1],t[2]=l[c+2],t[3]=l[c+3],t[4]=l[c+4],t[5]=l[c+5],t[6]=l[c+6],t[7]=l[c+7],e[0]}function n(l,c){return t[7]=l[c],t[6]=l[c+1],t[5]=l[c+2],t[4]=l[c+3],t[3]=l[c+4],t[2]=l[c+5],t[1]=l[c+6],t[0]=l[c+7],e[0]}r.readDoubleLE=o?i:n,r.readDoubleBE=o?n:i})():(function(){function e(o,s,a,i,n,l){var c=i<0?1:0;if(c&&(i=-i),i===0)o(0,n,l+s),o(1/i>0?0:2147483648,n,l+a);else if(isNaN(i))o(0,n,l+s),o(2146959360,n,l+a);else if(i>17976931348623157e292)o(0,n,l+s),o((c<<31|2146435072)>>>0,n,l+a);else{var u;if(i<22250738585072014e-324)u=i/5e-324,o(u>>>0,n,l+s),o((c<<31|u/4294967296)>>>0,n,l+a);else{var f=Math.floor(Math.log(i)/Math.LN2);f===1024&&(f=1023),u=i*Math.pow(2,-f),o(u*4503599627370496>>>0,n,l+s),o((c<<31|f+1023<<20|u*1048576&1048575)>>>0,n,l+a)}}}r.writeDoubleLE=e.bind(null,qF,0,4),r.writeDoubleBE=e.bind(null,jF,4,0);function t(o,s,a,i,n){var l=o(i,n+s),c=o(i,n+a),u=(c>>31)*2+1,f=c>>>20&2047,_=4294967296*(c&1048575)+l;return f===2047?_?NaN:u*(1/0):f===0?u*5e-324*_:u*Math.pow(2,f-1075)*(_+4503599627370496)}r.readDoubleLE=t.bind(null,YF,0,4),r.readDoubleBE=t.bind(null,KF,4,0)})(),r}function qF(r,e,t){e[t]=r&255,e[t+1]=r>>>8&255,e[t+2]=r>>>16&255,e[t+3]=r>>>24}function jF(r,e,t){e[t]=r>>>24,e[t+1]=r>>>16&255,e[t+2]=r>>>8&255,e[t+3]=r&255}function YF(r,e){return(r[e]|r[e+1]<<8|r[e+2]<<16|r[e+3]<<24)>>>0}function KF(r,e){return(r[e]<<24|r[e+1]<<16|r[e+2]<<8|r[e+3])>>>0}});var Hg=T((exports,module)=>{"use strict";module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(r){}return null}});var WF=T(XF=>{"use strict";var qg=XF;qg.length=function(e){for(var t=0,o=0,s=0;s<e.length;++s)o=e.charCodeAt(s),o<128?t+=1:o<2048?t+=2:(o&64512)===55296&&(e.charCodeAt(s+1)&64512)===56320?(++s,t+=4):t+=3;return t};qg.read=function(e,t,o){var s=o-t;if(s<1)return"";for(var a=null,i=[],n=0,l;t<o;)l=e[t++],l<128?i[n++]=l:l>191&&l<224?i[n++]=(l&31)<<6|e[t++]&63:l>239&&l<365?(l=((l&7)<<18|(e[t++]&63)<<12|(e[t++]&63)<<6|e[t++]&63)-65536,i[n++]=55296+(l>>10),i[n++]=56320+(l&1023)):i[n++]=(l&15)<<12|(e[t++]&63)<<6|e[t++]&63,n>8191&&((a||(a=[])).push(String.fromCharCode.apply(String,i)),n=0);return a?(n&&a.push(String.fromCharCode.apply(String,i.slice(0,n))),a.join("")):String.fromCharCode.apply(String,i.slice(0,n))};qg.write=function(e,t,o){for(var s=o,a,i,n=0;n<e.length;++n)a=e.charCodeAt(n),a<128?t[o++]=a:a<2048?(t[o++]=a>>6|192,t[o++]=a&63|128):(a&64512)===55296&&((i=e.charCodeAt(n+1))&64512)===56320?(a=65536+((a&1023)<<10)+(i&1023),++n,t[o++]=a>>18|240,t[o++]=a>>12&63|128,t[o++]=a>>6&63|128,t[o++]=a&63|128):(t[o++]=a>>12|224,t[o++]=a>>6&63|128,t[o++]=a&63|128);return o-s}});var QF=T((Gke,JF)=>{"use strict";JF.exports=Lae;function Lae(r,e,t){var o=t||8192,s=o>>>1,a=null,i=o;return function(l){if(l<1||l>s)return r(l);i+l>o&&(a=r(o),i=0);var c=e.call(a,i,i+=l);return i&7&&(i=(i|7)+1),c}}});var eG=T((Hke,ZF)=>{"use strict";ZF.exports=tt;var _c=Fr();function tt(r,e){this.lo=r>>>0,this.hi=e>>>0}var Zi=tt.zero=new tt(0,0);Zi.toNumber=function(){return 0};Zi.zzEncode=Zi.zzDecode=function(){return this};Zi.length=function(){return 1};var xae=tt.zeroHash="\0\0\0\0\0\0\0\0";tt.fromNumber=function(e){if(e===0)return Zi;var t=e<0;t&&(e=-e);var o=e>>>0,s=(e-o)/4294967296>>>0;return t&&(s=~s>>>0,o=~o>>>0,++o>4294967295&&(o=0,++s>4294967295&&(s=0))),new tt(o,s)};tt.from=function(e){if(typeof e=="number")return tt.fromNumber(e);if(_c.isString(e))if(_c.Long)e=_c.Long.fromString(e);else return tt.fromNumber(parseInt(e,10));return e.low||e.high?new tt(e.low>>>0,e.high>>>0):Zi};tt.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=~this.lo+1>>>0,o=~this.hi>>>0;return t||(o=o+1>>>0),-(t+o*4294967296)}return this.lo+this.hi*4294967296};tt.prototype.toLong=function(e){return _c.Long?new _c.Long(this.lo|0,this.hi|0,!!e):{low:this.lo|0,high:this.hi|0,unsigned:!!e}};var Xn=String.prototype.charCodeAt;tt.fromHash=function(e){return e===xae?Zi:new tt((Xn.call(e,0)|Xn.call(e,1)<<8|Xn.call(e,2)<<16|Xn.call(e,3)<<24)>>>0,(Xn.call(e,4)|Xn.call(e,5)<<8|Xn.call(e,6)<<16|Xn.call(e,7)<<24)>>>0)};tt.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};tt.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this};tt.prototype.zzDecode=function(){var e=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this};tt.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,o=this.hi>>>24;return o===0?t===0?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:o<128?9:10}});var Fr=T(jg=>{"use strict";var z=jg;z.asPromise=Gg();z.base64=VF();z.EventEmitter=GF();z.float=$F();z.inquire=Hg();z.utf8=WF();z.pool=QF();z.LongBits=eG();z.isNode=!!(typeof global<"u"&&global&&global.process&&global.process.versions&&global.process.versions.node);z.global=z.isNode&&global||typeof window<"u"&&window||typeof self<"u"&&self||jg;z.emptyArray=Object.freeze?Object.freeze([]):[];z.emptyObject=Object.freeze?Object.freeze({}):{};z.isInteger=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e};z.isString=function(e){return typeof e=="string"||e instanceof String};z.isObject=function(e){return e&&typeof e=="object"};z.isset=z.isSet=function(e,t){var o=e[t];return o!=null&&e.hasOwnProperty(t)?typeof o!="object"||(Array.isArray(o)?o.length:Object.keys(o).length)>0:!1};z.Buffer=(function(){try{var r=z.inquire("buffer").Buffer;return r.prototype.utf8Write?r:null}catch{return null}})();z._Buffer_from=null;z._Buffer_allocUnsafe=null;z.newBuffer=function(e){return typeof e=="number"?z.Buffer?z._Buffer_allocUnsafe(e):new z.Array(e):z.Buffer?z._Buffer_from(e):typeof Uint8Array>"u"?e:new Uint8Array(e)};z.Array=typeof Uint8Array<"u"?Uint8Array:Array;z.Long=z.global.dcodeIO&&z.global.dcodeIO.Long||z.global.Long||z.inquire("long");z.key2Re=/^true|false|0|1$/;z.key32Re=/^-?(?:0|[1-9][0-9]*)$/;z.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;z.longToHash=function(e){return e?z.LongBits.from(e).toHash():z.LongBits.zeroHash};z.longFromHash=function(e,t){var o=z.LongBits.fromHash(e);return z.Long?z.Long.fromBits(o.lo,o.hi,t):o.toNumber(!!t)};function tG(r,e,t){for(var o=Object.keys(e),s=0;s<o.length;++s)(r[o[s]]===void 0||!t)&&(r[o[s]]=e[o[s]]);return r}z.merge=tG;z.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)};function rG(r){function e(t,o){if(!(this instanceof e))return new e(t,o);Object.defineProperty(this,"message",{get:function(){return t}}),Error.captureStackTrace?Error.captureStackTrace(this,e):Object.defineProperty(this,"stack",{value:new Error().stack||""}),o&&tG(this,o)}return e.prototype=Object.create(Error.prototype,{constructor:{value:e,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return r},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),e}z.newError=rG;z.ProtocolError=rG("ProtocolError");z.oneOfGetter=function(e){for(var t={},o=0;o<e.length;++o)t[e[o]]=1;return function(){for(var s=Object.keys(this),a=s.length-1;a>-1;--a)if(t[s[a]]===1&&this[s[a]]!==void 0&&this[s[a]]!==null)return s[a]}};z.oneOfSetter=function(e){return function(t){for(var o=0;o<e.length;++o)e[o]!==t&&delete this[e[o]]}};z.toJSONOptions={longs:String,enums:String,bytes:String,json:!0};z._configure=function(){var r=z.Buffer;if(!r){z._Buffer_from=z._Buffer_allocUnsafe=null;return}z._Buffer_from=r.from!==Uint8Array.from&&r.from||function(t,o){return new r(t,o)},z._Buffer_allocUnsafe=r.allocUnsafe||function(t){return new r(t)}}});var mh=T((jke,sG)=>{"use strict";sG.exports=_e;var Zt=Fr(),Yg,Eh=Zt.LongBits,nG=Zt.base64,iG=Zt.utf8;function Ec(r,e,t){this.fn=r,this.len=e,this.next=void 0,this.val=t}function zg(){}function Mae(r){this.head=r.head,this.tail=r.tail,this.len=r.len,this.next=r.states}function _e(){this.len=0,this.head=new Ec(zg,0,0),this.tail=this.head,this.states=null}var oG=function(){return Zt.Buffer?function(){return(_e.create=function(){return new Yg})()}:function(){return new _e}};_e.create=oG();_e.alloc=function(e){return new Zt.Array(e)};Zt.Array!==Array&&(_e.alloc=Zt.pool(_e.alloc,Zt.Array.prototype.subarray));_e.prototype._push=function(e,t,o){return this.tail=this.tail.next=new Ec(e,t,o),this.len+=t,this};function $g(r,e,t){e[t]=r&255}function wae(r,e,t){for(;r>127;)e[t++]=r&127|128,r>>>=7;e[t]=r}function Xg(r,e){this.len=r,this.next=void 0,this.val=e}Xg.prototype=Object.create(Ec.prototype);Xg.prototype.fn=wae;_e.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new Xg((e=e>>>0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this};_e.prototype.int32=function(e){return e<0?this._push(Wg,10,Eh.fromNumber(e)):this.uint32(e)};_e.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)};function Wg(r,e,t){for(;r.hi;)e[t++]=r.lo&127|128,r.lo=(r.lo>>>7|r.hi<<25)>>>0,r.hi>>>=7;for(;r.lo>127;)e[t++]=r.lo&127|128,r.lo=r.lo>>>7;e[t++]=r.lo}_e.prototype.uint64=function(e){var t=Eh.from(e);return this._push(Wg,t.length(),t)};_e.prototype.int64=_e.prototype.uint64;_e.prototype.sint64=function(e){var t=Eh.from(e).zzEncode();return this._push(Wg,t.length(),t)};_e.prototype.bool=function(e){return this._push($g,1,e?1:0)};function Kg(r,e,t){e[t]=r&255,e[t+1]=r>>>8&255,e[t+2]=r>>>16&255,e[t+3]=r>>>24}_e.prototype.fixed32=function(e){return this._push(Kg,4,e>>>0)};_e.prototype.sfixed32=_e.prototype.fixed32;_e.prototype.fixed64=function(e){var t=Eh.from(e);return this._push(Kg,4,t.lo)._push(Kg,4,t.hi)};_e.prototype.sfixed64=_e.prototype.fixed64;_e.prototype.float=function(e){return this._push(Zt.float.writeFloatLE,4,e)};_e.prototype.double=function(e){return this._push(Zt.float.writeDoubleLE,8,e)};var Dae=Zt.Array.prototype.set?function(e,t,o){t.set(e,o)}:function(e,t,o){for(var s=0;s<e.length;++s)t[o+s]=e[s]};_e.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push($g,1,0);if(Zt.isString(e)){var o=_e.alloc(t=nG.length(e));nG.decode(e,o,0),e=o}return this.uint32(t)._push(Dae,t,e)};_e.prototype.string=function(e){var t=iG.length(e);return t?this.uint32(t)._push(iG.write,t,e):this._push($g,1,0)};_e.prototype.fork=function(){return this.states=new Mae(this),this.head=this.tail=new Ec(zg,0,0),this.len=0,this};_e.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Ec(zg,0,0),this.len=0),this};_e.prototype.ldelim=function(){var e=this.head,t=this.tail,o=this.len;return this.reset().uint32(o),o&&(this.tail.next=e.next,this.tail=t,this.len+=o),this};_e.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),o=0;e;)e.fn(e.val,t,o),o+=e.len,e=e.next;return t};_e._configure=function(r){Yg=r,_e.create=oG(),Yg._configure()}});var cG=T((Yke,lG)=>{"use strict";lG.exports=Gr;var aG=mh();(Gr.prototype=Object.create(aG.prototype)).constructor=Gr;var Wn=Fr();function Gr(){aG.call(this)}Gr._configure=function(){Gr.alloc=Wn._Buffer_allocUnsafe,Gr.writeBytesBuffer=Wn.Buffer&&Wn.Buffer.prototype instanceof Uint8Array&&Wn.Buffer.prototype.set.name==="set"?function(e,t,o){t.set(e,o)}:function(e,t,o){if(e.copy)e.copy(t,o,0,e.length);else for(var s=0;s<e.length;)t[o++]=e[s++]}};Gr.prototype.bytes=function(e){Wn.isString(e)&&(e=Wn._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(Gr.writeBytesBuffer,t,e),this};function Uae(r,e,t){r.length<40?Wn.utf8.write(r,e,t):e.utf8Write?e.utf8Write(r,t):e.write(r,t)}Gr.prototype.string=function(e){var t=Wn.Buffer.byteLength(e);return this.uint32(t),t&&this._push(Uae,t,e),this};Gr._configure()});var Sh=T((Kke,hG)=>{"use strict";hG.exports=Ge;var mr=Fr(),Qg,pG=mr.LongBits,kae=mr.utf8;function Tr(r,e){return RangeError("index out of range: "+r.pos+" + "+(e||1)+" > "+r.len)}function Ge(r){this.buf=r,this.pos=0,this.len=r.length}var uG=typeof Uint8Array<"u"?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new Ge(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new Ge(e);throw Error("illegal buffer")},dG=function(){return mr.Buffer?function(t){return(Ge.create=function(s){return mr.Buffer.isBuffer(s)?new Qg(s):uG(s)})(t)}:uG};Ge.create=dG();Ge.prototype._slice=mr.Array.prototype.subarray||mr.Array.prototype.slice;Ge.prototype.uint32=(function(){var e=4294967295;return function(){if(e=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(e=(e|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,Tr(this,10);return e}})();Ge.prototype.int32=function(){return this.uint32()|0};Ge.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(e&1)|0};function Jg(){var r=new pG(0,0),e=0;if(this.len-this.pos>4){for(;e<4;++e)if(r.lo=(r.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return r;if(r.lo=(r.lo|(this.buf[this.pos]&127)<<28)>>>0,r.hi=(r.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return r;e=0}else{for(;e<3;++e){if(this.pos>=this.len)throw Tr(this);if(r.lo=(r.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return r}return r.lo=(r.lo|(this.buf[this.pos++]&127)<<e*7)>>>0,r}if(this.len-this.pos>4){for(;e<5;++e)if(r.hi=(r.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return r}else for(;e<5;++e){if(this.pos>=this.len)throw Tr(this);if(r.hi=(r.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return r}throw Error("invalid varint encoding")}Ge.prototype.bool=function(){return this.uint32()!==0};function Th(r,e){return(r[e-4]|r[e-3]<<8|r[e-2]<<16|r[e-1]<<24)>>>0}Ge.prototype.fixed32=function(){if(this.pos+4>this.len)throw Tr(this,4);return Th(this.buf,this.pos+=4)};Ge.prototype.sfixed32=function(){if(this.pos+4>this.len)throw Tr(this,4);return Th(this.buf,this.pos+=4)|0};function fG(){if(this.pos+8>this.len)throw Tr(this,8);return new pG(Th(this.buf,this.pos+=4),Th(this.buf,this.pos+=4))}Ge.prototype.float=function(){if(this.pos+4>this.len)throw Tr(this,4);var e=mr.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e};Ge.prototype.double=function(){if(this.pos+8>this.len)throw Tr(this,4);var e=mr.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e};Ge.prototype.bytes=function(){var e=this.uint32(),t=this.pos,o=this.pos+e;if(o>this.len)throw Tr(this,e);if(this.pos+=e,Array.isArray(this.buf))return this.buf.slice(t,o);if(t===o){var s=mr.Buffer;return s?s.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,t,o)};Ge.prototype.string=function(){var e=this.bytes();return kae.read(e,0,e.length)};Ge.prototype.skip=function(e){if(typeof e=="number"){if(this.pos+e>this.len)throw Tr(this,e);this.pos+=e}else do if(this.pos>=this.len)throw Tr(this);while(this.buf[this.pos++]&128);return this};Ge.prototype.skipType=function(r){switch(r){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(r=this.uint32()&7)!==4;)this.skipType(r);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+r+" at offset "+this.pos)}return this};Ge._configure=function(r){Qg=r,Ge.create=dG(),Qg._configure();var e=mr.Long?"toLong":"toNumber";mr.merge(Ge.prototype,{int64:function(){return Jg.call(this)[e](!1)},uint64:function(){return Jg.call(this)[e](!0)},sint64:function(){return Jg.call(this).zzDecode()[e](!1)},fixed64:function(){return fG.call(this)[e](!0)},sfixed64:function(){return fG.call(this)[e](!1)}})}});var TG=T((zke,mG)=>{"use strict";mG.exports=eo;var EG=Sh();(eo.prototype=Object.create(EG.prototype)).constructor=eo;var _G=Fr();function eo(r){EG.call(this,r)}eo._configure=function(){_G.Buffer&&(eo.prototype._slice=_G.Buffer.prototype.slice)};eo.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))};eo._configure()});var gG=T(($ke,SG)=>{"use strict";SG.exports=mc;var Zg=Fr();(mc.prototype=Object.create(Zg.EventEmitter.prototype)).constructor=mc;function mc(r,e,t){if(typeof r!="function")throw TypeError("rpcImpl must be a function");Zg.EventEmitter.call(this),this.rpcImpl=r,this.requestDelimited=!!e,this.responseDelimited=!!t}mc.prototype.rpcCall=function r(e,t,o,s,a){if(!s)throw TypeError("request must be specified");var i=this;if(!a)return Zg.asPromise(r,i,e,t,o,s);if(!i.rpcImpl){setTimeout(function(){a(Error("already ended"))},0);return}try{return i.rpcImpl(e,t[i.requestDelimited?"encodeDelimited":"encode"](s).finish(),function(l,c){if(l)return i.emit("error",l,e),a(l);if(c===null){i.end(!0);return}if(!(c instanceof o))try{c=o[i.responseDelimited?"decodeDelimited":"decode"](c)}catch(u){return i.emit("error",u,e),a(u)}return i.emit("data",c,e),a(null,c)})}catch(n){i.emit("error",n,e),setTimeout(function(){a(n)},0);return}};mc.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}});var ev=T(vG=>{"use strict";var Bae=vG;Bae.Service=gG()});var tv=T((Wke,yG)=>{"use strict";yG.exports={}});var rv=T(AG=>{"use strict";var Ct=AG;Ct.build="minimal";Ct.Writer=mh();Ct.BufferWriter=cG();Ct.Reader=Sh();Ct.BufferReader=TG();Ct.util=Fr();Ct.rpc=ev();Ct.roots=tv();Ct.configure=OG;function OG(){Ct.util._configure(),Ct.Writer._configure(Ct.BufferWriter),Ct.Reader._configure(Ct.BufferReader)}OG()});var NG=T((Qke,RG)=>{"use strict";RG.exports=rv()});var PG=T((Zke,CG)=>{"use strict";var X=NG(),g=X.Reader,oe=X.Writer,h=X.util,d=X.roots.default||(X.roots.default={});d.opentelemetry=(function(){var r={};return r.proto=(function(){var e={};return e.common=(function(){var t={};return t.v1=(function(){var o={};return o.AnyValue=(function(){function s(i){if(i)for(var n=Object.keys(i),l=0;l<n.length;++l)i[n[l]]!=null&&(this[n[l]]=i[n[l]])}s.prototype.stringValue=null,s.prototype.boolValue=null,s.prototype.intValue=null,s.prototype.doubleValue=null,s.prototype.arrayValue=null,s.prototype.kvlistValue=null,s.prototype.bytesValue=null;var a;return Object.defineProperty(s.prototype,"value",{get:h.oneOfGetter(a=["stringValue","boolValue","intValue","doubleValue","arrayValue","kvlistValue","bytesValue"]),set:h.oneOfSetter(a)}),s.create=function(n){return new s(n)},s.encode=function(n,l){return l||(l=oe.create()),n.stringValue!=null&&Object.hasOwnProperty.call(n,"stringValue")&&l.uint32(10).string(n.stringValue),n.boolValue!=null&&Object.hasOwnProperty.call(n,"boolValue")&&l.uint32(16).bool(n.boolValue),n.intValue!=null&&Object.hasOwnProperty.call(n,"intValue")&&l.uint32(24).int64(n.intValue),n.doubleValue!=null&&Object.hasOwnProperty.call(n,"doubleValue")&&l.uint32(33).double(n.doubleValue),n.arrayValue!=null&&Object.hasOwnProperty.call(n,"arrayValue")&&d.opentelemetry.proto.common.v1.ArrayValue.encode(n.arrayValue,l.uint32(42).fork()).ldelim(),n.kvlistValue!=null&&Object.hasOwnProperty.call(n,"kvlistValue")&&d.opentelemetry.proto.common.v1.KeyValueList.encode(n.kvlistValue,l.uint32(50).fork()).ldelim(),n.bytesValue!=null&&Object.hasOwnProperty.call(n,"bytesValue")&&l.uint32(58).bytes(n.bytesValue),l},s.encodeDelimited=function(n,l){return this.encode(n,l).ldelim()},s.decode=function(n,l){n instanceof g||(n=g.create(n));for(var c=l===void 0?n.len:n.pos+l,u=new d.opentelemetry.proto.common.v1.AnyValue;n.pos<c;){var f=n.uint32();switch(f>>>3){case 1:{u.stringValue=n.string();break}case 2:{u.boolValue=n.bool();break}case 3:{u.intValue=n.int64();break}case 4:{u.doubleValue=n.double();break}case 5:{u.arrayValue=d.opentelemetry.proto.common.v1.ArrayValue.decode(n,n.uint32());break}case 6:{u.kvlistValue=d.opentelemetry.proto.common.v1.KeyValueList.decode(n,n.uint32());break}case 7:{u.bytesValue=n.bytes();break}default:n.skipType(f&7);break}}return u},s.decodeDelimited=function(n){return n instanceof g||(n=new g(n)),this.decode(n,n.uint32())},s.verify=function(n){if(typeof n!="object"||n===null)return"object expected";var l={};if(n.stringValue!=null&&n.hasOwnProperty("stringValue")&&(l.value=1,!h.isString(n.stringValue)))return"stringValue: string expected";if(n.boolValue!=null&&n.hasOwnProperty("boolValue")){if(l.value===1)return"value: multiple values";if(l.value=1,typeof n.boolValue!="boolean")return"boolValue: boolean expected"}if(n.intValue!=null&&n.hasOwnProperty("intValue")){if(l.value===1)return"value: multiple values";if(l.value=1,!h.isInteger(n.intValue)&&!(n.intValue&&h.isInteger(n.intValue.low)&&h.isInteger(n.intValue.high)))return"intValue: integer|Long expected"}if(n.doubleValue!=null&&n.hasOwnProperty("doubleValue")){if(l.value===1)return"value: multiple values";if(l.value=1,typeof n.doubleValue!="number")return"doubleValue: number expected"}if(n.arrayValue!=null&&n.hasOwnProperty("arrayValue")){if(l.value===1)return"value: multiple values";l.value=1;{var c=d.opentelemetry.proto.common.v1.ArrayValue.verify(n.arrayValue);if(c)return"arrayValue."+c}}if(n.kvlistValue!=null&&n.hasOwnProperty("kvlistValue")){if(l.value===1)return"value: multiple values";l.value=1;{var c=d.opentelemetry.proto.common.v1.KeyValueList.verify(n.kvlistValue);if(c)return"kvlistValue."+c}}if(n.bytesValue!=null&&n.hasOwnProperty("bytesValue")){if(l.value===1)return"value: multiple values";if(l.value=1,!(n.bytesValue&&typeof n.bytesValue.length=="number"||h.isString(n.bytesValue)))return"bytesValue: buffer expected"}return null},s.fromObject=function(n){if(n instanceof d.opentelemetry.proto.common.v1.AnyValue)return n;var l=new d.opentelemetry.proto.common.v1.AnyValue;if(n.stringValue!=null&&(l.stringValue=String(n.stringValue)),n.boolValue!=null&&(l.boolValue=!!n.boolValue),n.intValue!=null&&(h.Long?(l.intValue=h.Long.fromValue(n.intValue)).unsigned=!1:typeof n.intValue=="string"?l.intValue=parseInt(n.intValue,10):typeof n.intValue=="number"?l.intValue=n.intValue:typeof n.intValue=="object"&&(l.intValue=new h.LongBits(n.intValue.low>>>0,n.intValue.high>>>0).toNumber())),n.doubleValue!=null&&(l.doubleValue=Number(n.doubleValue)),n.arrayValue!=null){if(typeof n.arrayValue!="object")throw TypeError(".opentelemetry.proto.common.v1.AnyValue.arrayValue: object expected");l.arrayValue=d.opentelemetry.proto.common.v1.ArrayValue.fromObject(n.arrayValue)}if(n.kvlistValue!=null){if(typeof n.kvlistValue!="object")throw TypeError(".opentelemetry.proto.common.v1.AnyValue.kvlistValue: object expected");l.kvlistValue=d.opentelemetry.proto.common.v1.KeyValueList.fromObject(n.kvlistValue)}return n.bytesValue!=null&&(typeof n.bytesValue=="string"?h.base64.decode(n.bytesValue,l.bytesValue=h.newBuffer(h.base64.length(n.bytesValue)),0):n.bytesValue.length>=0&&(l.bytesValue=n.bytesValue)),l},s.toObject=function(n,l){l||(l={});var c={};return n.stringValue!=null&&n.hasOwnProperty("stringValue")&&(c.stringValue=n.stringValue,l.oneofs&&(c.value="stringValue")),n.boolValue!=null&&n.hasOwnProperty("boolValue")&&(c.boolValue=n.boolValue,l.oneofs&&(c.value="boolValue")),n.intValue!=null&&n.hasOwnProperty("intValue")&&(typeof n.intValue=="number"?c.intValue=l.longs===String?String(n.intValue):n.intValue:c.intValue=l.longs===String?h.Long.prototype.toString.call(n.intValue):l.longs===Number?new h.LongBits(n.intValue.low>>>0,n.intValue.high>>>0).toNumber():n.intValue,l.oneofs&&(c.value="intValue")),n.doubleValue!=null&&n.hasOwnProperty("doubleValue")&&(c.doubleValue=l.json&&!isFinite(n.doubleValue)?String(n.doubleValue):n.doubleValue,l.oneofs&&(c.value="doubleValue")),n.arrayValue!=null&&n.hasOwnProperty("arrayValue")&&(c.arrayValue=d.opentelemetry.proto.common.v1.ArrayValue.toObject(n.arrayValue,l),l.oneofs&&(c.value="arrayValue")),n.kvlistValue!=null&&n.hasOwnProperty("kvlistValue")&&(c.kvlistValue=d.opentelemetry.proto.common.v1.KeyValueList.toObject(n.kvlistValue,l),l.oneofs&&(c.value="kvlistValue")),n.bytesValue!=null&&n.hasOwnProperty("bytesValue")&&(c.bytesValue=l.bytes===String?h.base64.encode(n.bytesValue,0,n.bytesValue.length):l.bytes===Array?Array.prototype.slice.call(n.bytesValue):n.bytesValue,l.oneofs&&(c.value="bytesValue")),c},s.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},s.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.common.v1.AnyValue"},s})(),o.ArrayValue=(function(){function s(a){if(this.values=[],a)for(var i=Object.keys(a),n=0;n<i.length;++n)a[i[n]]!=null&&(this[i[n]]=a[i[n]])}return s.prototype.values=h.emptyArray,s.create=function(i){return new s(i)},s.encode=function(i,n){if(n||(n=oe.create()),i.values!=null&&i.values.length)for(var l=0;l<i.values.length;++l)d.opentelemetry.proto.common.v1.AnyValue.encode(i.values[l],n.uint32(10).fork()).ldelim();return n},s.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},s.decode=function(i,n){i instanceof g||(i=g.create(i));for(var l=n===void 0?i.len:i.pos+n,c=new d.opentelemetry.proto.common.v1.ArrayValue;i.pos<l;){var u=i.uint32();switch(u>>>3){case 1:{c.values&&c.values.length||(c.values=[]),c.values.push(d.opentelemetry.proto.common.v1.AnyValue.decode(i,i.uint32()));break}default:i.skipType(u&7);break}}return c},s.decodeDelimited=function(i){return i instanceof g||(i=new g(i)),this.decode(i,i.uint32())},s.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.values!=null&&i.hasOwnProperty("values")){if(!Array.isArray(i.values))return"values: array expected";for(var n=0;n<i.values.length;++n){var l=d.opentelemetry.proto.common.v1.AnyValue.verify(i.values[n]);if(l)return"values."+l}}return null},s.fromObject=function(i){if(i instanceof d.opentelemetry.proto.common.v1.ArrayValue)return i;var n=new d.opentelemetry.proto.common.v1.ArrayValue;if(i.values){if(!Array.isArray(i.values))throw TypeError(".opentelemetry.proto.common.v1.ArrayValue.values: array expected");n.values=[];for(var l=0;l<i.values.length;++l){if(typeof i.values[l]!="object")throw TypeError(".opentelemetry.proto.common.v1.ArrayValue.values: object expected");n.values[l]=d.opentelemetry.proto.common.v1.AnyValue.fromObject(i.values[l])}}return n},s.toObject=function(i,n){n||(n={});var l={};if((n.arrays||n.defaults)&&(l.values=[]),i.values&&i.values.length){l.values=[];for(var c=0;c<i.values.length;++c)l.values[c]=d.opentelemetry.proto.common.v1.AnyValue.toObject(i.values[c],n)}return l},s.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},s.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/opentelemetry.proto.common.v1.ArrayValue"},s})(),o.KeyValueList=(function(){function s(a){if(this.values=[],a)for(var i=Object.keys(a),n=0;n<i.length;++n)a[i[n]]!=null&&(this[i[n]]=a[i[n]])}return s.prototype.values=h.emptyArray,s.create=function(i){return new s(i)},s.encode=function(i,n){if(n||(n=oe.create()),i.values!=null&&i.values.length)for(var l=0;l<i.values.length;++l)d.opentelemetry.proto.common.v1.KeyValue.encode(i.values[l],n.uint32(10).fork()).ldelim();return n},s.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},s.decode=function(i,n){i instanceof g||(i=g.create(i));for(var l=n===void 0?i.len:i.pos+n,c=new d.opentelemetry.proto.common.v1.KeyValueList;i.pos<l;){var u=i.uint32();switch(u>>>3){case 1:{c.values&&c.values.length||(c.values=[]),c.values.push(d.opentelemetry.proto.common.v1.KeyValue.decode(i,i.uint32()));break}default:i.skipType(u&7);break}}return c},s.decodeDelimited=function(i){return i instanceof g||(i=new g(i)),this.decode(i,i.uint32())},s.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.values!=null&&i.hasOwnProperty("values")){if(!Array.isArray(i.values))return"values: array expected";for(var n=0;n<i.values.length;++n){var l=d.opentelemetry.proto.common.v1.KeyValue.verify(i.values[n]);if(l)return"values."+l}}return null},s.fromObject=function(i){if(i instanceof d.opentelemetry.proto.common.v1.KeyValueList)return i;var n=new d.opentelemetry.proto.common.v1.KeyValueList;if(i.values){if(!Array.isArray(i.values))throw TypeError(".opentelemetry.proto.common.v1.KeyValueList.values: array expected");n.values=[];for(var l=0;l<i.values.length;++l){if(typeof i.values[l]!="object")throw TypeError(".opentelemetry.proto.common.v1.KeyValueList.values: object expected");n.values[l]=d.opentelemetry.proto.common.v1.KeyValue.fromObject(i.values[l])}}return n},s.toObject=function(i,n){n||(n={});var l={};if((n.arrays||n.defaults)&&(l.values=[]),i.values&&i.values.length){l.values=[];for(var c=0;c<i.values.length;++c)l.values[c]=d.opentelemetry.proto.common.v1.KeyValue.toObject(i.values[c],n)}return l},s.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},s.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/opentelemetry.proto.common.v1.KeyValueList"},s})(),o.KeyValue=(function(){function s(a){if(a)for(var i=Object.keys(a),n=0;n<i.length;++n)a[i[n]]!=null&&(this[i[n]]=a[i[n]])}return s.prototype.key=null,s.prototype.value=null,s.create=function(i){return new s(i)},s.encode=function(i,n){return n||(n=oe.create()),i.key!=null&&Object.hasOwnProperty.call(i,"key")&&n.uint32(10).string(i.key),i.value!=null&&Object.hasOwnProperty.call(i,"value")&&d.opentelemetry.proto.common.v1.AnyValue.encode(i.value,n.uint32(18).fork()).ldelim(),n},s.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},s.decode=function(i,n){i instanceof g||(i=g.create(i));for(var l=n===void 0?i.len:i.pos+n,c=new d.opentelemetry.proto.common.v1.KeyValue;i.pos<l;){var u=i.uint32();switch(u>>>3){case 1:{c.key=i.string();break}case 2:{c.value=d.opentelemetry.proto.common.v1.AnyValue.decode(i,i.uint32());break}default:i.skipType(u&7);break}}return c},s.decodeDelimited=function(i){return i instanceof g||(i=new g(i)),this.decode(i,i.uint32())},s.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.key!=null&&i.hasOwnProperty("key")&&!h.isString(i.key))return"key: string expected";if(i.value!=null&&i.hasOwnProperty("value")){var n=d.opentelemetry.proto.common.v1.AnyValue.verify(i.value);if(n)return"value."+n}return null},s.fromObject=function(i){if(i instanceof d.opentelemetry.proto.common.v1.KeyValue)return i;var n=new d.opentelemetry.proto.common.v1.KeyValue;if(i.key!=null&&(n.key=String(i.key)),i.value!=null){if(typeof i.value!="object")throw TypeError(".opentelemetry.proto.common.v1.KeyValue.value: object expected");n.value=d.opentelemetry.proto.common.v1.AnyValue.fromObject(i.value)}return n},s.toObject=function(i,n){n||(n={});var l={};return n.defaults&&(l.key="",l.value=null),i.key!=null&&i.hasOwnProperty("key")&&(l.key=i.key),i.value!=null&&i.hasOwnProperty("value")&&(l.value=d.opentelemetry.proto.common.v1.AnyValue.toObject(i.value,n)),l},s.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},s.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/opentelemetry.proto.common.v1.KeyValue"},s})(),o.InstrumentationScope=(function(){function s(a){if(this.attributes=[],a)for(var i=Object.keys(a),n=0;n<i.length;++n)a[i[n]]!=null&&(this[i[n]]=a[i[n]])}return s.prototype.name=null,s.prototype.version=null,s.prototype.attributes=h.emptyArray,s.prototype.droppedAttributesCount=null,s.create=function(i){return new s(i)},s.encode=function(i,n){if(n||(n=oe.create()),i.name!=null&&Object.hasOwnProperty.call(i,"name")&&n.uint32(10).string(i.name),i.version!=null&&Object.hasOwnProperty.call(i,"version")&&n.uint32(18).string(i.version),i.attributes!=null&&i.attributes.length)for(var l=0;l<i.attributes.length;++l)d.opentelemetry.proto.common.v1.KeyValue.encode(i.attributes[l],n.uint32(26).fork()).ldelim();return i.droppedAttributesCount!=null&&Object.hasOwnProperty.call(i,"droppedAttributesCount")&&n.uint32(32).uint32(i.droppedAttributesCount),n},s.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},s.decode=function(i,n){i instanceof g||(i=g.create(i));for(var l=n===void 0?i.len:i.pos+n,c=new d.opentelemetry.proto.common.v1.InstrumentationScope;i.pos<l;){var u=i.uint32();switch(u>>>3){case 1:{c.name=i.string();break}case 2:{c.version=i.string();break}case 3:{c.attributes&&c.attributes.length||(c.attributes=[]),c.attributes.push(d.opentelemetry.proto.common.v1.KeyValue.decode(i,i.uint32()));break}case 4:{c.droppedAttributesCount=i.uint32();break}default:i.skipType(u&7);break}}return c},s.decodeDelimited=function(i){return i instanceof g||(i=new g(i)),this.decode(i,i.uint32())},s.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.name!=null&&i.hasOwnProperty("name")&&!h.isString(i.name))return"name: string expected";if(i.version!=null&&i.hasOwnProperty("version")&&!h.isString(i.version))return"version: string expected";if(i.attributes!=null&&i.hasOwnProperty("attributes")){if(!Array.isArray(i.attributes))return"attributes: array expected";for(var n=0;n<i.attributes.length;++n){var l=d.opentelemetry.proto.common.v1.KeyValue.verify(i.attributes[n]);if(l)return"attributes."+l}}return i.droppedAttributesCount!=null&&i.hasOwnProperty("droppedAttributesCount")&&!h.isInteger(i.droppedAttributesCount)?"droppedAttributesCount: integer expected":null},s.fromObject=function(i){if(i instanceof d.opentelemetry.proto.common.v1.InstrumentationScope)return i;var n=new d.opentelemetry.proto.common.v1.InstrumentationScope;if(i.name!=null&&(n.name=String(i.name)),i.version!=null&&(n.version=String(i.version)),i.attributes){if(!Array.isArray(i.attributes))throw TypeError(".opentelemetry.proto.common.v1.InstrumentationScope.attributes: array expected");n.attributes=[];for(var l=0;l<i.attributes.length;++l){if(typeof i.attributes[l]!="object")throw TypeError(".opentelemetry.proto.common.v1.InstrumentationScope.attributes: object expected");n.attributes[l]=d.opentelemetry.proto.common.v1.KeyValue.fromObject(i.attributes[l])}}return i.droppedAttributesCount!=null&&(n.droppedAttributesCount=i.droppedAttributesCount>>>0),n},s.toObject=function(i,n){n||(n={});var l={};if((n.arrays||n.defaults)&&(l.attributes=[]),n.defaults&&(l.name="",l.version="",l.droppedAttributesCount=0),i.name!=null&&i.hasOwnProperty("name")&&(l.name=i.name),i.version!=null&&i.hasOwnProperty("version")&&(l.version=i.version),i.attributes&&i.attributes.length){l.attributes=[];for(var c=0;c<i.attributes.length;++c)l.attributes[c]=d.opentelemetry.proto.common.v1.KeyValue.toObject(i.attributes[c],n)}return i.droppedAttributesCount!=null&&i.hasOwnProperty("droppedAttributesCount")&&(l.droppedAttributesCount=i.droppedAttributesCount),l},s.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},s.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/opentelemetry.proto.common.v1.InstrumentationScope"},s})(),o})(),t})(),e.resource=(function(){var t={};return t.v1=(function(){var o={};return o.Resource=(function(){function s(a){if(this.attributes=[],a)for(var i=Object.keys(a),n=0;n<i.length;++n)a[i[n]]!=null&&(this[i[n]]=a[i[n]])}return s.prototype.attributes=h.emptyArray,s.prototype.droppedAttributesCount=null,s.create=function(i){return new s(i)},s.encode=function(i,n){if(n||(n=oe.create()),i.attributes!=null&&i.attributes.length)for(var l=0;l<i.attributes.length;++l)d.opentelemetry.proto.common.v1.KeyValue.encode(i.attributes[l],n.uint32(10).fork()).ldelim();return i.droppedAttributesCount!=null&&Object.hasOwnProperty.call(i,"droppedAttributesCount")&&n.uint32(16).uint32(i.droppedAttributesCount),n},s.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},s.decode=function(i,n){i instanceof g||(i=g.create(i));for(var l=n===void 0?i.len:i.pos+n,c=new d.opentelemetry.proto.resource.v1.Resource;i.pos<l;){var u=i.uint32();switch(u>>>3){case 1:{c.attributes&&c.attributes.length||(c.attributes=[]),c.attributes.push(d.opentelemetry.proto.common.v1.KeyValue.decode(i,i.uint32()));break}case 2:{c.droppedAttributesCount=i.uint32();break}default:i.skipType(u&7);break}}return c},s.decodeDelimited=function(i){return i instanceof g||(i=new g(i)),this.decode(i,i.uint32())},s.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.attributes!=null&&i.hasOwnProperty("attributes")){if(!Array.isArray(i.attributes))return"attributes: array expected";for(var n=0;n<i.attributes.length;++n){var l=d.opentelemetry.proto.common.v1.KeyValue.verify(i.attributes[n]);if(l)return"attributes."+l}}return i.droppedAttributesCount!=null&&i.hasOwnProperty("droppedAttributesCount")&&!h.isInteger(i.droppedAttributesCount)?"droppedAttributesCount: integer expected":null},s.fromObject=function(i){if(i instanceof d.opentelemetry.proto.resource.v1.Resource)return i;var n=new d.opentelemetry.proto.resource.v1.Resource;if(i.attributes){if(!Array.isArray(i.attributes))throw TypeError(".opentelemetry.proto.resource.v1.Resource.attributes: array expected");n.attributes=[];for(var l=0;l<i.attributes.length;++l){if(typeof i.attributes[l]!="object")throw TypeError(".opentelemetry.proto.resource.v1.Resource.attributes: object expected");n.attributes[l]=d.opentelemetry.proto.common.v1.KeyValue.fromObject(i.attributes[l])}}return i.droppedAttributesCount!=null&&(n.droppedAttributesCount=i.droppedAttributesCount>>>0),n},s.toObject=function(i,n){n||(n={});var l={};if((n.arrays||n.defaults)&&(l.attributes=[]),n.defaults&&(l.droppedAttributesCount=0),i.attributes&&i.attributes.length){l.attributes=[];for(var c=0;c<i.attributes.length;++c)l.attributes[c]=d.opentelemetry.proto.common.v1.KeyValue.toObject(i.attributes[c],n)}return i.droppedAttributesCount!=null&&i.hasOwnProperty("droppedAttributesCount")&&(l.droppedAttributesCount=i.droppedAttributesCount),l},s.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},s.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/opentelemetry.proto.resource.v1.Resource"},s})(),o})(),t})(),e.trace=(function(){var t={};return t.v1=(function(){var o={};return o.TracesData=(function(){function s(a){if(this.resourceSpans=[],a)for(var i=Object.keys(a),n=0;n<i.length;++n)a[i[n]]!=null&&(this[i[n]]=a[i[n]])}return s.prototype.resourceSpans=h.emptyArray,s.create=function(i){return new s(i)},s.encode=function(i,n){if(n||(n=oe.create()),i.resourceSpans!=null&&i.resourceSpans.length)for(var l=0;l<i.resourceSpans.length;++l)d.opentelemetry.proto.trace.v1.ResourceSpans.encode(i.resourceSpans[l],n.uint32(10).fork()).ldelim();return n},s.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},s.decode=function(i,n){i instanceof g||(i=g.create(i));for(var l=n===void 0?i.len:i.pos+n,c=new d.opentelemetry.proto.trace.v1.TracesData;i.pos<l;){var u=i.uint32();switch(u>>>3){case 1:{c.resourceSpans&&c.resourceSpans.length||(c.resourceSpans=[]),c.resourceSpans.push(d.opentelemetry.proto.trace.v1.ResourceSpans.decode(i,i.uint32()));break}default:i.skipType(u&7);break}}return c},s.decodeDelimited=function(i){return i instanceof g||(i=new g(i)),this.decode(i,i.uint32())},s.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.resourceSpans!=null&&i.hasOwnProperty("resourceSpans")){if(!Array.isArray(i.resourceSpans))return"resourceSpans: array expected";for(var n=0;n<i.resourceSpans.length;++n){var l=d.opentelemetry.proto.trace.v1.ResourceSpans.verify(i.resourceSpans[n]);if(l)return"resourceSpans."+l}}return null},s.fromObject=function(i){if(i instanceof d.opentelemetry.proto.trace.v1.TracesData)return i;var n=new d.opentelemetry.proto.trace.v1.TracesData;if(i.resourceSpans){if(!Array.isArray(i.resourceSpans))throw TypeError(".opentelemetry.proto.trace.v1.TracesData.resourceSpans: array expected");n.resourceSpans=[];for(var l=0;l<i.resourceSpans.length;++l){if(typeof i.resourceSpans[l]!="object")throw TypeError(".opentelemetry.proto.trace.v1.TracesData.resourceSpans: object expected");n.resourceSpans[l]=d.opentelemetry.proto.trace.v1.ResourceSpans.fromObject(i.resourceSpans[l])}}return n},s.toObject=function(i,n){n||(n={});var l={};if((n.arrays||n.defaults)&&(l.resourceSpans=[]),i.resourceSpans&&i.resourceSpans.length){l.resourceSpans=[];for(var c=0;c<i.resourceSpans.length;++c)l.resourceSpans[c]=d.opentelemetry.proto.trace.v1.ResourceSpans.toObject(i.resourceSpans[c],n)}return l},s.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},s.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/opentelemetry.proto.trace.v1.TracesData"},s})(),o.ResourceSpans=(function(){function s(a){if(this.scopeSpans=[],a)for(var i=Object.keys(a),n=0;n<i.length;++n)a[i[n]]!=null&&(this[i[n]]=a[i[n]])}return s.prototype.resource=null,s.prototype.scopeSpans=h.emptyArray,s.prototype.schemaUrl=null,s.create=function(i){return new s(i)},s.encode=function(i,n){if(n||(n=oe.create()),i.resource!=null&&Object.hasOwnProperty.call(i,"resource")&&d.opentelemetry.proto.resource.v1.Resource.encode(i.resource,n.uint32(10).fork()).ldelim(),i.scopeSpans!=null&&i.scopeSpans.length)for(var l=0;l<i.scopeSpans.length;++l)d.opentelemetry.proto.trace.v1.ScopeSpans.encode(i.scopeSpans[l],n.uint32(18).fork()).ldelim();return i.schemaUrl!=null&&Object.hasOwnProperty.call(i,"schemaUrl")&&n.uint32(26).string(i.schemaUrl),n},s.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},s.decode=function(i,n){i instanceof g||(i=g.create(i));for(var l=n===void 0?i.len:i.pos+n,c=new d.opentelemetry.proto.trace.v1.ResourceSpans;i.pos<l;){var u=i.uint32();switch(u>>>3){case 1:{c.resource=d.opentelemetry.proto.resource.v1.Resource.decode(i,i.uint32());break}case 2:{c.scopeSpans&&c.scopeSpans.length||(c.scopeSpans=[]),c.scopeSpans.push(d.opentelemetry.proto.trace.v1.ScopeSpans.decode(i,i.uint32()));break}case 3:{c.schemaUrl=i.string();break}default:i.skipType(u&7);break}}return c},s.decodeDelimited=function(i){return i instanceof g||(i=new g(i)),this.decode(i,i.uint32())},s.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.resource!=null&&i.hasOwnProperty("resource")){var n=d.opentelemetry.proto.resource.v1.Resource.verify(i.resource);if(n)return"resource."+n}if(i.scopeSpans!=null&&i.hasOwnProperty("scopeSpans")){if(!Array.isArray(i.scopeSpans))return"scopeSpans: array expected";for(var l=0;l<i.scopeSpans.length;++l){var n=d.opentelemetry.proto.trace.v1.ScopeSpans.verify(i.scopeSpans[l]);if(n)return"scopeSpans."+n}}return i.schemaUrl!=null&&i.hasOwnProperty("schemaUrl")&&!h.isString(i.schemaUrl)?"schemaUrl: string expected":null},s.fromObject=function(i){if(i instanceof d.opentelemetry.proto.trace.v1.ResourceSpans)return i;var n=new d.opentelemetry.proto.trace.v1.ResourceSpans;if(i.resource!=null){if(typeof i.resource!="object")throw TypeError(".opentelemetry.proto.trace.v1.ResourceSpans.resource: object expected");n.resource=d.opentelemetry.proto.resource.v1.Resource.fromObject(i.resource)}if(i.scopeSpans){if(!Array.isArray(i.scopeSpans))throw TypeError(".opentelemetry.proto.trace.v1.ResourceSpans.scopeSpans: array expected");n.scopeSpans=[];for(var l=0;l<i.scopeSpans.length;++l){if(typeof i.scopeSpans[l]!="object")throw TypeError(".opentelemetry.proto.trace.v1.ResourceSpans.scopeSpans: object expected");n.scopeSpans[l]=d.opentelemetry.proto.trace.v1.ScopeSpans.fromObject(i.scopeSpans[l])}}return i.schemaUrl!=null&&(n.schemaUrl=String(i.schemaUrl)),n},s.toObject=function(i,n){n||(n={});var l={};if((n.arrays||n.defaults)&&(l.scopeSpans=[]),n.defaults&&(l.resource=null,l.schemaUrl=""),i.resource!=null&&i.hasOwnProperty("resource")&&(l.resource=d.opentelemetry.proto.resource.v1.Resource.toObject(i.resource,n)),i.scopeSpans&&i.scopeSpans.length){l.scopeSpans=[];for(var c=0;c<i.scopeSpans.length;++c)l.scopeSpans[c]=d.opentelemetry.proto.trace.v1.ScopeSpans.toObject(i.scopeSpans[c],n)}return i.schemaUrl!=null&&i.hasOwnProperty("schemaUrl")&&(l.schemaUrl=i.schemaUrl),l},s.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},s.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/opentelemetry.proto.trace.v1.ResourceSpans"},s})(),o.ScopeSpans=(function(){function s(a){if(this.spans=[],a)for(var i=Object.keys(a),n=0;n<i.length;++n)a[i[n]]!=null&&(this[i[n]]=a[i[n]])}return s.prototype.scope=null,s.prototype.spans=h.emptyArray,s.prototype.schemaUrl=null,s.create=function(i){return new s(i)},s.encode=function(i,n){if(n||(n=oe.create()),i.scope!=null&&Object.hasOwnProperty.call(i,"scope")&&d.opentelemetry.proto.common.v1.InstrumentationScope.encode(i.scope,n.uint32(10).fork()).ldelim(),i.spans!=null&&i.spans.length)for(var l=0;l<i.spans.length;++l)d.opentelemetry.proto.trace.v1.Span.encode(i.spans[l],n.uint32(18).fork()).ldelim();return i.schemaUrl!=null&&Object.hasOwnProperty.call(i,"schemaUrl")&&n.uint32(26).string(i.schemaUrl),n},s.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},s.decode=function(i,n){i instanceof g||(i=g.create(i));for(var l=n===void 0?i.len:i.pos+n,c=new d.opentelemetry.proto.trace.v1.ScopeSpans;i.pos<l;){var u=i.uint32();switch(u>>>3){case 1:{c.scope=d.opentelemetry.proto.common.v1.InstrumentationScope.decode(i,i.uint32());break}case 2:{c.spans&&c.spans.length||(c.spans=[]),c.spans.push(d.opentelemetry.proto.trace.v1.Span.decode(i,i.uint32()));break}case 3:{c.schemaUrl=i.string();break}default:i.skipType(u&7);break}}return c},s.decodeDelimited=function(i){return i instanceof g||(i=new g(i)),this.decode(i,i.uint32())},s.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.scope!=null&&i.hasOwnProperty("scope")){var n=d.opentelemetry.proto.common.v1.InstrumentationScope.verify(i.scope);if(n)return"scope."+n}if(i.spans!=null&&i.hasOwnProperty("spans")){if(!Array.isArray(i.spans))return"spans: array expected";for(var l=0;l<i.spans.length;++l){var n=d.opentelemetry.proto.trace.v1.Span.verify(i.spans[l]);if(n)return"spans."+n}}return i.schemaUrl!=null&&i.hasOwnProperty("schemaUrl")&&!h.isString(i.schemaUrl)?"schemaUrl: string expected":null},s.fromObject=function(i){if(i instanceof d.opentelemetry.proto.trace.v1.ScopeSpans)return i;var n=new d.opentelemetry.proto.trace.v1.ScopeSpans;if(i.scope!=null){if(typeof i.scope!="object")throw TypeError(".opentelemetry.proto.trace.v1.ScopeSpans.scope: object expected");n.scope=d.opentelemetry.proto.common.v1.InstrumentationScope.fromObject(i.scope)}if(i.spans){if(!Array.isArray(i.spans))throw TypeError(".opentelemetry.proto.trace.v1.ScopeSpans.spans: array expected");n.spans=[];for(var l=0;l<i.spans.length;++l){if(typeof i.spans[l]!="object")throw TypeError(".opentelemetry.proto.trace.v1.ScopeSpans.spans: object expected");n.spans[l]=d.opentelemetry.proto.trace.v1.Span.fromObject(i.spans[l])}}return i.schemaUrl!=null&&(n.schemaUrl=String(i.schemaUrl)),n},s.toObject=function(i,n){n||(n={});var l={};if((n.arrays||n.defaults)&&(l.spans=[]),n.defaults&&(l.scope=null,l.schemaUrl=""),i.scope!=null&&i.hasOwnProperty("scope")&&(l.scope=d.opentelemetry.proto.common.v1.InstrumentationScope.toObject(i.scope,n)),i.spans&&i.spans.length){l.spans=[];for(var c=0;c<i.spans.length;++c)l.spans[c]=d.opentelemetry.proto.trace.v1.Span.toObject(i.spans[c],n)}return i.schemaUrl!=null&&i.hasOwnProperty("schemaUrl")&&(l.schemaUrl=i.schemaUrl),l},s.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},s.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/opentelemetry.proto.trace.v1.ScopeSpans"},s})(),o.Span=(function(){function s(a){if(this.attributes=[],this.events=[],this.links=[],a)for(var i=Object.keys(a),n=0;n<i.length;++n)a[i[n]]!=null&&(this[i[n]]=a[i[n]])}return s.prototype.traceId=null,s.prototype.spanId=null,s.prototype.traceState=null,s.prototype.parentSpanId=null,s.prototype.name=null,s.prototype.kind=null,s.prototype.startTimeUnixNano=null,s.prototype.endTimeUnixNano=null,s.prototype.attributes=h.emptyArray,s.prototype.droppedAttributesCount=null,s.prototype.events=h.emptyArray,s.prototype.droppedEventsCount=null,s.prototype.links=h.emptyArray,s.prototype.droppedLinksCount=null,s.prototype.status=null,s.create=function(i){return new s(i)},s.encode=function(i,n){if(n||(n=oe.create()),i.traceId!=null&&Object.hasOwnProperty.call(i,"traceId")&&n.uint32(10).bytes(i.traceId),i.spanId!=null&&Object.hasOwnProperty.call(i,"spanId")&&n.uint32(18).bytes(i.spanId),i.traceState!=null&&Object.hasOwnProperty.call(i,"traceState")&&n.uint32(26).string(i.traceState),i.parentSpanId!=null&&Object.hasOwnProperty.call(i,"parentSpanId")&&n.uint32(34).bytes(i.parentSpanId),i.name!=null&&Object.hasOwnProperty.call(i,"name")&&n.uint32(42).string(i.name),i.kind!=null&&Object.hasOwnProperty.call(i,"kind")&&n.uint32(48).int32(i.kind),i.startTimeUnixNano!=null&&Object.hasOwnProperty.call(i,"startTimeUnixNano")&&n.uint32(57).fixed64(i.startTimeUnixNano),i.endTimeUnixNano!=null&&Object.hasOwnProperty.call(i,"endTimeUnixNano")&&n.uint32(65).fixed64(i.endTimeUnixNano),i.attributes!=null&&i.attributes.length)for(var l=0;l<i.attributes.length;++l)d.opentelemetry.proto.common.v1.KeyValue.encode(i.attributes[l],n.uint32(74).fork()).ldelim();if(i.droppedAttributesCount!=null&&Object.hasOwnProperty.call(i,"droppedAttributesCount")&&n.uint32(80).uint32(i.droppedAttributesCount),i.events!=null&&i.events.length)for(var l=0;l<i.events.length;++l)d.opentelemetry.proto.trace.v1.Span.Event.encode(i.events[l],n.uint32(90).fork()).ldelim();if(i.droppedEventsCount!=null&&Object.hasOwnProperty.call(i,"droppedEventsCount")&&n.uint32(96).uint32(i.droppedEventsCount),i.links!=null&&i.links.length)for(var l=0;l<i.links.length;++l)d.opentelemetry.proto.trace.v1.Span.Link.encode(i.links[l],n.uint32(106).fork()).ldelim();return i.droppedLinksCount!=null&&Object.hasOwnProperty.call(i,"droppedLinksCount")&&n.uint32(112).uint32(i.droppedLinksCount),i.status!=null&&Object.hasOwnProperty.call(i,"status")&&d.opentelemetry.proto.trace.v1.Status.encode(i.status,n.uint32(122).fork()).ldelim(),n},s.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},s.decode=function(i,n){i instanceof g||(i=g.create(i));for(var l=n===void 0?i.len:i.pos+n,c=new d.opentelemetry.proto.trace.v1.Span;i.pos<l;){var u=i.uint32();switch(u>>>3){case 1:{c.traceId=i.bytes();break}case 2:{c.spanId=i.bytes();break}case 3:{c.traceState=i.string();break}case 4:{c.parentSpanId=i.bytes();break}case 5:{c.name=i.string();break}case 6:{c.kind=i.int32();break}case 7:{c.startTimeUnixNano=i.fixed64();break}case 8:{c.endTimeUnixNano=i.fixed64();break}case 9:{c.attributes&&c.attributes.length||(c.attributes=[]),c.attributes.push(d.opentelemetry.proto.common.v1.KeyValue.decode(i,i.uint32()));break}case 10:{c.droppedAttributesCount=i.uint32();break}case 11:{c.events&&c.events.length||(c.events=[]),c.events.push(d.opentelemetry.proto.trace.v1.Span.Event.decode(i,i.uint32()));break}case 12:{c.droppedEventsCount=i.uint32();break}case 13:{c.links&&c.links.length||(c.links=[]),c.links.push(d.opentelemetry.proto.trace.v1.Span.Link.decode(i,i.uint32()));break}case 14:{c.droppedLinksCount=i.uint32();break}case 15:{c.status=d.opentelemetry.proto.trace.v1.Status.decode(i,i.uint32());break}default:i.skipType(u&7);break}}return c},s.decodeDelimited=function(i){return i instanceof g||(i=new g(i)),this.decode(i,i.uint32())},s.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.traceId!=null&&i.hasOwnProperty("traceId")&&!(i.traceId&&typeof i.traceId.length=="number"||h.isString(i.traceId)))return"traceId: buffer expected";if(i.spanId!=null&&i.hasOwnProperty("spanId")&&!(i.spanId&&typeof i.spanId.length=="number"||h.isString(i.spanId)))return"spanId: buffer expected";if(i.traceState!=null&&i.hasOwnProperty("traceState")&&!h.isString(i.traceState))return"traceState: string expected";if(i.parentSpanId!=null&&i.hasOwnProperty("parentSpanId")&&!(i.parentSpanId&&typeof i.parentSpanId.length=="number"||h.isString(i.parentSpanId)))return"parentSpanId: buffer expected";if(i.name!=null&&i.hasOwnProperty("name")&&!h.isString(i.name))return"name: string expected";if(i.kind!=null&&i.hasOwnProperty("kind"))switch(i.kind){default:return"kind: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:break}if(i.startTimeUnixNano!=null&&i.hasOwnProperty("startTimeUnixNano")&&!h.isInteger(i.startTimeUnixNano)&&!(i.startTimeUnixNano&&h.isInteger(i.startTimeUnixNano.low)&&h.isInteger(i.startTimeUnixNano.high)))return"startTimeUnixNano: integer|Long expected";if(i.endTimeUnixNano!=null&&i.hasOwnProperty("endTimeUnixNano")&&!h.isInteger(i.endTimeUnixNano)&&!(i.endTimeUnixNano&&h.isInteger(i.endTimeUnixNano.low)&&h.isInteger(i.endTimeUnixNano.high)))return"endTimeUnixNano: integer|Long expected";if(i.attributes!=null&&i.hasOwnProperty("attributes")){if(!Array.isArray(i.attributes))return"attributes: array expected";for(var n=0;n<i.attributes.length;++n){var l=d.opentelemetry.proto.common.v1.KeyValue.verify(i.attributes[n]);if(l)return"attributes."+l}}if(i.droppedAttributesCount!=null&&i.hasOwnProperty("droppedAttributesCount")&&!h.isInteger(i.droppedAttributesCount))return"droppedAttributesCount: integer expected";if(i.events!=null&&i.hasOwnProperty("events")){if(!Array.isArray(i.events))return"events: array expected";for(var n=0;n<i.events.length;++n){var l=d.opentelemetry.proto.trace.v1.Span.Event.verify(i.events[n]);if(l)return"events."+l}}if(i.droppedEventsCount!=null&&i.hasOwnProperty("droppedEventsCount")&&!h.isInteger(i.droppedEventsCount))return"droppedEventsCount: integer expected";if(i.links!=null&&i.hasOwnProperty("links")){if(!Array.isArray(i.links))return"links: array expected";for(var n=0;n<i.links.length;++n){var l=d.opentelemetry.proto.trace.v1.Span.Link.verify(i.links[n]);if(l)return"links."+l}}if(i.droppedLinksCount!=null&&i.hasOwnProperty("droppedLinksCount")&&!h.isInteger(i.droppedLinksCount))return"droppedLinksCount: integer expected";if(i.status!=null&&i.hasOwnProperty("status")){var l=d.opentelemetry.proto.trace.v1.Status.verify(i.status);if(l)return"status."+l}return null},s.fromObject=function(i){if(i instanceof d.opentelemetry.proto.trace.v1.Span)return i;var n=new d.opentelemetry.proto.trace.v1.Span;switch(i.traceId!=null&&(typeof i.traceId=="string"?h.base64.decode(i.traceId,n.traceId=h.newBuffer(h.base64.length(i.traceId)),0):i.traceId.length>=0&&(n.traceId=i.traceId)),i.spanId!=null&&(typeof i.spanId=="string"?h.base64.decode(i.spanId,n.spanId=h.newBuffer(h.base64.length(i.spanId)),0):i.spanId.length>=0&&(n.spanId=i.spanId)),i.traceState!=null&&(n.traceState=String(i.traceState)),i.parentSpanId!=null&&(typeof i.parentSpanId=="string"?h.base64.decode(i.parentSpanId,n.parentSpanId=h.newBuffer(h.base64.length(i.parentSpanId)),0):i.parentSpanId.length>=0&&(n.parentSpanId=i.parentSpanId)),i.name!=null&&(n.name=String(i.name)),i.kind){default:if(typeof i.kind=="number"){n.kind=i.kind;break}break;case"SPAN_KIND_UNSPECIFIED":case 0:n.kind=0;break;case"SPAN_KIND_INTERNAL":case 1:n.kind=1;break;case"SPAN_KIND_SERVER":case 2:n.kind=2;break;case"SPAN_KIND_CLIENT":case 3:n.kind=3;break;case"SPAN_KIND_PRODUCER":case 4:n.kind=4;break;case"SPAN_KIND_CONSUMER":case 5:n.kind=5;break}if(i.startTimeUnixNano!=null&&(h.Long?(n.startTimeUnixNano=h.Long.fromValue(i.startTimeUnixNano)).unsigned=!1:typeof i.startTimeUnixNano=="string"?n.startTimeUnixNano=parseInt(i.startTimeUnixNano,10):typeof i.startTimeUnixNano=="number"?n.startTimeUnixNano=i.startTimeUnixNano:typeof i.startTimeUnixNano=="object"&&(n.startTimeUnixNano=new h.LongBits(i.startTimeUnixNano.low>>>0,i.startTimeUnixNano.high>>>0).toNumber())),i.endTimeUnixNano!=null&&(h.Long?(n.endTimeUnixNano=h.Long.fromValue(i.endTimeUnixNano)).unsigned=!1:typeof i.endTimeUnixNano=="string"?n.endTimeUnixNano=parseInt(i.endTimeUnixNano,10):typeof i.endTimeUnixNano=="number"?n.endTimeUnixNano=i.endTimeUnixNano:typeof i.endTimeUnixNano=="object"&&(n.endTimeUnixNano=new h.LongBits(i.endTimeUnixNano.low>>>0,i.endTimeUnixNano.high>>>0).toNumber())),i.attributes){if(!Array.isArray(i.attributes))throw TypeError(".opentelemetry.proto.trace.v1.Span.attributes: array expected");n.attributes=[];for(var l=0;l<i.attributes.length;++l){if(typeof i.attributes[l]!="object")throw TypeError(".opentelemetry.proto.trace.v1.Span.attributes: object expected");n.attributes[l]=d.opentelemetry.proto.common.v1.KeyValue.fromObject(i.attributes[l])}}if(i.droppedAttributesCount!=null&&(n.droppedAttributesCount=i.droppedAttributesCount>>>0),i.events){if(!Array.isArray(i.events))throw TypeError(".opentelemetry.proto.trace.v1.Span.events: array expected");n.events=[];for(var l=0;l<i.events.length;++l){if(typeof i.events[l]!="object")throw TypeError(".opentelemetry.proto.trace.v1.Span.events: object expected");n.events[l]=d.opentelemetry.proto.trace.v1.Span.Event.fromObject(i.events[l])}}if(i.droppedEventsCount!=null&&(n.droppedEventsCount=i.droppedEventsCount>>>0),i.links){if(!Array.isArray(i.links))throw TypeError(".opentelemetry.proto.trace.v1.Span.links: array expected");n.links=[];for(var l=0;l<i.links.length;++l){if(typeof i.links[l]!="object")throw TypeError(".opentelemetry.proto.trace.v1.Span.links: object expected");n.links[l]=d.opentelemetry.proto.trace.v1.Span.Link.fromObject(i.links[l])}}if(i.droppedLinksCount!=null&&(n.droppedLinksCount=i.droppedLinksCount>>>0),i.status!=null){if(typeof i.status!="object")throw TypeError(".opentelemetry.proto.trace.v1.Span.status: object expected");n.status=d.opentelemetry.proto.trace.v1.Status.fromObject(i.status)}return n},s.toObject=function(i,n){n||(n={});var l={};if((n.arrays||n.defaults)&&(l.attributes=[],l.events=[],l.links=[]),n.defaults){if(n.bytes===String?l.traceId="":(l.traceId=[],n.bytes!==Array&&(l.traceId=h.newBuffer(l.traceId))),n.bytes===String?l.spanId="":(l.spanId=[],n.bytes!==Array&&(l.spanId=h.newBuffer(l.spanId))),l.traceState="",n.bytes===String?l.parentSpanId="":(l.parentSpanId=[],n.bytes!==Array&&(l.parentSpanId=h.newBuffer(l.parentSpanId))),l.name="",l.kind=n.enums===String?"SPAN_KIND_UNSPECIFIED":0,h.Long){var c=new h.Long(0,0,!1);l.startTimeUnixNano=n.longs===String?c.toString():n.longs===Number?c.toNumber():c}else l.startTimeUnixNano=n.longs===String?"0":0;if(h.Long){var c=new h.Long(0,0,!1);l.endTimeUnixNano=n.longs===String?c.toString():n.longs===Number?c.toNumber():c}else l.endTimeUnixNano=n.longs===String?"0":0;l.droppedAttributesCount=0,l.droppedEventsCount=0,l.droppedLinksCount=0,l.status=null}if(i.traceId!=null&&i.hasOwnProperty("traceId")&&(l.traceId=n.bytes===String?h.base64.encode(i.traceId,0,i.traceId.length):n.bytes===Array?Array.prototype.slice.call(i.traceId):i.traceId),i.spanId!=null&&i.hasOwnProperty("spanId")&&(l.spanId=n.bytes===String?h.base64.encode(i.spanId,0,i.spanId.length):n.bytes===Array?Array.prototype.slice.call(i.spanId):i.spanId),i.traceState!=null&&i.hasOwnProperty("traceState")&&(l.traceState=i.traceState),i.parentSpanId!=null&&i.hasOwnProperty("parentSpanId")&&(l.parentSpanId=n.bytes===String?h.base64.encode(i.parentSpanId,0,i.parentSpanId.length):n.bytes===Array?Array.prototype.slice.call(i.parentSpanId):i.parentSpanId),i.name!=null&&i.hasOwnProperty("name")&&(l.name=i.name),i.kind!=null&&i.hasOwnProperty("kind")&&(l.kind=n.enums===String?d.opentelemetry.proto.trace.v1.Span.SpanKind[i.kind]===void 0?i.kind:d.opentelemetry.proto.trace.v1.Span.SpanKind[i.kind]:i.kind),i.startTimeUnixNano!=null&&i.hasOwnProperty("startTimeUnixNano")&&(typeof i.startTimeUnixNano=="number"?l.startTimeUnixNano=n.longs===String?String(i.startTimeUnixNano):i.startTimeUnixNano:l.startTimeUnixNano=n.longs===String?h.Long.prototype.toString.call(i.startTimeUnixNano):n.longs===Number?new h.LongBits(i.startTimeUnixNano.low>>>0,i.startTimeUnixNano.high>>>0).toNumber():i.startTimeUnixNano),i.endTimeUnixNano!=null&&i.hasOwnProperty("endTimeUnixNano")&&(typeof i.endTimeUnixNano=="number"?l.endTimeUnixNano=n.longs===String?String(i.endTimeUnixNano):i.endTimeUnixNano:l.endTimeUnixNano=n.longs===String?h.Long.prototype.toString.call(i.endTimeUnixNano):n.longs===Number?new h.LongBits(i.endTimeUnixNano.low>>>0,i.endTimeUnixNano.high>>>0).toNumber():i.endTimeUnixNano),i.attributes&&i.attributes.length){l.attributes=[];for(var u=0;u<i.attributes.length;++u)l.attributes[u]=d.opentelemetry.proto.common.v1.KeyValue.toObject(i.attributes[u],n)}if(i.droppedAttributesCount!=null&&i.hasOwnProperty("droppedAttributesCount")&&(l.droppedAttributesCount=i.droppedAttributesCount),i.events&&i.events.length){l.events=[];for(var u=0;u<i.events.length;++u)l.events[u]=d.opentelemetry.proto.trace.v1.Span.Event.toObject(i.events[u],n)}if(i.droppedEventsCount!=null&&i.hasOwnProperty("droppedEventsCount")&&(l.droppedEventsCount=i.droppedEventsCount),i.links&&i.links.length){l.links=[];for(var u=0;u<i.links.length;++u)l.links[u]=d.opentelemetry.proto.trace.v1.Span.Link.toObject(i.links[u],n)}return i.droppedLinksCount!=null&&i.hasOwnProperty("droppedLinksCount")&&(l.droppedLinksCount=i.droppedLinksCount),i.status!=null&&i.hasOwnProperty("status")&&(l.status=d.opentelemetry.proto.trace.v1.Status.toObject(i.status,n)),l},s.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},s.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/opentelemetry.proto.trace.v1.Span"},s.SpanKind=(function(){var a={},i=Object.create(a);return i[a[0]="SPAN_KIND_UNSPECIFIED"]=0,i[a[1]="SPAN_KIND_INTERNAL"]=1,i[a[2]="SPAN_KIND_SERVER"]=2,i[a[3]="SPAN_KIND_CLIENT"]=3,i[a[4]="SPAN_KIND_PRODUCER"]=4,i[a[5]="SPAN_KIND_CONSUMER"]=5,i})(),s.Event=(function(){function a(i){if(this.attributes=[],i)for(var n=Object.keys(i),l=0;l<n.length;++l)i[n[l]]!=null&&(this[n[l]]=i[n[l]])}return a.prototype.timeUnixNano=null,a.prototype.name=null,a.prototype.attributes=h.emptyArray,a.prototype.droppedAttributesCount=null,a.create=function(n){return new a(n)},a.encode=function(n,l){if(l||(l=oe.create()),n.timeUnixNano!=null&&Object.hasOwnProperty.call(n,"timeUnixNano")&&l.uint32(9).fixed64(n.timeUnixNano),n.name!=null&&Object.hasOwnProperty.call(n,"name")&&l.uint32(18).string(n.name),n.attributes!=null&&n.attributes.length)for(var c=0;c<n.attributes.length;++c)d.opentelemetry.proto.common.v1.KeyValue.encode(n.attributes[c],l.uint32(26).fork()).ldelim();return n.droppedAttributesCount!=null&&Object.hasOwnProperty.call(n,"droppedAttributesCount")&&l.uint32(32).uint32(n.droppedAttributesCount),l},a.encodeDelimited=function(n,l){return this.encode(n,l).ldelim()},a.decode=function(n,l){n instanceof g||(n=g.create(n));for(var c=l===void 0?n.len:n.pos+l,u=new d.opentelemetry.proto.trace.v1.Span.Event;n.pos<c;){var f=n.uint32();switch(f>>>3){case 1:{u.timeUnixNano=n.fixed64();break}case 2:{u.name=n.string();break}case 3:{u.attributes&&u.attributes.length||(u.attributes=[]),u.attributes.push(d.opentelemetry.proto.common.v1.KeyValue.decode(n,n.uint32()));break}case 4:{u.droppedAttributesCount=n.uint32();break}default:n.skipType(f&7);break}}return u},a.decodeDelimited=function(n){return n instanceof g||(n=new g(n)),this.decode(n,n.uint32())},a.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.timeUnixNano!=null&&n.hasOwnProperty("timeUnixNano")&&!h.isInteger(n.timeUnixNano)&&!(n.timeUnixNano&&h.isInteger(n.timeUnixNano.low)&&h.isInteger(n.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(n.name!=null&&n.hasOwnProperty("name")&&!h.isString(n.name))return"name: string expected";if(n.attributes!=null&&n.hasOwnProperty("attributes")){if(!Array.isArray(n.attributes))return"attributes: array expected";for(var l=0;l<n.attributes.length;++l){var c=d.opentelemetry.proto.common.v1.KeyValue.verify(n.attributes[l]);if(c)return"attributes."+c}}return n.droppedAttributesCount!=null&&n.hasOwnProperty("droppedAttributesCount")&&!h.isInteger(n.droppedAttributesCount)?"droppedAttributesCount: integer expected":null},a.fromObject=function(n){if(n instanceof d.opentelemetry.proto.trace.v1.Span.Event)return n;var l=new d.opentelemetry.proto.trace.v1.Span.Event;if(n.timeUnixNano!=null&&(h.Long?(l.timeUnixNano=h.Long.fromValue(n.timeUnixNano)).unsigned=!1:typeof n.timeUnixNano=="string"?l.timeUnixNano=parseInt(n.timeUnixNano,10):typeof n.timeUnixNano=="number"?l.timeUnixNano=n.timeUnixNano:typeof n.timeUnixNano=="object"&&(l.timeUnixNano=new h.LongBits(n.timeUnixNano.low>>>0,n.timeUnixNano.high>>>0).toNumber())),n.name!=null&&(l.name=String(n.name)),n.attributes){if(!Array.isArray(n.attributes))throw TypeError(".opentelemetry.proto.trace.v1.Span.Event.attributes: array expected");l.attributes=[];for(var c=0;c<n.attributes.length;++c){if(typeof n.attributes[c]!="object")throw TypeError(".opentelemetry.proto.trace.v1.Span.Event.attributes: object expected");l.attributes[c]=d.opentelemetry.proto.common.v1.KeyValue.fromObject(n.attributes[c])}}return n.droppedAttributesCount!=null&&(l.droppedAttributesCount=n.droppedAttributesCount>>>0),l},a.toObject=function(n,l){l||(l={});var c={};if((l.arrays||l.defaults)&&(c.attributes=[]),l.defaults){if(h.Long){var u=new h.Long(0,0,!1);c.timeUnixNano=l.longs===String?u.toString():l.longs===Number?u.toNumber():u}else c.timeUnixNano=l.longs===String?"0":0;c.name="",c.droppedAttributesCount=0}if(n.timeUnixNano!=null&&n.hasOwnProperty("timeUnixNano")&&(typeof n.timeUnixNano=="number"?c.timeUnixNano=l.longs===String?String(n.timeUnixNano):n.timeUnixNano:c.timeUnixNano=l.longs===String?h.Long.prototype.toString.call(n.timeUnixNano):l.longs===Number?new h.LongBits(n.timeUnixNano.low>>>0,n.timeUnixNano.high>>>0).toNumber():n.timeUnixNano),n.name!=null&&n.hasOwnProperty("name")&&(c.name=n.name),n.attributes&&n.attributes.length){c.attributes=[];for(var f=0;f<n.attributes.length;++f)c.attributes[f]=d.opentelemetry.proto.common.v1.KeyValue.toObject(n.attributes[f],l)}return n.droppedAttributesCount!=null&&n.hasOwnProperty("droppedAttributesCount")&&(c.droppedAttributesCount=n.droppedAttributesCount),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},a.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.trace.v1.Span.Event"},a})(),s.Link=(function(){function a(i){if(this.attributes=[],i)for(var n=Object.keys(i),l=0;l<n.length;++l)i[n[l]]!=null&&(this[n[l]]=i[n[l]])}return a.prototype.traceId=null,a.prototype.spanId=null,a.prototype.traceState=null,a.prototype.attributes=h.emptyArray,a.prototype.droppedAttributesCount=null,a.create=function(n){return new a(n)},a.encode=function(n,l){if(l||(l=oe.create()),n.traceId!=null&&Object.hasOwnProperty.call(n,"traceId")&&l.uint32(10).bytes(n.traceId),n.spanId!=null&&Object.hasOwnProperty.call(n,"spanId")&&l.uint32(18).bytes(n.spanId),n.traceState!=null&&Object.hasOwnProperty.call(n,"traceState")&&l.uint32(26).string(n.traceState),n.attributes!=null&&n.attributes.length)for(var c=0;c<n.attributes.length;++c)d.opentelemetry.proto.common.v1.KeyValue.encode(n.attributes[c],l.uint32(34).fork()).ldelim();return n.droppedAttributesCount!=null&&Object.hasOwnProperty.call(n,"droppedAttributesCount")&&l.uint32(40).uint32(n.droppedAttributesCount),l},a.encodeDelimited=function(n,l){return this.encode(n,l).ldelim()},a.decode=function(n,l){n instanceof g||(n=g.create(n));for(var c=l===void 0?n.len:n.pos+l,u=new d.opentelemetry.proto.trace.v1.Span.Link;n.pos<c;){var f=n.uint32();switch(f>>>3){case 1:{u.traceId=n.bytes();break}case 2:{u.spanId=n.bytes();break}case 3:{u.traceState=n.string();break}case 4:{u.attributes&&u.attributes.length||(u.attributes=[]),u.attributes.push(d.opentelemetry.proto.common.v1.KeyValue.decode(n,n.uint32()));break}case 5:{u.droppedAttributesCount=n.uint32();break}default:n.skipType(f&7);break}}return u},a.decodeDelimited=function(n){return n instanceof g||(n=new g(n)),this.decode(n,n.uint32())},a.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.traceId!=null&&n.hasOwnProperty("traceId")&&!(n.traceId&&typeof n.traceId.length=="number"||h.isString(n.traceId)))return"traceId: buffer expected";if(n.spanId!=null&&n.hasOwnProperty("spanId")&&!(n.spanId&&typeof n.spanId.length=="number"||h.isString(n.spanId)))return"spanId: buffer expected";if(n.traceState!=null&&n.hasOwnProperty("traceState")&&!h.isString(n.traceState))return"traceState: string expected";if(n.attributes!=null&&n.hasOwnProperty("attributes")){if(!Array.isArray(n.attributes))return"attributes: array expected";for(var l=0;l<n.attributes.length;++l){var c=d.opentelemetry.proto.common.v1.KeyValue.verify(n.attributes[l]);if(c)return"attributes."+c}}return n.droppedAttributesCount!=null&&n.hasOwnProperty("droppedAttributesCount")&&!h.isInteger(n.droppedAttributesCount)?"droppedAttributesCount: integer expected":null},a.fromObject=function(n){if(n instanceof d.opentelemetry.proto.trace.v1.Span.Link)return n;var l=new d.opentelemetry.proto.trace.v1.Span.Link;if(n.traceId!=null&&(typeof n.traceId=="string"?h.base64.decode(n.traceId,l.traceId=h.newBuffer(h.base64.length(n.traceId)),0):n.traceId.length>=0&&(l.traceId=n.traceId)),n.spanId!=null&&(typeof n.spanId=="string"?h.base64.decode(n.spanId,l.spanId=h.newBuffer(h.base64.length(n.spanId)),0):n.spanId.length>=0&&(l.spanId=n.spanId)),n.traceState!=null&&(l.traceState=String(n.traceState)),n.attributes){if(!Array.isArray(n.attributes))throw TypeError(".opentelemetry.proto.trace.v1.Span.Link.attributes: array expected");l.attributes=[];for(var c=0;c<n.attributes.length;++c){if(typeof n.attributes[c]!="object")throw TypeError(".opentelemetry.proto.trace.v1.Span.Link.attributes: object expected");l.attributes[c]=d.opentelemetry.proto.common.v1.KeyValue.fromObject(n.attributes[c])}}return n.droppedAttributesCount!=null&&(l.droppedAttributesCount=n.droppedAttributesCount>>>0),l},a.toObject=function(n,l){l||(l={});var c={};if((l.arrays||l.defaults)&&(c.attributes=[]),l.defaults&&(l.bytes===String?c.traceId="":(c.traceId=[],l.bytes!==Array&&(c.traceId=h.newBuffer(c.traceId))),l.bytes===String?c.spanId="":(c.spanId=[],l.bytes!==Array&&(c.spanId=h.newBuffer(c.spanId))),c.traceState="",c.droppedAttributesCount=0),n.traceId!=null&&n.hasOwnProperty("traceId")&&(c.traceId=l.bytes===String?h.base64.encode(n.traceId,0,n.traceId.length):l.bytes===Array?Array.prototype.slice.call(n.traceId):n.traceId),n.spanId!=null&&n.hasOwnProperty("spanId")&&(c.spanId=l.bytes===String?h.base64.encode(n.spanId,0,n.spanId.length):l.bytes===Array?Array.prototype.slice.call(n.spanId):n.spanId),n.traceState!=null&&n.hasOwnProperty("traceState")&&(c.traceState=n.traceState),n.attributes&&n.attributes.length){c.attributes=[];for(var u=0;u<n.attributes.length;++u)c.attributes[u]=d.opentelemetry.proto.common.v1.KeyValue.toObject(n.attributes[u],l)}return n.droppedAttributesCount!=null&&n.hasOwnProperty("droppedAttributesCount")&&(c.droppedAttributesCount=n.droppedAttributesCount),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},a.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.trace.v1.Span.Link"},a})(),s})(),o.Status=(function(){function s(a){if(a)for(var i=Object.keys(a),n=0;n<i.length;++n)a[i[n]]!=null&&(this[i[n]]=a[i[n]])}return s.prototype.message=null,s.prototype.code=null,s.create=function(i){return new s(i)},s.encode=function(i,n){return n||(n=oe.create()),i.message!=null&&Object.hasOwnProperty.call(i,"message")&&n.uint32(18).string(i.message),i.code!=null&&Object.hasOwnProperty.call(i,"code")&&n.uint32(24).int32(i.code),n},s.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},s.decode=function(i,n){i instanceof g||(i=g.create(i));for(var l=n===void 0?i.len:i.pos+n,c=new d.opentelemetry.proto.trace.v1.Status;i.pos<l;){var u=i.uint32();switch(u>>>3){case 2:{c.message=i.string();break}case 3:{c.code=i.int32();break}default:i.skipType(u&7);break}}return c},s.decodeDelimited=function(i){return i instanceof g||(i=new g(i)),this.decode(i,i.uint32())},s.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.message!=null&&i.hasOwnProperty("message")&&!h.isString(i.message))return"message: string expected";if(i.code!=null&&i.hasOwnProperty("code"))switch(i.code){default:return"code: enum value expected";case 0:case 1:case 2:break}return null},s.fromObject=function(i){if(i instanceof d.opentelemetry.proto.trace.v1.Status)return i;var n=new d.opentelemetry.proto.trace.v1.Status;switch(i.message!=null&&(n.message=String(i.message)),i.code){default:if(typeof i.code=="number"){n.code=i.code;break}break;case"STATUS_CODE_UNSET":case 0:n.code=0;break;case"STATUS_CODE_OK":case 1:n.code=1;break;case"STATUS_CODE_ERROR":case 2:n.code=2;break}return n},s.toObject=function(i,n){n||(n={});var l={};return n.defaults&&(l.message="",l.code=n.enums===String?"STATUS_CODE_UNSET":0),i.message!=null&&i.hasOwnProperty("message")&&(l.message=i.message),i.code!=null&&i.hasOwnProperty("code")&&(l.code=n.enums===String?d.opentelemetry.proto.trace.v1.Status.StatusCode[i.code]===void 0?i.code:d.opentelemetry.proto.trace.v1.Status.StatusCode[i.code]:i.code),l},s.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},s.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/opentelemetry.proto.trace.v1.Status"},s.StatusCode=(function(){var a={},i=Object.create(a);return i[a[0]="STATUS_CODE_UNSET"]=0,i[a[1]="STATUS_CODE_OK"]=1,i[a[2]="STATUS_CODE_ERROR"]=2,i})(),s})(),o})(),t})(),e.collector=(function(){var t={};return t.trace=(function(){var o={};return o.v1=(function(){var s={};return s.TraceService=(function(){function a(i,n,l){X.rpc.Service.call(this,i,n,l)}return(a.prototype=Object.create(X.rpc.Service.prototype)).constructor=a,a.create=function(n,l,c){return new this(n,l,c)},Object.defineProperty(a.prototype.export=function i(n,l){return this.rpcCall(i,d.opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest,d.opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse,n,l)},"name",{value:"Export"}),a})(),s.ExportTraceServiceRequest=(function(){function a(i){if(this.resourceSpans=[],i)for(var n=Object.keys(i),l=0;l<n.length;++l)i[n[l]]!=null&&(this[n[l]]=i[n[l]])}return a.prototype.resourceSpans=h.emptyArray,a.create=function(n){return new a(n)},a.encode=function(n,l){if(l||(l=oe.create()),n.resourceSpans!=null&&n.resourceSpans.length)for(var c=0;c<n.resourceSpans.length;++c)d.opentelemetry.proto.trace.v1.ResourceSpans.encode(n.resourceSpans[c],l.uint32(10).fork()).ldelim();return l},a.encodeDelimited=function(n,l){return this.encode(n,l).ldelim()},a.decode=function(n,l){n instanceof g||(n=g.create(n));for(var c=l===void 0?n.len:n.pos+l,u=new d.opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest;n.pos<c;){var f=n.uint32();switch(f>>>3){case 1:{u.resourceSpans&&u.resourceSpans.length||(u.resourceSpans=[]),u.resourceSpans.push(d.opentelemetry.proto.trace.v1.ResourceSpans.decode(n,n.uint32()));break}default:n.skipType(f&7);break}}return u},a.decodeDelimited=function(n){return n instanceof g||(n=new g(n)),this.decode(n,n.uint32())},a.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.resourceSpans!=null&&n.hasOwnProperty("resourceSpans")){if(!Array.isArray(n.resourceSpans))return"resourceSpans: array expected";for(var l=0;l<n.resourceSpans.length;++l){var c=d.opentelemetry.proto.trace.v1.ResourceSpans.verify(n.resourceSpans[l]);if(c)return"resourceSpans."+c}}return null},a.fromObject=function(n){if(n instanceof d.opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest)return n;var l=new d.opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest;if(n.resourceSpans){if(!Array.isArray(n.resourceSpans))throw TypeError(".opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest.resourceSpans: array expected");l.resourceSpans=[];for(var c=0;c<n.resourceSpans.length;++c){if(typeof n.resourceSpans[c]!="object")throw TypeError(".opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest.resourceSpans: object expected");l.resourceSpans[c]=d.opentelemetry.proto.trace.v1.ResourceSpans.fromObject(n.resourceSpans[c])}}return l},a.toObject=function(n,l){l||(l={});var c={};if((l.arrays||l.defaults)&&(c.resourceSpans=[]),n.resourceSpans&&n.resourceSpans.length){c.resourceSpans=[];for(var u=0;u<n.resourceSpans.length;++u)c.resourceSpans[u]=d.opentelemetry.proto.trace.v1.ResourceSpans.toObject(n.resourceSpans[u],l)}return c},a.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},a.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest"},a})(),s.ExportTraceServiceResponse=(function(){function a(i){if(i)for(var n=Object.keys(i),l=0;l<n.length;++l)i[n[l]]!=null&&(this[n[l]]=i[n[l]])}return a.prototype.partialSuccess=null,a.create=function(n){return new a(n)},a.encode=function(n,l){return l||(l=oe.create()),n.partialSuccess!=null&&Object.hasOwnProperty.call(n,"partialSuccess")&&d.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess.encode(n.partialSuccess,l.uint32(10).fork()).ldelim(),l},a.encodeDelimited=function(n,l){return this.encode(n,l).ldelim()},a.decode=function(n,l){n instanceof g||(n=g.create(n));for(var c=l===void 0?n.len:n.pos+l,u=new d.opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse;n.pos<c;){var f=n.uint32();switch(f>>>3){case 1:{u.partialSuccess=d.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess.decode(n,n.uint32());break}default:n.skipType(f&7);break}}return u},a.decodeDelimited=function(n){return n instanceof g||(n=new g(n)),this.decode(n,n.uint32())},a.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.partialSuccess!=null&&n.hasOwnProperty("partialSuccess")){var l=d.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess.verify(n.partialSuccess);if(l)return"partialSuccess."+l}return null},a.fromObject=function(n){if(n instanceof d.opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse)return n;var l=new d.opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse;if(n.partialSuccess!=null){if(typeof n.partialSuccess!="object")throw TypeError(".opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse.partialSuccess: object expected");l.partialSuccess=d.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess.fromObject(n.partialSuccess)}return l},a.toObject=function(n,l){l||(l={});var c={};return l.defaults&&(c.partialSuccess=null),n.partialSuccess!=null&&n.hasOwnProperty("partialSuccess")&&(c.partialSuccess=d.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess.toObject(n.partialSuccess,l)),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},a.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse"},a})(),s.ExportTracePartialSuccess=(function(){function a(i){if(i)for(var n=Object.keys(i),l=0;l<n.length;++l)i[n[l]]!=null&&(this[n[l]]=i[n[l]])}return a.prototype.rejectedSpans=null,a.prototype.errorMessage=null,a.create=function(n){return new a(n)},a.encode=function(n,l){return l||(l=oe.create()),n.rejectedSpans!=null&&Object.hasOwnProperty.call(n,"rejectedSpans")&&l.uint32(8).int64(n.rejectedSpans),n.errorMessage!=null&&Object.hasOwnProperty.call(n,"errorMessage")&&l.uint32(18).string(n.errorMessage),l},a.encodeDelimited=function(n,l){return this.encode(n,l).ldelim()},a.decode=function(n,l){n instanceof g||(n=g.create(n));for(var c=l===void 0?n.len:n.pos+l,u=new d.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess;n.pos<c;){var f=n.uint32();switch(f>>>3){case 1:{u.rejectedSpans=n.int64();break}case 2:{u.errorMessage=n.string();break}default:n.skipType(f&7);break}}return u},a.decodeDelimited=function(n){return n instanceof g||(n=new g(n)),this.decode(n,n.uint32())},a.verify=function(n){return typeof n!="object"||n===null?"object expected":n.rejectedSpans!=null&&n.hasOwnProperty("rejectedSpans")&&!h.isInteger(n.rejectedSpans)&&!(n.rejectedSpans&&h.isInteger(n.rejectedSpans.low)&&h.isInteger(n.rejectedSpans.high))?"rejectedSpans: integer|Long expected":n.errorMessage!=null&&n.hasOwnProperty("errorMessage")&&!h.isString(n.errorMessage)?"errorMessage: string expected":null},a.fromObject=function(n){if(n instanceof d.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess)return n;var l=new d.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess;return n.rejectedSpans!=null&&(h.Long?(l.rejectedSpans=h.Long.fromValue(n.rejectedSpans)).unsigned=!1:typeof n.rejectedSpans=="string"?l.rejectedSpans=parseInt(n.rejectedSpans,10):typeof n.rejectedSpans=="number"?l.rejectedSpans=n.rejectedSpans:typeof n.rejectedSpans=="object"&&(l.rejectedSpans=new h.LongBits(n.rejectedSpans.low>>>0,n.rejectedSpans.high>>>0).toNumber())),n.errorMessage!=null&&(l.errorMessage=String(n.errorMessage)),l},a.toObject=function(n,l){l||(l={});var c={};if(l.defaults){if(h.Long){var u=new h.Long(0,0,!1);c.rejectedSpans=l.longs===String?u.toString():l.longs===Number?u.toNumber():u}else c.rejectedSpans=l.longs===String?"0":0;c.errorMessage=""}return n.rejectedSpans!=null&&n.hasOwnProperty("rejectedSpans")&&(typeof n.rejectedSpans=="number"?c.rejectedSpans=l.longs===String?String(n.rejectedSpans):n.rejectedSpans:c.rejectedSpans=l.longs===String?h.Long.prototype.toString.call(n.rejectedSpans):l.longs===Number?new h.LongBits(n.rejectedSpans.low>>>0,n.rejectedSpans.high>>>0).toNumber():n.rejectedSpans),n.errorMessage!=null&&n.hasOwnProperty("errorMessage")&&(c.errorMessage=n.errorMessage),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},a.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess"},a})(),s})(),o})(),t.metrics=(function(){var o={};return o.v1=(function(){var s={};return s.MetricsService=(function(){function a(i,n,l){X.rpc.Service.call(this,i,n,l)}return(a.prototype=Object.create(X.rpc.Service.prototype)).constructor=a,a.create=function(n,l,c){return new this(n,l,c)},Object.defineProperty(a.prototype.export=function i(n,l){return this.rpcCall(i,d.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest,d.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse,n,l)},"name",{value:"Export"}),a})(),s.ExportMetricsServiceRequest=(function(){function a(i){if(this.resourceMetrics=[],i)for(var n=Object.keys(i),l=0;l<n.length;++l)i[n[l]]!=null&&(this[n[l]]=i[n[l]])}return a.prototype.resourceMetrics=h.emptyArray,a.create=function(n){return new a(n)},a.encode=function(n,l){if(l||(l=oe.create()),n.resourceMetrics!=null&&n.resourceMetrics.length)for(var c=0;c<n.resourceMetrics.length;++c)d.opentelemetry.proto.metrics.v1.ResourceMetrics.encode(n.resourceMetrics[c],l.uint32(10).fork()).ldelim();return l},a.encodeDelimited=function(n,l){return this.encode(n,l).ldelim()},a.decode=function(n,l){n instanceof g||(n=g.create(n));for(var c=l===void 0?n.len:n.pos+l,u=new d.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest;n.pos<c;){var f=n.uint32();switch(f>>>3){case 1:{u.resourceMetrics&&u.resourceMetrics.length||(u.resourceMetrics=[]),u.resourceMetrics.push(d.opentelemetry.proto.metrics.v1.ResourceMetrics.decode(n,n.uint32()));break}default:n.skipType(f&7);break}}return u},a.decodeDelimited=function(n){return n instanceof g||(n=new g(n)),this.decode(n,n.uint32())},a.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.resourceMetrics!=null&&n.hasOwnProperty("resourceMetrics")){if(!Array.isArray(n.resourceMetrics))return"resourceMetrics: array expected";for(var l=0;l<n.resourceMetrics.length;++l){var c=d.opentelemetry.proto.metrics.v1.ResourceMetrics.verify(n.resourceMetrics[l]);if(c)return"resourceMetrics."+c}}return null},a.fromObject=function(n){if(n instanceof d.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest)return n;var l=new d.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest;if(n.resourceMetrics){if(!Array.isArray(n.resourceMetrics))throw TypeError(".opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest.resourceMetrics: array expected");l.resourceMetrics=[];for(var c=0;c<n.resourceMetrics.length;++c){if(typeof n.resourceMetrics[c]!="object")throw TypeError(".opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest.resourceMetrics: object expected");l.resourceMetrics[c]=d.opentelemetry.proto.metrics.v1.ResourceMetrics.fromObject(n.resourceMetrics[c])}}return l},a.toObject=function(n,l){l||(l={});var c={};if((l.arrays||l.defaults)&&(c.resourceMetrics=[]),n.resourceMetrics&&n.resourceMetrics.length){c.resourceMetrics=[];for(var u=0;u<n.resourceMetrics.length;++u)c.resourceMetrics[u]=d.opentelemetry.proto.metrics.v1.ResourceMetrics.toObject(n.resourceMetrics[u],l)}return c},a.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},a.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest"},a})(),s.ExportMetricsServiceResponse=(function(){function a(i){if(i)for(var n=Object.keys(i),l=0;l<n.length;++l)i[n[l]]!=null&&(this[n[l]]=i[n[l]])}return a.prototype.partialSuccess=null,a.create=function(n){return new a(n)},a.encode=function(n,l){return l||(l=oe.create()),n.partialSuccess!=null&&Object.hasOwnProperty.call(n,"partialSuccess")&&d.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess.encode(n.partialSuccess,l.uint32(10).fork()).ldelim(),l},a.encodeDelimited=function(n,l){return this.encode(n,l).ldelim()},a.decode=function(n,l){n instanceof g||(n=g.create(n));for(var c=l===void 0?n.len:n.pos+l,u=new d.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse;n.pos<c;){var f=n.uint32();switch(f>>>3){case 1:{u.partialSuccess=d.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess.decode(n,n.uint32());break}default:n.skipType(f&7);break}}return u},a.decodeDelimited=function(n){return n instanceof g||(n=new g(n)),this.decode(n,n.uint32())},a.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.partialSuccess!=null&&n.hasOwnProperty("partialSuccess")){var l=d.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess.verify(n.partialSuccess);if(l)return"partialSuccess."+l}return null},a.fromObject=function(n){if(n instanceof d.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse)return n;var l=new d.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse;if(n.partialSuccess!=null){if(typeof n.partialSuccess!="object")throw TypeError(".opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse.partialSuccess: object expected");l.partialSuccess=d.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess.fromObject(n.partialSuccess)}return l},a.toObject=function(n,l){l||(l={});var c={};return l.defaults&&(c.partialSuccess=null),n.partialSuccess!=null&&n.hasOwnProperty("partialSuccess")&&(c.partialSuccess=d.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess.toObject(n.partialSuccess,l)),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},a.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse"},a})(),s.ExportMetricsPartialSuccess=(function(){function a(i){if(i)for(var n=Object.keys(i),l=0;l<n.length;++l)i[n[l]]!=null&&(this[n[l]]=i[n[l]])}return a.prototype.rejectedDataPoints=null,a.prototype.errorMessage=null,a.create=function(n){return new a(n)},a.encode=function(n,l){return l||(l=oe.create()),n.rejectedDataPoints!=null&&Object.hasOwnProperty.call(n,"rejectedDataPoints")&&l.uint32(8).int64(n.rejectedDataPoints),n.errorMessage!=null&&Object.hasOwnProperty.call(n,"errorMessage")&&l.uint32(18).string(n.errorMessage),l},a.encodeDelimited=function(n,l){return this.encode(n,l).ldelim()},a.decode=function(n,l){n instanceof g||(n=g.create(n));for(var c=l===void 0?n.len:n.pos+l,u=new d.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess;n.pos<c;){var f=n.uint32();switch(f>>>3){case 1:{u.rejectedDataPoints=n.int64();break}case 2:{u.errorMessage=n.string();break}default:n.skipType(f&7);break}}return u},a.decodeDelimited=function(n){return n instanceof g||(n=new g(n)),this.decode(n,n.uint32())},a.verify=function(n){return typeof n!="object"||n===null?"object expected":n.rejectedDataPoints!=null&&n.hasOwnProperty("rejectedDataPoints")&&!h.isInteger(n.rejectedDataPoints)&&!(n.rejectedDataPoints&&h.isInteger(n.rejectedDataPoints.low)&&h.isInteger(n.rejectedDataPoints.high))?"rejectedDataPoints: integer|Long expected":n.errorMessage!=null&&n.hasOwnProperty("errorMessage")&&!h.isString(n.errorMessage)?"errorMessage: string expected":null},a.fromObject=function(n){if(n instanceof d.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess)return n;var l=new d.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess;return n.rejectedDataPoints!=null&&(h.Long?(l.rejectedDataPoints=h.Long.fromValue(n.rejectedDataPoints)).unsigned=!1:typeof n.rejectedDataPoints=="string"?l.rejectedDataPoints=parseInt(n.rejectedDataPoints,10):typeof n.rejectedDataPoints=="number"?l.rejectedDataPoints=n.rejectedDataPoints:typeof n.rejectedDataPoints=="object"&&(l.rejectedDataPoints=new h.LongBits(n.rejectedDataPoints.low>>>0,n.rejectedDataPoints.high>>>0).toNumber())),n.errorMessage!=null&&(l.errorMessage=String(n.errorMessage)),l},a.toObject=function(n,l){l||(l={});var c={};if(l.defaults){if(h.Long){var u=new h.Long(0,0,!1);c.rejectedDataPoints=l.longs===String?u.toString():l.longs===Number?u.toNumber():u}else c.rejectedDataPoints=l.longs===String?"0":0;c.errorMessage=""}return n.rejectedDataPoints!=null&&n.hasOwnProperty("rejectedDataPoints")&&(typeof n.rejectedDataPoints=="number"?c.rejectedDataPoints=l.longs===String?String(n.rejectedDataPoints):n.rejectedDataPoints:c.rejectedDataPoints=l.longs===String?h.Long.prototype.toString.call(n.rejectedDataPoints):l.longs===Number?new h.LongBits(n.rejectedDataPoints.low>>>0,n.rejectedDataPoints.high>>>0).toNumber():n.rejectedDataPoints),n.errorMessage!=null&&n.hasOwnProperty("errorMessage")&&(c.errorMessage=n.errorMessage),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},a.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess"},a})(),s})(),o})(),t.logs=(function(){var o={};return o.v1=(function(){var s={};return s.LogsService=(function(){function a(i,n,l){X.rpc.Service.call(this,i,n,l)}return(a.prototype=Object.create(X.rpc.Service.prototype)).constructor=a,a.create=function(n,l,c){return new this(n,l,c)},Object.defineProperty(a.prototype.export=function i(n,l){return this.rpcCall(i,d.opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest,d.opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse,n,l)},"name",{value:"Export"}),a})(),s.ExportLogsServiceRequest=(function(){function a(i){if(this.resourceLogs=[],i)for(var n=Object.keys(i),l=0;l<n.length;++l)i[n[l]]!=null&&(this[n[l]]=i[n[l]])}return a.prototype.resourceLogs=h.emptyArray,a.create=function(n){return new a(n)},a.encode=function(n,l){if(l||(l=oe.create()),n.resourceLogs!=null&&n.resourceLogs.length)for(var c=0;c<n.resourceLogs.length;++c)d.opentelemetry.proto.logs.v1.ResourceLogs.encode(n.resourceLogs[c],l.uint32(10).fork()).ldelim();return l},a.encodeDelimited=function(n,l){return this.encode(n,l).ldelim()},a.decode=function(n,l){n instanceof g||(n=g.create(n));for(var c=l===void 0?n.len:n.pos+l,u=new d.opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest;n.pos<c;){var f=n.uint32();switch(f>>>3){case 1:{u.resourceLogs&&u.resourceLogs.length||(u.resourceLogs=[]),u.resourceLogs.push(d.opentelemetry.proto.logs.v1.ResourceLogs.decode(n,n.uint32()));break}default:n.skipType(f&7);break}}return u},a.decodeDelimited=function(n){return n instanceof g||(n=new g(n)),this.decode(n,n.uint32())},a.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.resourceLogs!=null&&n.hasOwnProperty("resourceLogs")){if(!Array.isArray(n.resourceLogs))return"resourceLogs: array expected";for(var l=0;l<n.resourceLogs.length;++l){var c=d.opentelemetry.proto.logs.v1.ResourceLogs.verify(n.resourceLogs[l]);if(c)return"resourceLogs."+c}}return null},a.fromObject=function(n){if(n instanceof d.opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest)return n;var l=new d.opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest;if(n.resourceLogs){if(!Array.isArray(n.resourceLogs))throw TypeError(".opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest.resourceLogs: array expected");l.resourceLogs=[];for(var c=0;c<n.resourceLogs.length;++c){if(typeof n.resourceLogs[c]!="object")throw TypeError(".opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest.resourceLogs: object expected");l.resourceLogs[c]=d.opentelemetry.proto.logs.v1.ResourceLogs.fromObject(n.resourceLogs[c])}}return l},a.toObject=function(n,l){l||(l={});var c={};if((l.arrays||l.defaults)&&(c.resourceLogs=[]),n.resourceLogs&&n.resourceLogs.length){c.resourceLogs=[];for(var u=0;u<n.resourceLogs.length;++u)c.resourceLogs[u]=d.opentelemetry.proto.logs.v1.ResourceLogs.toObject(n.resourceLogs[u],l)}return c},a.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},a.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest"},a})(),s.ExportLogsServiceResponse=(function(){function a(i){if(i)for(var n=Object.keys(i),l=0;l<n.length;++l)i[n[l]]!=null&&(this[n[l]]=i[n[l]])}return a.prototype.partialSuccess=null,a.create=function(n){return new a(n)},a.encode=function(n,l){return l||(l=oe.create()),n.partialSuccess!=null&&Object.hasOwnProperty.call(n,"partialSuccess")&&d.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess.encode(n.partialSuccess,l.uint32(10).fork()).ldelim(),l},a.encodeDelimited=function(n,l){return this.encode(n,l).ldelim()},a.decode=function(n,l){n instanceof g||(n=g.create(n));for(var c=l===void 0?n.len:n.pos+l,u=new d.opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse;n.pos<c;){var f=n.uint32();switch(f>>>3){case 1:{u.partialSuccess=d.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess.decode(n,n.uint32());break}default:n.skipType(f&7);break}}return u},a.decodeDelimited=function(n){return n instanceof g||(n=new g(n)),this.decode(n,n.uint32())},a.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.partialSuccess!=null&&n.hasOwnProperty("partialSuccess")){var l=d.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess.verify(n.partialSuccess);if(l)return"partialSuccess."+l}return null},a.fromObject=function(n){if(n instanceof d.opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse)return n;var l=new d.opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse;if(n.partialSuccess!=null){if(typeof n.partialSuccess!="object")throw TypeError(".opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse.partialSuccess: object expected");l.partialSuccess=d.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess.fromObject(n.partialSuccess)}return l},a.toObject=function(n,l){l||(l={});var c={};return l.defaults&&(c.partialSuccess=null),n.partialSuccess!=null&&n.hasOwnProperty("partialSuccess")&&(c.partialSuccess=d.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess.toObject(n.partialSuccess,l)),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},a.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse"},a})(),s.ExportLogsPartialSuccess=(function(){function a(i){if(i)for(var n=Object.keys(i),l=0;l<n.length;++l)i[n[l]]!=null&&(this[n[l]]=i[n[l]])}return a.prototype.rejectedLogRecords=null,a.prototype.errorMessage=null,a.create=function(n){return new a(n)},a.encode=function(n,l){return l||(l=oe.create()),n.rejectedLogRecords!=null&&Object.hasOwnProperty.call(n,"rejectedLogRecords")&&l.uint32(8).int64(n.rejectedLogRecords),n.errorMessage!=null&&Object.hasOwnProperty.call(n,"errorMessage")&&l.uint32(18).string(n.errorMessage),l},a.encodeDelimited=function(n,l){return this.encode(n,l).ldelim()},a.decode=function(n,l){n instanceof g||(n=g.create(n));for(var c=l===void 0?n.len:n.pos+l,u=new d.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess;n.pos<c;){var f=n.uint32();switch(f>>>3){case 1:{u.rejectedLogRecords=n.int64();break}case 2:{u.errorMessage=n.string();break}default:n.skipType(f&7);break}}return u},a.decodeDelimited=function(n){return n instanceof g||(n=new g(n)),this.decode(n,n.uint32())},a.verify=function(n){return typeof n!="object"||n===null?"object expected":n.rejectedLogRecords!=null&&n.hasOwnProperty("rejectedLogRecords")&&!h.isInteger(n.rejectedLogRecords)&&!(n.rejectedLogRecords&&h.isInteger(n.rejectedLogRecords.low)&&h.isInteger(n.rejectedLogRecords.high))?"rejectedLogRecords: integer|Long expected":n.errorMessage!=null&&n.hasOwnProperty("errorMessage")&&!h.isString(n.errorMessage)?"errorMessage: string expected":null},a.fromObject=function(n){if(n instanceof d.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess)return n;var l=new d.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess;return n.rejectedLogRecords!=null&&(h.Long?(l.rejectedLogRecords=h.Long.fromValue(n.rejectedLogRecords)).unsigned=!1:typeof n.rejectedLogRecords=="string"?l.rejectedLogRecords=parseInt(n.rejectedLogRecords,10):typeof n.rejectedLogRecords=="number"?l.rejectedLogRecords=n.rejectedLogRecords:typeof n.rejectedLogRecords=="object"&&(l.rejectedLogRecords=new h.LongBits(n.rejectedLogRecords.low>>>0,n.rejectedLogRecords.high>>>0).toNumber())),n.errorMessage!=null&&(l.errorMessage=String(n.errorMessage)),l},a.toObject=function(n,l){l||(l={});var c={};if(l.defaults){if(h.Long){var u=new h.Long(0,0,!1);c.rejectedLogRecords=l.longs===String?u.toString():l.longs===Number?u.toNumber():u}else c.rejectedLogRecords=l.longs===String?"0":0;c.errorMessage=""}return n.rejectedLogRecords!=null&&n.hasOwnProperty("rejectedLogRecords")&&(typeof n.rejectedLogRecords=="number"?c.rejectedLogRecords=l.longs===String?String(n.rejectedLogRecords):n.rejectedLogRecords:c.rejectedLogRecords=l.longs===String?h.Long.prototype.toString.call(n.rejectedLogRecords):l.longs===Number?new h.LongBits(n.rejectedLogRecords.low>>>0,n.rejectedLogRecords.high>>>0).toNumber():n.rejectedLogRecords),n.errorMessage!=null&&n.hasOwnProperty("errorMessage")&&(c.errorMessage=n.errorMessage),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},a.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess"},a})(),s})(),o})(),t})(),e.metrics=(function(){var t={};return t.v1=(function(){var o={};return o.MetricsData=(function(){function s(a){if(this.resourceMetrics=[],a)for(var i=Object.keys(a),n=0;n<i.length;++n)a[i[n]]!=null&&(this[i[n]]=a[i[n]])}return s.prototype.resourceMetrics=h.emptyArray,s.create=function(i){return new s(i)},s.encode=function(i,n){if(n||(n=oe.create()),i.resourceMetrics!=null&&i.resourceMetrics.length)for(var l=0;l<i.resourceMetrics.length;++l)d.opentelemetry.proto.metrics.v1.ResourceMetrics.encode(i.resourceMetrics[l],n.uint32(10).fork()).ldelim();return n},s.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},s.decode=function(i,n){i instanceof g||(i=g.create(i));for(var l=n===void 0?i.len:i.pos+n,c=new d.opentelemetry.proto.metrics.v1.MetricsData;i.pos<l;){var u=i.uint32();switch(u>>>3){case 1:{c.resourceMetrics&&c.resourceMetrics.length||(c.resourceMetrics=[]),c.resourceMetrics.push(d.opentelemetry.proto.metrics.v1.ResourceMetrics.decode(i,i.uint32()));break}default:i.skipType(u&7);break}}return c},s.decodeDelimited=function(i){return i instanceof g||(i=new g(i)),this.decode(i,i.uint32())},s.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.resourceMetrics!=null&&i.hasOwnProperty("resourceMetrics")){if(!Array.isArray(i.resourceMetrics))return"resourceMetrics: array expected";for(var n=0;n<i.resourceMetrics.length;++n){var l=d.opentelemetry.proto.metrics.v1.ResourceMetrics.verify(i.resourceMetrics[n]);if(l)return"resourceMetrics."+l}}return null},s.fromObject=function(i){if(i instanceof d.opentelemetry.proto.metrics.v1.MetricsData)return i;var n=new d.opentelemetry.proto.metrics.v1.MetricsData;if(i.resourceMetrics){if(!Array.isArray(i.resourceMetrics))throw TypeError(".opentelemetry.proto.metrics.v1.MetricsData.resourceMetrics: array expected");n.resourceMetrics=[];for(var l=0;l<i.resourceMetrics.length;++l){if(typeof i.resourceMetrics[l]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.MetricsData.resourceMetrics: object expected");n.resourceMetrics[l]=d.opentelemetry.proto.metrics.v1.ResourceMetrics.fromObject(i.resourceMetrics[l])}}return n},s.toObject=function(i,n){n||(n={});var l={};if((n.arrays||n.defaults)&&(l.resourceMetrics=[]),i.resourceMetrics&&i.resourceMetrics.length){l.resourceMetrics=[];for(var c=0;c<i.resourceMetrics.length;++c)l.resourceMetrics[c]=d.opentelemetry.proto.metrics.v1.ResourceMetrics.toObject(i.resourceMetrics[c],n)}return l},s.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},s.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/opentelemetry.proto.metrics.v1.MetricsData"},s})(),o.ResourceMetrics=(function(){function s(a){if(this.scopeMetrics=[],a)for(var i=Object.keys(a),n=0;n<i.length;++n)a[i[n]]!=null&&(this[i[n]]=a[i[n]])}return s.prototype.resource=null,s.prototype.scopeMetrics=h.emptyArray,s.prototype.schemaUrl=null,s.create=function(i){return new s(i)},s.encode=function(i,n){if(n||(n=oe.create()),i.resource!=null&&Object.hasOwnProperty.call(i,"resource")&&d.opentelemetry.proto.resource.v1.Resource.encode(i.resource,n.uint32(10).fork()).ldelim(),i.scopeMetrics!=null&&i.scopeMetrics.length)for(var l=0;l<i.scopeMetrics.length;++l)d.opentelemetry.proto.metrics.v1.ScopeMetrics.encode(i.scopeMetrics[l],n.uint32(18).fork()).ldelim();return i.schemaUrl!=null&&Object.hasOwnProperty.call(i,"schemaUrl")&&n.uint32(26).string(i.schemaUrl),n},s.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},s.decode=function(i,n){i instanceof g||(i=g.create(i));for(var l=n===void 0?i.len:i.pos+n,c=new d.opentelemetry.proto.metrics.v1.ResourceMetrics;i.pos<l;){var u=i.uint32();switch(u>>>3){case 1:{c.resource=d.opentelemetry.proto.resource.v1.Resource.decode(i,i.uint32());break}case 2:{c.scopeMetrics&&c.scopeMetrics.length||(c.scopeMetrics=[]),c.scopeMetrics.push(d.opentelemetry.proto.metrics.v1.ScopeMetrics.decode(i,i.uint32()));break}case 3:{c.schemaUrl=i.string();break}default:i.skipType(u&7);break}}return c},s.decodeDelimited=function(i){return i instanceof g||(i=new g(i)),this.decode(i,i.uint32())},s.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.resource!=null&&i.hasOwnProperty("resource")){var n=d.opentelemetry.proto.resource.v1.Resource.verify(i.resource);if(n)return"resource."+n}if(i.scopeMetrics!=null&&i.hasOwnProperty("scopeMetrics")){if(!Array.isArray(i.scopeMetrics))return"scopeMetrics: array expected";for(var l=0;l<i.scopeMetrics.length;++l){var n=d.opentelemetry.proto.metrics.v1.ScopeMetrics.verify(i.scopeMetrics[l]);if(n)return"scopeMetrics."+n}}return i.schemaUrl!=null&&i.hasOwnProperty("schemaUrl")&&!h.isString(i.schemaUrl)?"schemaUrl: string expected":null},s.fromObject=function(i){if(i instanceof d.opentelemetry.proto.metrics.v1.ResourceMetrics)return i;var n=new d.opentelemetry.proto.metrics.v1.ResourceMetrics;if(i.resource!=null){if(typeof i.resource!="object")throw TypeError(".opentelemetry.proto.metrics.v1.ResourceMetrics.resource: object expected");n.resource=d.opentelemetry.proto.resource.v1.Resource.fromObject(i.resource)}if(i.scopeMetrics){if(!Array.isArray(i.scopeMetrics))throw TypeError(".opentelemetry.proto.metrics.v1.ResourceMetrics.scopeMetrics: array expected");n.scopeMetrics=[];for(var l=0;l<i.scopeMetrics.length;++l){if(typeof i.scopeMetrics[l]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.ResourceMetrics.scopeMetrics: object expected");n.scopeMetrics[l]=d.opentelemetry.proto.metrics.v1.ScopeMetrics.fromObject(i.scopeMetrics[l])}}return i.schemaUrl!=null&&(n.schemaUrl=String(i.schemaUrl)),n},s.toObject=function(i,n){n||(n={});var l={};if((n.arrays||n.defaults)&&(l.scopeMetrics=[]),n.defaults&&(l.resource=null,l.schemaUrl=""),i.resource!=null&&i.hasOwnProperty("resource")&&(l.resource=d.opentelemetry.proto.resource.v1.Resource.toObject(i.resource,n)),i.scopeMetrics&&i.scopeMetrics.length){l.scopeMetrics=[];for(var c=0;c<i.scopeMetrics.length;++c)l.scopeMetrics[c]=d.opentelemetry.proto.metrics.v1.ScopeMetrics.toObject(i.scopeMetrics[c],n)}return i.schemaUrl!=null&&i.hasOwnProperty("schemaUrl")&&(l.schemaUrl=i.schemaUrl),l},s.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},s.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/opentelemetry.proto.metrics.v1.ResourceMetrics"},s})(),o.ScopeMetrics=(function(){function s(a){if(this.metrics=[],a)for(var i=Object.keys(a),n=0;n<i.length;++n)a[i[n]]!=null&&(this[i[n]]=a[i[n]])}return s.prototype.scope=null,s.prototype.metrics=h.emptyArray,s.prototype.schemaUrl=null,s.create=function(i){return new s(i)},s.encode=function(i,n){if(n||(n=oe.create()),i.scope!=null&&Object.hasOwnProperty.call(i,"scope")&&d.opentelemetry.proto.common.v1.InstrumentationScope.encode(i.scope,n.uint32(10).fork()).ldelim(),i.metrics!=null&&i.metrics.length)for(var l=0;l<i.metrics.length;++l)d.opentelemetry.proto.metrics.v1.Metric.encode(i.metrics[l],n.uint32(18).fork()).ldelim();return i.schemaUrl!=null&&Object.hasOwnProperty.call(i,"schemaUrl")&&n.uint32(26).string(i.schemaUrl),n},s.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},s.decode=function(i,n){i instanceof g||(i=g.create(i));for(var l=n===void 0?i.len:i.pos+n,c=new d.opentelemetry.proto.metrics.v1.ScopeMetrics;i.pos<l;){var u=i.uint32();switch(u>>>3){case 1:{c.scope=d.opentelemetry.proto.common.v1.InstrumentationScope.decode(i,i.uint32());break}case 2:{c.metrics&&c.metrics.length||(c.metrics=[]),c.metrics.push(d.opentelemetry.proto.metrics.v1.Metric.decode(i,i.uint32()));break}case 3:{c.schemaUrl=i.string();break}default:i.skipType(u&7);break}}return c},s.decodeDelimited=function(i){return i instanceof g||(i=new g(i)),this.decode(i,i.uint32())},s.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.scope!=null&&i.hasOwnProperty("scope")){var n=d.opentelemetry.proto.common.v1.InstrumentationScope.verify(i.scope);if(n)return"scope."+n}if(i.metrics!=null&&i.hasOwnProperty("metrics")){if(!Array.isArray(i.metrics))return"metrics: array expected";for(var l=0;l<i.metrics.length;++l){var n=d.opentelemetry.proto.metrics.v1.Metric.verify(i.metrics[l]);if(n)return"metrics."+n}}return i.schemaUrl!=null&&i.hasOwnProperty("schemaUrl")&&!h.isString(i.schemaUrl)?"schemaUrl: string expected":null},s.fromObject=function(i){if(i instanceof d.opentelemetry.proto.metrics.v1.ScopeMetrics)return i;var n=new d.opentelemetry.proto.metrics.v1.ScopeMetrics;if(i.scope!=null){if(typeof i.scope!="object")throw TypeError(".opentelemetry.proto.metrics.v1.ScopeMetrics.scope: object expected");n.scope=d.opentelemetry.proto.common.v1.InstrumentationScope.fromObject(i.scope)}if(i.metrics){if(!Array.isArray(i.metrics))throw TypeError(".opentelemetry.proto.metrics.v1.ScopeMetrics.metrics: array expected");n.metrics=[];for(var l=0;l<i.metrics.length;++l){if(typeof i.metrics[l]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.ScopeMetrics.metrics: object expected");n.metrics[l]=d.opentelemetry.proto.metrics.v1.Metric.fromObject(i.metrics[l])}}return i.schemaUrl!=null&&(n.schemaUrl=String(i.schemaUrl)),n},s.toObject=function(i,n){n||(n={});var l={};if((n.arrays||n.defaults)&&(l.metrics=[]),n.defaults&&(l.scope=null,l.schemaUrl=""),i.scope!=null&&i.hasOwnProperty("scope")&&(l.scope=d.opentelemetry.proto.common.v1.InstrumentationScope.toObject(i.scope,n)),i.metrics&&i.metrics.length){l.metrics=[];for(var c=0;c<i.metrics.length;++c)l.metrics[c]=d.opentelemetry.proto.metrics.v1.Metric.toObject(i.metrics[c],n)}return i.schemaUrl!=null&&i.hasOwnProperty("schemaUrl")&&(l.schemaUrl=i.schemaUrl),l},s.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},s.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/opentelemetry.proto.metrics.v1.ScopeMetrics"},s})(),o.Metric=(function(){function s(i){if(i)for(var n=Object.keys(i),l=0;l<n.length;++l)i[n[l]]!=null&&(this[n[l]]=i[n[l]])}s.prototype.name=null,s.prototype.description=null,s.prototype.unit=null,s.prototype.gauge=null,s.prototype.sum=null,s.prototype.histogram=null,s.prototype.exponentialHistogram=null,s.prototype.summary=null;var a;return Object.defineProperty(s.prototype,"data",{get:h.oneOfGetter(a=["gauge","sum","histogram","exponentialHistogram","summary"]),set:h.oneOfSetter(a)}),s.create=function(n){return new s(n)},s.encode=function(n,l){return l||(l=oe.create()),n.name!=null&&Object.hasOwnProperty.call(n,"name")&&l.uint32(10).string(n.name),n.description!=null&&Object.hasOwnProperty.call(n,"description")&&l.uint32(18).string(n.description),n.unit!=null&&Object.hasOwnProperty.call(n,"unit")&&l.uint32(26).string(n.unit),n.gauge!=null&&Object.hasOwnProperty.call(n,"gauge")&&d.opentelemetry.proto.metrics.v1.Gauge.encode(n.gauge,l.uint32(42).fork()).ldelim(),n.sum!=null&&Object.hasOwnProperty.call(n,"sum")&&d.opentelemetry.proto.metrics.v1.Sum.encode(n.sum,l.uint32(58).fork()).ldelim(),n.histogram!=null&&Object.hasOwnProperty.call(n,"histogram")&&d.opentelemetry.proto.metrics.v1.Histogram.encode(n.histogram,l.uint32(74).fork()).ldelim(),n.exponentialHistogram!=null&&Object.hasOwnProperty.call(n,"exponentialHistogram")&&d.opentelemetry.proto.metrics.v1.ExponentialHistogram.encode(n.exponentialHistogram,l.uint32(82).fork()).ldelim(),n.summary!=null&&Object.hasOwnProperty.call(n,"summary")&&d.opentelemetry.proto.metrics.v1.Summary.encode(n.summary,l.uint32(90).fork()).ldelim(),l},s.encodeDelimited=function(n,l){return this.encode(n,l).ldelim()},s.decode=function(n,l){n instanceof g||(n=g.create(n));for(var c=l===void 0?n.len:n.pos+l,u=new d.opentelemetry.proto.metrics.v1.Metric;n.pos<c;){var f=n.uint32();switch(f>>>3){case 1:{u.name=n.string();break}case 2:{u.description=n.string();break}case 3:{u.unit=n.string();break}case 5:{u.gauge=d.opentelemetry.proto.metrics.v1.Gauge.decode(n,n.uint32());break}case 7:{u.sum=d.opentelemetry.proto.metrics.v1.Sum.decode(n,n.uint32());break}case 9:{u.histogram=d.opentelemetry.proto.metrics.v1.Histogram.decode(n,n.uint32());break}case 10:{u.exponentialHistogram=d.opentelemetry.proto.metrics.v1.ExponentialHistogram.decode(n,n.uint32());break}case 11:{u.summary=d.opentelemetry.proto.metrics.v1.Summary.decode(n,n.uint32());break}default:n.skipType(f&7);break}}return u},s.decodeDelimited=function(n){return n instanceof g||(n=new g(n)),this.decode(n,n.uint32())},s.verify=function(n){if(typeof n!="object"||n===null)return"object expected";var l={};if(n.name!=null&&n.hasOwnProperty("name")&&!h.isString(n.name))return"name: string expected";if(n.description!=null&&n.hasOwnProperty("description")&&!h.isString(n.description))return"description: string expected";if(n.unit!=null&&n.hasOwnProperty("unit")&&!h.isString(n.unit))return"unit: string expected";if(n.gauge!=null&&n.hasOwnProperty("gauge")){l.data=1;{var c=d.opentelemetry.proto.metrics.v1.Gauge.verify(n.gauge);if(c)return"gauge."+c}}if(n.sum!=null&&n.hasOwnProperty("sum")){if(l.data===1)return"data: multiple values";l.data=1;{var c=d.opentelemetry.proto.metrics.v1.Sum.verify(n.sum);if(c)return"sum."+c}}if(n.histogram!=null&&n.hasOwnProperty("histogram")){if(l.data===1)return"data: multiple values";l.data=1;{var c=d.opentelemetry.proto.metrics.v1.Histogram.verify(n.histogram);if(c)return"histogram."+c}}if(n.exponentialHistogram!=null&&n.hasOwnProperty("exponentialHistogram")){if(l.data===1)return"data: multiple values";l.data=1;{var c=d.opentelemetry.proto.metrics.v1.ExponentialHistogram.verify(n.exponentialHistogram);if(c)return"exponentialHistogram."+c}}if(n.summary!=null&&n.hasOwnProperty("summary")){if(l.data===1)return"data: multiple values";l.data=1;{var c=d.opentelemetry.proto.metrics.v1.Summary.verify(n.summary);if(c)return"summary."+c}}return null},s.fromObject=function(n){if(n instanceof d.opentelemetry.proto.metrics.v1.Metric)return n;var l=new d.opentelemetry.proto.metrics.v1.Metric;if(n.name!=null&&(l.name=String(n.name)),n.description!=null&&(l.description=String(n.description)),n.unit!=null&&(l.unit=String(n.unit)),n.gauge!=null){if(typeof n.gauge!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Metric.gauge: object expected");l.gauge=d.opentelemetry.proto.metrics.v1.Gauge.fromObject(n.gauge)}if(n.sum!=null){if(typeof n.sum!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Metric.sum: object expected");l.sum=d.opentelemetry.proto.metrics.v1.Sum.fromObject(n.sum)}if(n.histogram!=null){if(typeof n.histogram!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Metric.histogram: object expected");l.histogram=d.opentelemetry.proto.metrics.v1.Histogram.fromObject(n.histogram)}if(n.exponentialHistogram!=null){if(typeof n.exponentialHistogram!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Metric.exponentialHistogram: object expected");l.exponentialHistogram=d.opentelemetry.proto.metrics.v1.ExponentialHistogram.fromObject(n.exponentialHistogram)}if(n.summary!=null){if(typeof n.summary!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Metric.summary: object expected");l.summary=d.opentelemetry.proto.metrics.v1.Summary.fromObject(n.summary)}return l},s.toObject=function(n,l){l||(l={});var c={};return l.defaults&&(c.name="",c.description="",c.unit=""),n.name!=null&&n.hasOwnProperty("name")&&(c.name=n.name),n.description!=null&&n.hasOwnProperty("description")&&(c.description=n.description),n.unit!=null&&n.hasOwnProperty("unit")&&(c.unit=n.unit),n.gauge!=null&&n.hasOwnProperty("gauge")&&(c.gauge=d.opentelemetry.proto.metrics.v1.Gauge.toObject(n.gauge,l),l.oneofs&&(c.data="gauge")),n.sum!=null&&n.hasOwnProperty("sum")&&(c.sum=d.opentelemetry.proto.metrics.v1.Sum.toObject(n.sum,l),l.oneofs&&(c.data="sum")),n.histogram!=null&&n.hasOwnProperty("histogram")&&(c.histogram=d.opentelemetry.proto.metrics.v1.Histogram.toObject(n.histogram,l),l.oneofs&&(c.data="histogram")),n.exponentialHistogram!=null&&n.hasOwnProperty("exponentialHistogram")&&(c.exponentialHistogram=d.opentelemetry.proto.metrics.v1.ExponentialHistogram.toObject(n.exponentialHistogram,l),l.oneofs&&(c.data="exponentialHistogram")),n.summary!=null&&n.hasOwnProperty("summary")&&(c.summary=d.opentelemetry.proto.metrics.v1.Summary.toObject(n.summary,l),l.oneofs&&(c.data="summary")),c},s.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},s.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.metrics.v1.Metric"},s})(),o.Gauge=(function(){function s(a){if(this.dataPoints=[],a)for(var i=Object.keys(a),n=0;n<i.length;++n)a[i[n]]!=null&&(this[i[n]]=a[i[n]])}return s.prototype.dataPoints=h.emptyArray,s.create=function(i){return new s(i)},s.encode=function(i,n){if(n||(n=oe.create()),i.dataPoints!=null&&i.dataPoints.length)for(var l=0;l<i.dataPoints.length;++l)d.opentelemetry.proto.metrics.v1.NumberDataPoint.encode(i.dataPoints[l],n.uint32(10).fork()).ldelim();return n},s.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},s.decode=function(i,n){i instanceof g||(i=g.create(i));for(var l=n===void 0?i.len:i.pos+n,c=new d.opentelemetry.proto.metrics.v1.Gauge;i.pos<l;){var u=i.uint32();switch(u>>>3){case 1:{c.dataPoints&&c.dataPoints.length||(c.dataPoints=[]),c.dataPoints.push(d.opentelemetry.proto.metrics.v1.NumberDataPoint.decode(i,i.uint32()));break}default:i.skipType(u&7);break}}return c},s.decodeDelimited=function(i){return i instanceof g||(i=new g(i)),this.decode(i,i.uint32())},s.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.dataPoints!=null&&i.hasOwnProperty("dataPoints")){if(!Array.isArray(i.dataPoints))return"dataPoints: array expected";for(var n=0;n<i.dataPoints.length;++n){var l=d.opentelemetry.proto.metrics.v1.NumberDataPoint.verify(i.dataPoints[n]);if(l)return"dataPoints."+l}}return null},s.fromObject=function(i){if(i instanceof d.opentelemetry.proto.metrics.v1.Gauge)return i;var n=new d.opentelemetry.proto.metrics.v1.Gauge;if(i.dataPoints){if(!Array.isArray(i.dataPoints))throw TypeError(".opentelemetry.proto.metrics.v1.Gauge.dataPoints: array expected");n.dataPoints=[];for(var l=0;l<i.dataPoints.length;++l){if(typeof i.dataPoints[l]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Gauge.dataPoints: object expected");n.dataPoints[l]=d.opentelemetry.proto.metrics.v1.NumberDataPoint.fromObject(i.dataPoints[l])}}return n},s.toObject=function(i,n){n||(n={});var l={};if((n.arrays||n.defaults)&&(l.dataPoints=[]),i.dataPoints&&i.dataPoints.length){l.dataPoints=[];for(var c=0;c<i.dataPoints.length;++c)l.dataPoints[c]=d.opentelemetry.proto.metrics.v1.NumberDataPoint.toObject(i.dataPoints[c],n)}return l},s.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},s.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/opentelemetry.proto.metrics.v1.Gauge"},s})(),o.Sum=(function(){function s(a){if(this.dataPoints=[],a)for(var i=Object.keys(a),n=0;n<i.length;++n)a[i[n]]!=null&&(this[i[n]]=a[i[n]])}return s.prototype.dataPoints=h.emptyArray,s.prototype.aggregationTemporality=null,s.prototype.isMonotonic=null,s.create=function(i){return new s(i)},s.encode=function(i,n){if(n||(n=oe.create()),i.dataPoints!=null&&i.dataPoints.length)for(var l=0;l<i.dataPoints.length;++l)d.opentelemetry.proto.metrics.v1.NumberDataPoint.encode(i.dataPoints[l],n.uint32(10).fork()).ldelim();return i.aggregationTemporality!=null&&Object.hasOwnProperty.call(i,"aggregationTemporality")&&n.uint32(16).int32(i.aggregationTemporality),i.isMonotonic!=null&&Object.hasOwnProperty.call(i,"isMonotonic")&&n.uint32(24).bool(i.isMonotonic),n},s.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},s.decode=function(i,n){i instanceof g||(i=g.create(i));for(var l=n===void 0?i.len:i.pos+n,c=new d.opentelemetry.proto.metrics.v1.Sum;i.pos<l;){var u=i.uint32();switch(u>>>3){case 1:{c.dataPoints&&c.dataPoints.length||(c.dataPoints=[]),c.dataPoints.push(d.opentelemetry.proto.metrics.v1.NumberDataPoint.decode(i,i.uint32()));break}case 2:{c.aggregationTemporality=i.int32();break}case 3:{c.isMonotonic=i.bool();break}default:i.skipType(u&7);break}}return c},s.decodeDelimited=function(i){return i instanceof g||(i=new g(i)),this.decode(i,i.uint32())},s.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.dataPoints!=null&&i.hasOwnProperty("dataPoints")){if(!Array.isArray(i.dataPoints))return"dataPoints: array expected";for(var n=0;n<i.dataPoints.length;++n){var l=d.opentelemetry.proto.metrics.v1.NumberDataPoint.verify(i.dataPoints[n]);if(l)return"dataPoints."+l}}if(i.aggregationTemporality!=null&&i.hasOwnProperty("aggregationTemporality"))switch(i.aggregationTemporality){default:return"aggregationTemporality: enum value expected";case 0:case 1:case 2:break}return i.isMonotonic!=null&&i.hasOwnProperty("isMonotonic")&&typeof i.isMonotonic!="boolean"?"isMonotonic: boolean expected":null},s.fromObject=function(i){if(i instanceof d.opentelemetry.proto.metrics.v1.Sum)return i;var n=new d.opentelemetry.proto.metrics.v1.Sum;if(i.dataPoints){if(!Array.isArray(i.dataPoints))throw TypeError(".opentelemetry.proto.metrics.v1.Sum.dataPoints: array expected");n.dataPoints=[];for(var l=0;l<i.dataPoints.length;++l){if(typeof i.dataPoints[l]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Sum.dataPoints: object expected");n.dataPoints[l]=d.opentelemetry.proto.metrics.v1.NumberDataPoint.fromObject(i.dataPoints[l])}}switch(i.aggregationTemporality){default:if(typeof i.aggregationTemporality=="number"){n.aggregationTemporality=i.aggregationTemporality;break}break;case"AGGREGATION_TEMPORALITY_UNSPECIFIED":case 0:n.aggregationTemporality=0;break;case"AGGREGATION_TEMPORALITY_DELTA":case 1:n.aggregationTemporality=1;break;case"AGGREGATION_TEMPORALITY_CUMULATIVE":case 2:n.aggregationTemporality=2;break}return i.isMonotonic!=null&&(n.isMonotonic=!!i.isMonotonic),n},s.toObject=function(i,n){n||(n={});var l={};if((n.arrays||n.defaults)&&(l.dataPoints=[]),n.defaults&&(l.aggregationTemporality=n.enums===String?"AGGREGATION_TEMPORALITY_UNSPECIFIED":0,l.isMonotonic=!1),i.dataPoints&&i.dataPoints.length){l.dataPoints=[];for(var c=0;c<i.dataPoints.length;++c)l.dataPoints[c]=d.opentelemetry.proto.metrics.v1.NumberDataPoint.toObject(i.dataPoints[c],n)}return i.aggregationTemporality!=null&&i.hasOwnProperty("aggregationTemporality")&&(l.aggregationTemporality=n.enums===String?d.opentelemetry.proto.metrics.v1.AggregationTemporality[i.aggregationTemporality]===void 0?i.aggregationTemporality:d.opentelemetry.proto.metrics.v1.AggregationTemporality[i.aggregationTemporality]:i.aggregationTemporality),i.isMonotonic!=null&&i.hasOwnProperty("isMonotonic")&&(l.isMonotonic=i.isMonotonic),l},s.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},s.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/opentelemetry.proto.metrics.v1.Sum"},s})(),o.Histogram=(function(){function s(a){if(this.dataPoints=[],a)for(var i=Object.keys(a),n=0;n<i.length;++n)a[i[n]]!=null&&(this[i[n]]=a[i[n]])}return s.prototype.dataPoints=h.emptyArray,s.prototype.aggregationTemporality=null,s.create=function(i){return new s(i)},s.encode=function(i,n){if(n||(n=oe.create()),i.dataPoints!=null&&i.dataPoints.length)for(var l=0;l<i.dataPoints.length;++l)d.opentelemetry.proto.metrics.v1.HistogramDataPoint.encode(i.dataPoints[l],n.uint32(10).fork()).ldelim();return i.aggregationTemporality!=null&&Object.hasOwnProperty.call(i,"aggregationTemporality")&&n.uint32(16).int32(i.aggregationTemporality),n},s.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},s.decode=function(i,n){i instanceof g||(i=g.create(i));for(var l=n===void 0?i.len:i.pos+n,c=new d.opentelemetry.proto.metrics.v1.Histogram;i.pos<l;){var u=i.uint32();switch(u>>>3){case 1:{c.dataPoints&&c.dataPoints.length||(c.dataPoints=[]),c.dataPoints.push(d.opentelemetry.proto.metrics.v1.HistogramDataPoint.decode(i,i.uint32()));break}case 2:{c.aggregationTemporality=i.int32();break}default:i.skipType(u&7);break}}return c},s.decodeDelimited=function(i){return i instanceof g||(i=new g(i)),this.decode(i,i.uint32())},s.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.dataPoints!=null&&i.hasOwnProperty("dataPoints")){if(!Array.isArray(i.dataPoints))return"dataPoints: array expected";for(var n=0;n<i.dataPoints.length;++n){var l=d.opentelemetry.proto.metrics.v1.HistogramDataPoint.verify(i.dataPoints[n]);if(l)return"dataPoints."+l}}if(i.aggregationTemporality!=null&&i.hasOwnProperty("aggregationTemporality"))switch(i.aggregationTemporality){default:return"aggregationTemporality: enum value expected";case 0:case 1:case 2:break}return null},s.fromObject=function(i){if(i instanceof d.opentelemetry.proto.metrics.v1.Histogram)return i;var n=new d.opentelemetry.proto.metrics.v1.Histogram;if(i.dataPoints){if(!Array.isArray(i.dataPoints))throw TypeError(".opentelemetry.proto.metrics.v1.Histogram.dataPoints: array expected");n.dataPoints=[];for(var l=0;l<i.dataPoints.length;++l){if(typeof i.dataPoints[l]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Histogram.dataPoints: object expected");n.dataPoints[l]=d.opentelemetry.proto.metrics.v1.HistogramDataPoint.fromObject(i.dataPoints[l])}}switch(i.aggregationTemporality){default:if(typeof i.aggregationTemporality=="number"){n.aggregationTemporality=i.aggregationTemporality;break}break;case"AGGREGATION_TEMPORALITY_UNSPECIFIED":case 0:n.aggregationTemporality=0;break;case"AGGREGATION_TEMPORALITY_DELTA":case 1:n.aggregationTemporality=1;break;case"AGGREGATION_TEMPORALITY_CUMULATIVE":case 2:n.aggregationTemporality=2;break}return n},s.toObject=function(i,n){n||(n={});var l={};if((n.arrays||n.defaults)&&(l.dataPoints=[]),n.defaults&&(l.aggregationTemporality=n.enums===String?"AGGREGATION_TEMPORALITY_UNSPECIFIED":0),i.dataPoints&&i.dataPoints.length){l.dataPoints=[];for(var c=0;c<i.dataPoints.length;++c)l.dataPoints[c]=d.opentelemetry.proto.metrics.v1.HistogramDataPoint.toObject(i.dataPoints[c],n)}return i.aggregationTemporality!=null&&i.hasOwnProperty("aggregationTemporality")&&(l.aggregationTemporality=n.enums===String?d.opentelemetry.proto.metrics.v1.AggregationTemporality[i.aggregationTemporality]===void 0?i.aggregationTemporality:d.opentelemetry.proto.metrics.v1.AggregationTemporality[i.aggregationTemporality]:i.aggregationTemporality),l},s.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},s.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/opentelemetry.proto.metrics.v1.Histogram"},s})(),o.ExponentialHistogram=(function(){function s(a){if(this.dataPoints=[],a)for(var i=Object.keys(a),n=0;n<i.length;++n)a[i[n]]!=null&&(this[i[n]]=a[i[n]])}return s.prototype.dataPoints=h.emptyArray,s.prototype.aggregationTemporality=null,s.create=function(i){return new s(i)},s.encode=function(i,n){if(n||(n=oe.create()),i.dataPoints!=null&&i.dataPoints.length)for(var l=0;l<i.dataPoints.length;++l)d.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.encode(i.dataPoints[l],n.uint32(10).fork()).ldelim();return i.aggregationTemporality!=null&&Object.hasOwnProperty.call(i,"aggregationTemporality")&&n.uint32(16).int32(i.aggregationTemporality),n},s.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},s.decode=function(i,n){i instanceof g||(i=g.create(i));for(var l=n===void 0?i.len:i.pos+n,c=new d.opentelemetry.proto.metrics.v1.ExponentialHistogram;i.pos<l;){var u=i.uint32();switch(u>>>3){case 1:{c.dataPoints&&c.dataPoints.length||(c.dataPoints=[]),c.dataPoints.push(d.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.decode(i,i.uint32()));break}case 2:{c.aggregationTemporality=i.int32();break}default:i.skipType(u&7);break}}return c},s.decodeDelimited=function(i){return i instanceof g||(i=new g(i)),this.decode(i,i.uint32())},s.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.dataPoints!=null&&i.hasOwnProperty("dataPoints")){if(!Array.isArray(i.dataPoints))return"dataPoints: array expected";for(var n=0;n<i.dataPoints.length;++n){var l=d.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.verify(i.dataPoints[n]);if(l)return"dataPoints."+l}}if(i.aggregationTemporality!=null&&i.hasOwnProperty("aggregationTemporality"))switch(i.aggregationTemporality){default:return"aggregationTemporality: enum value expected";case 0:case 1:case 2:break}return null},s.fromObject=function(i){if(i instanceof d.opentelemetry.proto.metrics.v1.ExponentialHistogram)return i;var n=new d.opentelemetry.proto.metrics.v1.ExponentialHistogram;if(i.dataPoints){if(!Array.isArray(i.dataPoints))throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogram.dataPoints: array expected");n.dataPoints=[];for(var l=0;l<i.dataPoints.length;++l){if(typeof i.dataPoints[l]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogram.dataPoints: object expected");n.dataPoints[l]=d.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.fromObject(i.dataPoints[l])}}switch(i.aggregationTemporality){default:if(typeof i.aggregationTemporality=="number"){n.aggregationTemporality=i.aggregationTemporality;break}break;case"AGGREGATION_TEMPORALITY_UNSPECIFIED":case 0:n.aggregationTemporality=0;break;case"AGGREGATION_TEMPORALITY_DELTA":case 1:n.aggregationTemporality=1;break;case"AGGREGATION_TEMPORALITY_CUMULATIVE":case 2:n.aggregationTemporality=2;break}return n},s.toObject=function(i,n){n||(n={});var l={};if((n.arrays||n.defaults)&&(l.dataPoints=[]),n.defaults&&(l.aggregationTemporality=n.enums===String?"AGGREGATION_TEMPORALITY_UNSPECIFIED":0),i.dataPoints&&i.dataPoints.length){l.dataPoints=[];for(var c=0;c<i.dataPoints.length;++c)l.dataPoints[c]=d.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.toObject(i.dataPoints[c],n)}return i.aggregationTemporality!=null&&i.hasOwnProperty("aggregationTemporality")&&(l.aggregationTemporality=n.enums===String?d.opentelemetry.proto.metrics.v1.AggregationTemporality[i.aggregationTemporality]===void 0?i.aggregationTemporality:d.opentelemetry.proto.metrics.v1.AggregationTemporality[i.aggregationTemporality]:i.aggregationTemporality),l},s.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},s.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/opentelemetry.proto.metrics.v1.ExponentialHistogram"},s})(),o.Summary=(function(){function s(a){if(this.dataPoints=[],a)for(var i=Object.keys(a),n=0;n<i.length;++n)a[i[n]]!=null&&(this[i[n]]=a[i[n]])}return s.prototype.dataPoints=h.emptyArray,s.create=function(i){return new s(i)},s.encode=function(i,n){if(n||(n=oe.create()),i.dataPoints!=null&&i.dataPoints.length)for(var l=0;l<i.dataPoints.length;++l)d.opentelemetry.proto.metrics.v1.SummaryDataPoint.encode(i.dataPoints[l],n.uint32(10).fork()).ldelim();return n},s.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},s.decode=function(i,n){i instanceof g||(i=g.create(i));for(var l=n===void 0?i.len:i.pos+n,c=new d.opentelemetry.proto.metrics.v1.Summary;i.pos<l;){var u=i.uint32();switch(u>>>3){case 1:{c.dataPoints&&c.dataPoints.length||(c.dataPoints=[]),c.dataPoints.push(d.opentelemetry.proto.metrics.v1.SummaryDataPoint.decode(i,i.uint32()));break}default:i.skipType(u&7);break}}return c},s.decodeDelimited=function(i){return i instanceof g||(i=new g(i)),this.decode(i,i.uint32())},s.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.dataPoints!=null&&i.hasOwnProperty("dataPoints")){if(!Array.isArray(i.dataPoints))return"dataPoints: array expected";for(var n=0;n<i.dataPoints.length;++n){var l=d.opentelemetry.proto.metrics.v1.SummaryDataPoint.verify(i.dataPoints[n]);if(l)return"dataPoints."+l}}return null},s.fromObject=function(i){if(i instanceof d.opentelemetry.proto.metrics.v1.Summary)return i;var n=new d.opentelemetry.proto.metrics.v1.Summary;if(i.dataPoints){if(!Array.isArray(i.dataPoints))throw TypeError(".opentelemetry.proto.metrics.v1.Summary.dataPoints: array expected");n.dataPoints=[];for(var l=0;l<i.dataPoints.length;++l){if(typeof i.dataPoints[l]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Summary.dataPoints: object expected");n.dataPoints[l]=d.opentelemetry.proto.metrics.v1.SummaryDataPoint.fromObject(i.dataPoints[l])}}return n},s.toObject=function(i,n){n||(n={});var l={};if((n.arrays||n.defaults)&&(l.dataPoints=[]),i.dataPoints&&i.dataPoints.length){l.dataPoints=[];for(var c=0;c<i.dataPoints.length;++c)l.dataPoints[c]=d.opentelemetry.proto.metrics.v1.SummaryDataPoint.toObject(i.dataPoints[c],n)}return l},s.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},s.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/opentelemetry.proto.metrics.v1.Summary"},s})(),o.AggregationTemporality=(function(){var s={},a=Object.create(s);return a[s[0]="AGGREGATION_TEMPORALITY_UNSPECIFIED"]=0,a[s[1]="AGGREGATION_TEMPORALITY_DELTA"]=1,a[s[2]="AGGREGATION_TEMPORALITY_CUMULATIVE"]=2,a})(),o.DataPointFlags=(function(){var s={},a=Object.create(s);return a[s[0]="DATA_POINT_FLAGS_DO_NOT_USE"]=0,a[s[1]="DATA_POINT_FLAGS_NO_RECORDED_VALUE_MASK"]=1,a})(),o.NumberDataPoint=(function(){function s(i){if(this.attributes=[],this.exemplars=[],i)for(var n=Object.keys(i),l=0;l<n.length;++l)i[n[l]]!=null&&(this[n[l]]=i[n[l]])}s.prototype.attributes=h.emptyArray,s.prototype.startTimeUnixNano=null,s.prototype.timeUnixNano=null,s.prototype.asDouble=null,s.prototype.asInt=null,s.prototype.exemplars=h.emptyArray,s.prototype.flags=null;var a;return Object.defineProperty(s.prototype,"value",{get:h.oneOfGetter(a=["asDouble","asInt"]),set:h.oneOfSetter(a)}),s.create=function(n){return new s(n)},s.encode=function(n,l){if(l||(l=oe.create()),n.startTimeUnixNano!=null&&Object.hasOwnProperty.call(n,"startTimeUnixNano")&&l.uint32(17).fixed64(n.startTimeUnixNano),n.timeUnixNano!=null&&Object.hasOwnProperty.call(n,"timeUnixNano")&&l.uint32(25).fixed64(n.timeUnixNano),n.asDouble!=null&&Object.hasOwnProperty.call(n,"asDouble")&&l.uint32(33).double(n.asDouble),n.exemplars!=null&&n.exemplars.length)for(var c=0;c<n.exemplars.length;++c)d.opentelemetry.proto.metrics.v1.Exemplar.encode(n.exemplars[c],l.uint32(42).fork()).ldelim();if(n.asInt!=null&&Object.hasOwnProperty.call(n,"asInt")&&l.uint32(49).sfixed64(n.asInt),n.attributes!=null&&n.attributes.length)for(var c=0;c<n.attributes.length;++c)d.opentelemetry.proto.common.v1.KeyValue.encode(n.attributes[c],l.uint32(58).fork()).ldelim();return n.flags!=null&&Object.hasOwnProperty.call(n,"flags")&&l.uint32(64).uint32(n.flags),l},s.encodeDelimited=function(n,l){return this.encode(n,l).ldelim()},s.decode=function(n,l){n instanceof g||(n=g.create(n));for(var c=l===void 0?n.len:n.pos+l,u=new d.opentelemetry.proto.metrics.v1.NumberDataPoint;n.pos<c;){var f=n.uint32();switch(f>>>3){case 7:{u.attributes&&u.attributes.length||(u.attributes=[]),u.attributes.push(d.opentelemetry.proto.common.v1.KeyValue.decode(n,n.uint32()));break}case 2:{u.startTimeUnixNano=n.fixed64();break}case 3:{u.timeUnixNano=n.fixed64();break}case 4:{u.asDouble=n.double();break}case 6:{u.asInt=n.sfixed64();break}case 5:{u.exemplars&&u.exemplars.length||(u.exemplars=[]),u.exemplars.push(d.opentelemetry.proto.metrics.v1.Exemplar.decode(n,n.uint32()));break}case 8:{u.flags=n.uint32();break}default:n.skipType(f&7);break}}return u},s.decodeDelimited=function(n){return n instanceof g||(n=new g(n)),this.decode(n,n.uint32())},s.verify=function(n){if(typeof n!="object"||n===null)return"object expected";var l={};if(n.attributes!=null&&n.hasOwnProperty("attributes")){if(!Array.isArray(n.attributes))return"attributes: array expected";for(var c=0;c<n.attributes.length;++c){var u=d.opentelemetry.proto.common.v1.KeyValue.verify(n.attributes[c]);if(u)return"attributes."+u}}if(n.startTimeUnixNano!=null&&n.hasOwnProperty("startTimeUnixNano")&&!h.isInteger(n.startTimeUnixNano)&&!(n.startTimeUnixNano&&h.isInteger(n.startTimeUnixNano.low)&&h.isInteger(n.startTimeUnixNano.high)))return"startTimeUnixNano: integer|Long expected";if(n.timeUnixNano!=null&&n.hasOwnProperty("timeUnixNano")&&!h.isInteger(n.timeUnixNano)&&!(n.timeUnixNano&&h.isInteger(n.timeUnixNano.low)&&h.isInteger(n.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(n.asDouble!=null&&n.hasOwnProperty("asDouble")&&(l.value=1,typeof n.asDouble!="number"))return"asDouble: number expected";if(n.asInt!=null&&n.hasOwnProperty("asInt")){if(l.value===1)return"value: multiple values";if(l.value=1,!h.isInteger(n.asInt)&&!(n.asInt&&h.isInteger(n.asInt.low)&&h.isInteger(n.asInt.high)))return"asInt: integer|Long expected"}if(n.exemplars!=null&&n.hasOwnProperty("exemplars")){if(!Array.isArray(n.exemplars))return"exemplars: array expected";for(var c=0;c<n.exemplars.length;++c){var u=d.opentelemetry.proto.metrics.v1.Exemplar.verify(n.exemplars[c]);if(u)return"exemplars."+u}}return n.flags!=null&&n.hasOwnProperty("flags")&&!h.isInteger(n.flags)?"flags: integer expected":null},s.fromObject=function(n){if(n instanceof d.opentelemetry.proto.metrics.v1.NumberDataPoint)return n;var l=new d.opentelemetry.proto.metrics.v1.NumberDataPoint;if(n.attributes){if(!Array.isArray(n.attributes))throw TypeError(".opentelemetry.proto.metrics.v1.NumberDataPoint.attributes: array expected");l.attributes=[];for(var c=0;c<n.attributes.length;++c){if(typeof n.attributes[c]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.NumberDataPoint.attributes: object expected");l.attributes[c]=d.opentelemetry.proto.common.v1.KeyValue.fromObject(n.attributes[c])}}if(n.startTimeUnixNano!=null&&(h.Long?(l.startTimeUnixNano=h.Long.fromValue(n.startTimeUnixNano)).unsigned=!1:typeof n.startTimeUnixNano=="string"?l.startTimeUnixNano=parseInt(n.startTimeUnixNano,10):typeof n.startTimeUnixNano=="number"?l.startTimeUnixNano=n.startTimeUnixNano:typeof n.startTimeUnixNano=="object"&&(l.startTimeUnixNano=new h.LongBits(n.startTimeUnixNano.low>>>0,n.startTimeUnixNano.high>>>0).toNumber())),n.timeUnixNano!=null&&(h.Long?(l.timeUnixNano=h.Long.fromValue(n.timeUnixNano)).unsigned=!1:typeof n.timeUnixNano=="string"?l.timeUnixNano=parseInt(n.timeUnixNano,10):typeof n.timeUnixNano=="number"?l.timeUnixNano=n.timeUnixNano:typeof n.timeUnixNano=="object"&&(l.timeUnixNano=new h.LongBits(n.timeUnixNano.low>>>0,n.timeUnixNano.high>>>0).toNumber())),n.asDouble!=null&&(l.asDouble=Number(n.asDouble)),n.asInt!=null&&(h.Long?(l.asInt=h.Long.fromValue(n.asInt)).unsigned=!1:typeof n.asInt=="string"?l.asInt=parseInt(n.asInt,10):typeof n.asInt=="number"?l.asInt=n.asInt:typeof n.asInt=="object"&&(l.asInt=new h.LongBits(n.asInt.low>>>0,n.asInt.high>>>0).toNumber())),n.exemplars){if(!Array.isArray(n.exemplars))throw TypeError(".opentelemetry.proto.metrics.v1.NumberDataPoint.exemplars: array expected");l.exemplars=[];for(var c=0;c<n.exemplars.length;++c){if(typeof n.exemplars[c]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.NumberDataPoint.exemplars: object expected");l.exemplars[c]=d.opentelemetry.proto.metrics.v1.Exemplar.fromObject(n.exemplars[c])}}return n.flags!=null&&(l.flags=n.flags>>>0),l},s.toObject=function(n,l){l||(l={});var c={};if((l.arrays||l.defaults)&&(c.exemplars=[],c.attributes=[]),l.defaults){if(h.Long){var u=new h.Long(0,0,!1);c.startTimeUnixNano=l.longs===String?u.toString():l.longs===Number?u.toNumber():u}else c.startTimeUnixNano=l.longs===String?"0":0;if(h.Long){var u=new h.Long(0,0,!1);c.timeUnixNano=l.longs===String?u.toString():l.longs===Number?u.toNumber():u}else c.timeUnixNano=l.longs===String?"0":0;c.flags=0}if(n.startTimeUnixNano!=null&&n.hasOwnProperty("startTimeUnixNano")&&(typeof n.startTimeUnixNano=="number"?c.startTimeUnixNano=l.longs===String?String(n.startTimeUnixNano):n.startTimeUnixNano:c.startTimeUnixNano=l.longs===String?h.Long.prototype.toString.call(n.startTimeUnixNano):l.longs===Number?new h.LongBits(n.startTimeUnixNano.low>>>0,n.startTimeUnixNano.high>>>0).toNumber():n.startTimeUnixNano),n.timeUnixNano!=null&&n.hasOwnProperty("timeUnixNano")&&(typeof n.timeUnixNano=="number"?c.timeUnixNano=l.longs===String?String(n.timeUnixNano):n.timeUnixNano:c.timeUnixNano=l.longs===String?h.Long.prototype.toString.call(n.timeUnixNano):l.longs===Number?new h.LongBits(n.timeUnixNano.low>>>0,n.timeUnixNano.high>>>0).toNumber():n.timeUnixNano),n.asDouble!=null&&n.hasOwnProperty("asDouble")&&(c.asDouble=l.json&&!isFinite(n.asDouble)?String(n.asDouble):n.asDouble,l.oneofs&&(c.value="asDouble")),n.exemplars&&n.exemplars.length){c.exemplars=[];for(var f=0;f<n.exemplars.length;++f)c.exemplars[f]=d.opentelemetry.proto.metrics.v1.Exemplar.toObject(n.exemplars[f],l)}if(n.asInt!=null&&n.hasOwnProperty("asInt")&&(typeof n.asInt=="number"?c.asInt=l.longs===String?String(n.asInt):n.asInt:c.asInt=l.longs===String?h.Long.prototype.toString.call(n.asInt):l.longs===Number?new h.LongBits(n.asInt.low>>>0,n.asInt.high>>>0).toNumber():n.asInt,l.oneofs&&(c.value="asInt")),n.attributes&&n.attributes.length){c.attributes=[];for(var f=0;f<n.attributes.length;++f)c.attributes[f]=d.opentelemetry.proto.common.v1.KeyValue.toObject(n.attributes[f],l)}return n.flags!=null&&n.hasOwnProperty("flags")&&(c.flags=n.flags),c},s.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},s.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.metrics.v1.NumberDataPoint"},s})(),o.HistogramDataPoint=(function(){function s(i){if(this.attributes=[],this.bucketCounts=[],this.explicitBounds=[],this.exemplars=[],i)for(var n=Object.keys(i),l=0;l<n.length;++l)i[n[l]]!=null&&(this[n[l]]=i[n[l]])}s.prototype.attributes=h.emptyArray,s.prototype.startTimeUnixNano=null,s.prototype.timeUnixNano=null,s.prototype.count=null,s.prototype.sum=null,s.prototype.bucketCounts=h.emptyArray,s.prototype.explicitBounds=h.emptyArray,s.prototype.exemplars=h.emptyArray,s.prototype.flags=null,s.prototype.min=null,s.prototype.max=null;var a;return Object.defineProperty(s.prototype,"_sum",{get:h.oneOfGetter(a=["sum"]),set:h.oneOfSetter(a)}),Object.defineProperty(s.prototype,"_min",{get:h.oneOfGetter(a=["min"]),set:h.oneOfSetter(a)}),Object.defineProperty(s.prototype,"_max",{get:h.oneOfGetter(a=["max"]),set:h.oneOfSetter(a)}),s.create=function(n){return new s(n)},s.encode=function(n,l){if(l||(l=oe.create()),n.startTimeUnixNano!=null&&Object.hasOwnProperty.call(n,"startTimeUnixNano")&&l.uint32(17).fixed64(n.startTimeUnixNano),n.timeUnixNano!=null&&Object.hasOwnProperty.call(n,"timeUnixNano")&&l.uint32(25).fixed64(n.timeUnixNano),n.count!=null&&Object.hasOwnProperty.call(n,"count")&&l.uint32(33).fixed64(n.count),n.sum!=null&&Object.hasOwnProperty.call(n,"sum")&&l.uint32(41).double(n.sum),n.bucketCounts!=null&&n.bucketCounts.length){l.uint32(50).fork();for(var c=0;c<n.bucketCounts.length;++c)l.fixed64(n.bucketCounts[c]);l.ldelim()}if(n.explicitBounds!=null&&n.explicitBounds.length){l.uint32(58).fork();for(var c=0;c<n.explicitBounds.length;++c)l.double(n.explicitBounds[c]);l.ldelim()}if(n.exemplars!=null&&n.exemplars.length)for(var c=0;c<n.exemplars.length;++c)d.opentelemetry.proto.metrics.v1.Exemplar.encode(n.exemplars[c],l.uint32(66).fork()).ldelim();if(n.attributes!=null&&n.attributes.length)for(var c=0;c<n.attributes.length;++c)d.opentelemetry.proto.common.v1.KeyValue.encode(n.attributes[c],l.uint32(74).fork()).ldelim();return n.flags!=null&&Object.hasOwnProperty.call(n,"flags")&&l.uint32(80).uint32(n.flags),n.min!=null&&Object.hasOwnProperty.call(n,"min")&&l.uint32(89).double(n.min),n.max!=null&&Object.hasOwnProperty.call(n,"max")&&l.uint32(97).double(n.max),l},s.encodeDelimited=function(n,l){return this.encode(n,l).ldelim()},s.decode=function(n,l){n instanceof g||(n=g.create(n));for(var c=l===void 0?n.len:n.pos+l,u=new d.opentelemetry.proto.metrics.v1.HistogramDataPoint;n.pos<c;){var f=n.uint32();switch(f>>>3){case 9:{u.attributes&&u.attributes.length||(u.attributes=[]),u.attributes.push(d.opentelemetry.proto.common.v1.KeyValue.decode(n,n.uint32()));break}case 2:{u.startTimeUnixNano=n.fixed64();break}case 3:{u.timeUnixNano=n.fixed64();break}case 4:{u.count=n.fixed64();break}case 5:{u.sum=n.double();break}case 6:{if(u.bucketCounts&&u.bucketCounts.length||(u.bucketCounts=[]),(f&7)===2)for(var _=n.uint32()+n.pos;n.pos<_;)u.bucketCounts.push(n.fixed64());else u.bucketCounts.push(n.fixed64());break}case 7:{if(u.explicitBounds&&u.explicitBounds.length||(u.explicitBounds=[]),(f&7)===2)for(var _=n.uint32()+n.pos;n.pos<_;)u.explicitBounds.push(n.double());else u.explicitBounds.push(n.double());break}case 8:{u.exemplars&&u.exemplars.length||(u.exemplars=[]),u.exemplars.push(d.opentelemetry.proto.metrics.v1.Exemplar.decode(n,n.uint32()));break}case 10:{u.flags=n.uint32();break}case 11:{u.min=n.double();break}case 12:{u.max=n.double();break}default:n.skipType(f&7);break}}return u},s.decodeDelimited=function(n){return n instanceof g||(n=new g(n)),this.decode(n,n.uint32())},s.verify=function(n){if(typeof n!="object"||n===null)return"object expected";var l={};if(n.attributes!=null&&n.hasOwnProperty("attributes")){if(!Array.isArray(n.attributes))return"attributes: array expected";for(var c=0;c<n.attributes.length;++c){var u=d.opentelemetry.proto.common.v1.KeyValue.verify(n.attributes[c]);if(u)return"attributes."+u}}if(n.startTimeUnixNano!=null&&n.hasOwnProperty("startTimeUnixNano")&&!h.isInteger(n.startTimeUnixNano)&&!(n.startTimeUnixNano&&h.isInteger(n.startTimeUnixNano.low)&&h.isInteger(n.startTimeUnixNano.high)))return"startTimeUnixNano: integer|Long expected";if(n.timeUnixNano!=null&&n.hasOwnProperty("timeUnixNano")&&!h.isInteger(n.timeUnixNano)&&!(n.timeUnixNano&&h.isInteger(n.timeUnixNano.low)&&h.isInteger(n.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(n.count!=null&&n.hasOwnProperty("count")&&!h.isInteger(n.count)&&!(n.count&&h.isInteger(n.count.low)&&h.isInteger(n.count.high)))return"count: integer|Long expected";if(n.sum!=null&&n.hasOwnProperty("sum")&&(l._sum=1,typeof n.sum!="number"))return"sum: number expected";if(n.bucketCounts!=null&&n.hasOwnProperty("bucketCounts")){if(!Array.isArray(n.bucketCounts))return"bucketCounts: array expected";for(var c=0;c<n.bucketCounts.length;++c)if(!h.isInteger(n.bucketCounts[c])&&!(n.bucketCounts[c]&&h.isInteger(n.bucketCounts[c].low)&&h.isInteger(n.bucketCounts[c].high)))return"bucketCounts: integer|Long[] expected"}if(n.explicitBounds!=null&&n.hasOwnProperty("explicitBounds")){if(!Array.isArray(n.explicitBounds))return"explicitBounds: array expected";for(var c=0;c<n.explicitBounds.length;++c)if(typeof n.explicitBounds[c]!="number")return"explicitBounds: number[] expected"}if(n.exemplars!=null&&n.hasOwnProperty("exemplars")){if(!Array.isArray(n.exemplars))return"exemplars: array expected";for(var c=0;c<n.exemplars.length;++c){var u=d.opentelemetry.proto.metrics.v1.Exemplar.verify(n.exemplars[c]);if(u)return"exemplars."+u}}return n.flags!=null&&n.hasOwnProperty("flags")&&!h.isInteger(n.flags)?"flags: integer expected":n.min!=null&&n.hasOwnProperty("min")&&(l._min=1,typeof n.min!="number")?"min: number expected":n.max!=null&&n.hasOwnProperty("max")&&(l._max=1,typeof n.max!="number")?"max: number expected":null},s.fromObject=function(n){if(n instanceof d.opentelemetry.proto.metrics.v1.HistogramDataPoint)return n;var l=new d.opentelemetry.proto.metrics.v1.HistogramDataPoint;if(n.attributes){if(!Array.isArray(n.attributes))throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.attributes: array expected");l.attributes=[];for(var c=0;c<n.attributes.length;++c){if(typeof n.attributes[c]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.attributes: object expected");l.attributes[c]=d.opentelemetry.proto.common.v1.KeyValue.fromObject(n.attributes[c])}}if(n.startTimeUnixNano!=null&&(h.Long?(l.startTimeUnixNano=h.Long.fromValue(n.startTimeUnixNano)).unsigned=!1:typeof n.startTimeUnixNano=="string"?l.startTimeUnixNano=parseInt(n.startTimeUnixNano,10):typeof n.startTimeUnixNano=="number"?l.startTimeUnixNano=n.startTimeUnixNano:typeof n.startTimeUnixNano=="object"&&(l.startTimeUnixNano=new h.LongBits(n.startTimeUnixNano.low>>>0,n.startTimeUnixNano.high>>>0).toNumber())),n.timeUnixNano!=null&&(h.Long?(l.timeUnixNano=h.Long.fromValue(n.timeUnixNano)).unsigned=!1:typeof n.timeUnixNano=="string"?l.timeUnixNano=parseInt(n.timeUnixNano,10):typeof n.timeUnixNano=="number"?l.timeUnixNano=n.timeUnixNano:typeof n.timeUnixNano=="object"&&(l.timeUnixNano=new h.LongBits(n.timeUnixNano.low>>>0,n.timeUnixNano.high>>>0).toNumber())),n.count!=null&&(h.Long?(l.count=h.Long.fromValue(n.count)).unsigned=!1:typeof n.count=="string"?l.count=parseInt(n.count,10):typeof n.count=="number"?l.count=n.count:typeof n.count=="object"&&(l.count=new h.LongBits(n.count.low>>>0,n.count.high>>>0).toNumber())),n.sum!=null&&(l.sum=Number(n.sum)),n.bucketCounts){if(!Array.isArray(n.bucketCounts))throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.bucketCounts: array expected");l.bucketCounts=[];for(var c=0;c<n.bucketCounts.length;++c)h.Long?(l.bucketCounts[c]=h.Long.fromValue(n.bucketCounts[c])).unsigned=!1:typeof n.bucketCounts[c]=="string"?l.bucketCounts[c]=parseInt(n.bucketCounts[c],10):typeof n.bucketCounts[c]=="number"?l.bucketCounts[c]=n.bucketCounts[c]:typeof n.bucketCounts[c]=="object"&&(l.bucketCounts[c]=new h.LongBits(n.bucketCounts[c].low>>>0,n.bucketCounts[c].high>>>0).toNumber())}if(n.explicitBounds){if(!Array.isArray(n.explicitBounds))throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.explicitBounds: array expected");l.explicitBounds=[];for(var c=0;c<n.explicitBounds.length;++c)l.explicitBounds[c]=Number(n.explicitBounds[c])}if(n.exemplars){if(!Array.isArray(n.exemplars))throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.exemplars: array expected");l.exemplars=[];for(var c=0;c<n.exemplars.length;++c){if(typeof n.exemplars[c]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.exemplars: object expected");l.exemplars[c]=d.opentelemetry.proto.metrics.v1.Exemplar.fromObject(n.exemplars[c])}}return n.flags!=null&&(l.flags=n.flags>>>0),n.min!=null&&(l.min=Number(n.min)),n.max!=null&&(l.max=Number(n.max)),l},s.toObject=function(n,l){l||(l={});var c={};if((l.arrays||l.defaults)&&(c.bucketCounts=[],c.explicitBounds=[],c.exemplars=[],c.attributes=[]),l.defaults){if(h.Long){var u=new h.Long(0,0,!1);c.startTimeUnixNano=l.longs===String?u.toString():l.longs===Number?u.toNumber():u}else c.startTimeUnixNano=l.longs===String?"0":0;if(h.Long){var u=new h.Long(0,0,!1);c.timeUnixNano=l.longs===String?u.toString():l.longs===Number?u.toNumber():u}else c.timeUnixNano=l.longs===String?"0":0;if(h.Long){var u=new h.Long(0,0,!1);c.count=l.longs===String?u.toString():l.longs===Number?u.toNumber():u}else c.count=l.longs===String?"0":0;c.flags=0}if(n.startTimeUnixNano!=null&&n.hasOwnProperty("startTimeUnixNano")&&(typeof n.startTimeUnixNano=="number"?c.startTimeUnixNano=l.longs===String?String(n.startTimeUnixNano):n.startTimeUnixNano:c.startTimeUnixNano=l.longs===String?h.Long.prototype.toString.call(n.startTimeUnixNano):l.longs===Number?new h.LongBits(n.startTimeUnixNano.low>>>0,n.startTimeUnixNano.high>>>0).toNumber():n.startTimeUnixNano),n.timeUnixNano!=null&&n.hasOwnProperty("timeUnixNano")&&(typeof n.timeUnixNano=="number"?c.timeUnixNano=l.longs===String?String(n.timeUnixNano):n.timeUnixNano:c.timeUnixNano=l.longs===String?h.Long.prototype.toString.call(n.timeUnixNano):l.longs===Number?new h.LongBits(n.timeUnixNano.low>>>0,n.timeUnixNano.high>>>0).toNumber():n.timeUnixNano),n.count!=null&&n.hasOwnProperty("count")&&(typeof n.count=="number"?c.count=l.longs===String?String(n.count):n.count:c.count=l.longs===String?h.Long.prototype.toString.call(n.count):l.longs===Number?new h.LongBits(n.count.low>>>0,n.count.high>>>0).toNumber():n.count),n.sum!=null&&n.hasOwnProperty("sum")&&(c.sum=l.json&&!isFinite(n.sum)?String(n.sum):n.sum,l.oneofs&&(c._sum="sum")),n.bucketCounts&&n.bucketCounts.length){c.bucketCounts=[];for(var f=0;f<n.bucketCounts.length;++f)typeof n.bucketCounts[f]=="number"?c.bucketCounts[f]=l.longs===String?String(n.bucketCounts[f]):n.bucketCounts[f]:c.bucketCounts[f]=l.longs===String?h.Long.prototype.toString.call(n.bucketCounts[f]):l.longs===Number?new h.LongBits(n.bucketCounts[f].low>>>0,n.bucketCounts[f].high>>>0).toNumber():n.bucketCounts[f]}if(n.explicitBounds&&n.explicitBounds.length){c.explicitBounds=[];for(var f=0;f<n.explicitBounds.length;++f)c.explicitBounds[f]=l.json&&!isFinite(n.explicitBounds[f])?String(n.explicitBounds[f]):n.explicitBounds[f]}if(n.exemplars&&n.exemplars.length){c.exemplars=[];for(var f=0;f<n.exemplars.length;++f)c.exemplars[f]=d.opentelemetry.proto.metrics.v1.Exemplar.toObject(n.exemplars[f],l)}if(n.attributes&&n.attributes.length){c.attributes=[];for(var f=0;f<n.attributes.length;++f)c.attributes[f]=d.opentelemetry.proto.common.v1.KeyValue.toObject(n.attributes[f],l)}return n.flags!=null&&n.hasOwnProperty("flags")&&(c.flags=n.flags),n.min!=null&&n.hasOwnProperty("min")&&(c.min=l.json&&!isFinite(n.min)?String(n.min):n.min,l.oneofs&&(c._min="min")),n.max!=null&&n.hasOwnProperty("max")&&(c.max=l.json&&!isFinite(n.max)?String(n.max):n.max,l.oneofs&&(c._max="max")),c},s.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},s.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.metrics.v1.HistogramDataPoint"},s})(),o.ExponentialHistogramDataPoint=(function(){function s(i){if(this.attributes=[],this.exemplars=[],i)for(var n=Object.keys(i),l=0;l<n.length;++l)i[n[l]]!=null&&(this[n[l]]=i[n[l]])}s.prototype.attributes=h.emptyArray,s.prototype.startTimeUnixNano=null,s.prototype.timeUnixNano=null,s.prototype.count=null,s.prototype.sum=null,s.prototype.scale=null,s.prototype.zeroCount=null,s.prototype.positive=null,s.prototype.negative=null,s.prototype.flags=null,s.prototype.exemplars=h.emptyArray,s.prototype.min=null,s.prototype.max=null,s.prototype.zeroThreshold=null;var a;return Object.defineProperty(s.prototype,"_sum",{get:h.oneOfGetter(a=["sum"]),set:h.oneOfSetter(a)}),Object.defineProperty(s.prototype,"_min",{get:h.oneOfGetter(a=["min"]),set:h.oneOfSetter(a)}),Object.defineProperty(s.prototype,"_max",{get:h.oneOfGetter(a=["max"]),set:h.oneOfSetter(a)}),s.create=function(n){return new s(n)},s.encode=function(n,l){if(l||(l=oe.create()),n.attributes!=null&&n.attributes.length)for(var c=0;c<n.attributes.length;++c)d.opentelemetry.proto.common.v1.KeyValue.encode(n.attributes[c],l.uint32(10).fork()).ldelim();if(n.startTimeUnixNano!=null&&Object.hasOwnProperty.call(n,"startTimeUnixNano")&&l.uint32(17).fixed64(n.startTimeUnixNano),n.timeUnixNano!=null&&Object.hasOwnProperty.call(n,"timeUnixNano")&&l.uint32(25).fixed64(n.timeUnixNano),n.count!=null&&Object.hasOwnProperty.call(n,"count")&&l.uint32(33).fixed64(n.count),n.sum!=null&&Object.hasOwnProperty.call(n,"sum")&&l.uint32(41).double(n.sum),n.scale!=null&&Object.hasOwnProperty.call(n,"scale")&&l.uint32(48).sint32(n.scale),n.zeroCount!=null&&Object.hasOwnProperty.call(n,"zeroCount")&&l.uint32(57).fixed64(n.zeroCount),n.positive!=null&&Object.hasOwnProperty.call(n,"positive")&&d.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.encode(n.positive,l.uint32(66).fork()).ldelim(),n.negative!=null&&Object.hasOwnProperty.call(n,"negative")&&d.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.encode(n.negative,l.uint32(74).fork()).ldelim(),n.flags!=null&&Object.hasOwnProperty.call(n,"flags")&&l.uint32(80).uint32(n.flags),n.exemplars!=null&&n.exemplars.length)for(var c=0;c<n.exemplars.length;++c)d.opentelemetry.proto.metrics.v1.Exemplar.encode(n.exemplars[c],l.uint32(90).fork()).ldelim();return n.min!=null&&Object.hasOwnProperty.call(n,"min")&&l.uint32(97).double(n.min),n.max!=null&&Object.hasOwnProperty.call(n,"max")&&l.uint32(105).double(n.max),n.zeroThreshold!=null&&Object.hasOwnProperty.call(n,"zeroThreshold")&&l.uint32(113).double(n.zeroThreshold),l},s.encodeDelimited=function(n,l){return this.encode(n,l).ldelim()},s.decode=function(n,l){n instanceof g||(n=g.create(n));for(var c=l===void 0?n.len:n.pos+l,u=new d.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint;n.pos<c;){var f=n.uint32();switch(f>>>3){case 1:{u.attributes&&u.attributes.length||(u.attributes=[]),u.attributes.push(d.opentelemetry.proto.common.v1.KeyValue.decode(n,n.uint32()));break}case 2:{u.startTimeUnixNano=n.fixed64();break}case 3:{u.timeUnixNano=n.fixed64();break}case 4:{u.count=n.fixed64();break}case 5:{u.sum=n.double();break}case 6:{u.scale=n.sint32();break}case 7:{u.zeroCount=n.fixed64();break}case 8:{u.positive=d.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.decode(n,n.uint32());break}case 9:{u.negative=d.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.decode(n,n.uint32());break}case 10:{u.flags=n.uint32();break}case 11:{u.exemplars&&u.exemplars.length||(u.exemplars=[]),u.exemplars.push(d.opentelemetry.proto.metrics.v1.Exemplar.decode(n,n.uint32()));break}case 12:{u.min=n.double();break}case 13:{u.max=n.double();break}case 14:{u.zeroThreshold=n.double();break}default:n.skipType(f&7);break}}return u},s.decodeDelimited=function(n){return n instanceof g||(n=new g(n)),this.decode(n,n.uint32())},s.verify=function(n){if(typeof n!="object"||n===null)return"object expected";var l={};if(n.attributes!=null&&n.hasOwnProperty("attributes")){if(!Array.isArray(n.attributes))return"attributes: array expected";for(var c=0;c<n.attributes.length;++c){var u=d.opentelemetry.proto.common.v1.KeyValue.verify(n.attributes[c]);if(u)return"attributes."+u}}if(n.startTimeUnixNano!=null&&n.hasOwnProperty("startTimeUnixNano")&&!h.isInteger(n.startTimeUnixNano)&&!(n.startTimeUnixNano&&h.isInteger(n.startTimeUnixNano.low)&&h.isInteger(n.startTimeUnixNano.high)))return"startTimeUnixNano: integer|Long expected";if(n.timeUnixNano!=null&&n.hasOwnProperty("timeUnixNano")&&!h.isInteger(n.timeUnixNano)&&!(n.timeUnixNano&&h.isInteger(n.timeUnixNano.low)&&h.isInteger(n.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(n.count!=null&&n.hasOwnProperty("count")&&!h.isInteger(n.count)&&!(n.count&&h.isInteger(n.count.low)&&h.isInteger(n.count.high)))return"count: integer|Long expected";if(n.sum!=null&&n.hasOwnProperty("sum")&&(l._sum=1,typeof n.sum!="number"))return"sum: number expected";if(n.scale!=null&&n.hasOwnProperty("scale")&&!h.isInteger(n.scale))return"scale: integer expected";if(n.zeroCount!=null&&n.hasOwnProperty("zeroCount")&&!h.isInteger(n.zeroCount)&&!(n.zeroCount&&h.isInteger(n.zeroCount.low)&&h.isInteger(n.zeroCount.high)))return"zeroCount: integer|Long expected";if(n.positive!=null&&n.hasOwnProperty("positive")){var u=d.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.verify(n.positive);if(u)return"positive."+u}if(n.negative!=null&&n.hasOwnProperty("negative")){var u=d.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.verify(n.negative);if(u)return"negative."+u}if(n.flags!=null&&n.hasOwnProperty("flags")&&!h.isInteger(n.flags))return"flags: integer expected";if(n.exemplars!=null&&n.hasOwnProperty("exemplars")){if(!Array.isArray(n.exemplars))return"exemplars: array expected";for(var c=0;c<n.exemplars.length;++c){var u=d.opentelemetry.proto.metrics.v1.Exemplar.verify(n.exemplars[c]);if(u)return"exemplars."+u}}return n.min!=null&&n.hasOwnProperty("min")&&(l._min=1,typeof n.min!="number")?"min: number expected":n.max!=null&&n.hasOwnProperty("max")&&(l._max=1,typeof n.max!="number")?"max: number expected":n.zeroThreshold!=null&&n.hasOwnProperty("zeroThreshold")&&typeof n.zeroThreshold!="number"?"zeroThreshold: number expected":null},s.fromObject=function(n){if(n instanceof d.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint)return n;var l=new d.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint;if(n.attributes){if(!Array.isArray(n.attributes))throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.attributes: array expected");l.attributes=[];for(var c=0;c<n.attributes.length;++c){if(typeof n.attributes[c]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.attributes: object expected");l.attributes[c]=d.opentelemetry.proto.common.v1.KeyValue.fromObject(n.attributes[c])}}if(n.startTimeUnixNano!=null&&(h.Long?(l.startTimeUnixNano=h.Long.fromValue(n.startTimeUnixNano)).unsigned=!1:typeof n.startTimeUnixNano=="string"?l.startTimeUnixNano=parseInt(n.startTimeUnixNano,10):typeof n.startTimeUnixNano=="number"?l.startTimeUnixNano=n.startTimeUnixNano:typeof n.startTimeUnixNano=="object"&&(l.startTimeUnixNano=new h.LongBits(n.startTimeUnixNano.low>>>0,n.startTimeUnixNano.high>>>0).toNumber())),n.timeUnixNano!=null&&(h.Long?(l.timeUnixNano=h.Long.fromValue(n.timeUnixNano)).unsigned=!1:typeof n.timeUnixNano=="string"?l.timeUnixNano=parseInt(n.timeUnixNano,10):typeof n.timeUnixNano=="number"?l.timeUnixNano=n.timeUnixNano:typeof n.timeUnixNano=="object"&&(l.timeUnixNano=new h.LongBits(n.timeUnixNano.low>>>0,n.timeUnixNano.high>>>0).toNumber())),n.count!=null&&(h.Long?(l.count=h.Long.fromValue(n.count)).unsigned=!1:typeof n.count=="string"?l.count=parseInt(n.count,10):typeof n.count=="number"?l.count=n.count:typeof n.count=="object"&&(l.count=new h.LongBits(n.count.low>>>0,n.count.high>>>0).toNumber())),n.sum!=null&&(l.sum=Number(n.sum)),n.scale!=null&&(l.scale=n.scale|0),n.zeroCount!=null&&(h.Long?(l.zeroCount=h.Long.fromValue(n.zeroCount)).unsigned=!1:typeof n.zeroCount=="string"?l.zeroCount=parseInt(n.zeroCount,10):typeof n.zeroCount=="number"?l.zeroCount=n.zeroCount:typeof n.zeroCount=="object"&&(l.zeroCount=new h.LongBits(n.zeroCount.low>>>0,n.zeroCount.high>>>0).toNumber())),n.positive!=null){if(typeof n.positive!="object")throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.positive: object expected");l.positive=d.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.fromObject(n.positive)}if(n.negative!=null){if(typeof n.negative!="object")throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.negative: object expected");l.negative=d.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.fromObject(n.negative)}if(n.flags!=null&&(l.flags=n.flags>>>0),n.exemplars){if(!Array.isArray(n.exemplars))throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.exemplars: array expected");l.exemplars=[];for(var c=0;c<n.exemplars.length;++c){if(typeof n.exemplars[c]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.exemplars: object expected");l.exemplars[c]=d.opentelemetry.proto.metrics.v1.Exemplar.fromObject(n.exemplars[c])}}return n.min!=null&&(l.min=Number(n.min)),n.max!=null&&(l.max=Number(n.max)),n.zeroThreshold!=null&&(l.zeroThreshold=Number(n.zeroThreshold)),l},s.toObject=function(n,l){l||(l={});var c={};if((l.arrays||l.defaults)&&(c.attributes=[],c.exemplars=[]),l.defaults){if(h.Long){var u=new h.Long(0,0,!1);c.startTimeUnixNano=l.longs===String?u.toString():l.longs===Number?u.toNumber():u}else c.startTimeUnixNano=l.longs===String?"0":0;if(h.Long){var u=new h.Long(0,0,!1);c.timeUnixNano=l.longs===String?u.toString():l.longs===Number?u.toNumber():u}else c.timeUnixNano=l.longs===String?"0":0;if(h.Long){var u=new h.Long(0,0,!1);c.count=l.longs===String?u.toString():l.longs===Number?u.toNumber():u}else c.count=l.longs===String?"0":0;if(c.scale=0,h.Long){var u=new h.Long(0,0,!1);c.zeroCount=l.longs===String?u.toString():l.longs===Number?u.toNumber():u}else c.zeroCount=l.longs===String?"0":0;c.positive=null,c.negative=null,c.flags=0,c.zeroThreshold=0}if(n.attributes&&n.attributes.length){c.attributes=[];for(var f=0;f<n.attributes.length;++f)c.attributes[f]=d.opentelemetry.proto.common.v1.KeyValue.toObject(n.attributes[f],l)}if(n.startTimeUnixNano!=null&&n.hasOwnProperty("startTimeUnixNano")&&(typeof n.startTimeUnixNano=="number"?c.startTimeUnixNano=l.longs===String?String(n.startTimeUnixNano):n.startTimeUnixNano:c.startTimeUnixNano=l.longs===String?h.Long.prototype.toString.call(n.startTimeUnixNano):l.longs===Number?new h.LongBits(n.startTimeUnixNano.low>>>0,n.startTimeUnixNano.high>>>0).toNumber():n.startTimeUnixNano),n.timeUnixNano!=null&&n.hasOwnProperty("timeUnixNano")&&(typeof n.timeUnixNano=="number"?c.timeUnixNano=l.longs===String?String(n.timeUnixNano):n.timeUnixNano:c.timeUnixNano=l.longs===String?h.Long.prototype.toString.call(n.timeUnixNano):l.longs===Number?new h.LongBits(n.timeUnixNano.low>>>0,n.timeUnixNano.high>>>0).toNumber():n.timeUnixNano),n.count!=null&&n.hasOwnProperty("count")&&(typeof n.count=="number"?c.count=l.longs===String?String(n.count):n.count:c.count=l.longs===String?h.Long.prototype.toString.call(n.count):l.longs===Number?new h.LongBits(n.count.low>>>0,n.count.high>>>0).toNumber():n.count),n.sum!=null&&n.hasOwnProperty("sum")&&(c.sum=l.json&&!isFinite(n.sum)?String(n.sum):n.sum,l.oneofs&&(c._sum="sum")),n.scale!=null&&n.hasOwnProperty("scale")&&(c.scale=n.scale),n.zeroCount!=null&&n.hasOwnProperty("zeroCount")&&(typeof n.zeroCount=="number"?c.zeroCount=l.longs===String?String(n.zeroCount):n.zeroCount:c.zeroCount=l.longs===String?h.Long.prototype.toString.call(n.zeroCount):l.longs===Number?new h.LongBits(n.zeroCount.low>>>0,n.zeroCount.high>>>0).toNumber():n.zeroCount),n.positive!=null&&n.hasOwnProperty("positive")&&(c.positive=d.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.toObject(n.positive,l)),n.negative!=null&&n.hasOwnProperty("negative")&&(c.negative=d.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.toObject(n.negative,l)),n.flags!=null&&n.hasOwnProperty("flags")&&(c.flags=n.flags),n.exemplars&&n.exemplars.length){c.exemplars=[];for(var f=0;f<n.exemplars.length;++f)c.exemplars[f]=d.opentelemetry.proto.metrics.v1.Exemplar.toObject(n.exemplars[f],l)}return n.min!=null&&n.hasOwnProperty("min")&&(c.min=l.json&&!isFinite(n.min)?String(n.min):n.min,l.oneofs&&(c._min="min")),n.max!=null&&n.hasOwnProperty("max")&&(c.max=l.json&&!isFinite(n.max)?String(n.max):n.max,l.oneofs&&(c._max="max")),n.zeroThreshold!=null&&n.hasOwnProperty("zeroThreshold")&&(c.zeroThreshold=l.json&&!isFinite(n.zeroThreshold)?String(n.zeroThreshold):n.zeroThreshold),c},s.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},s.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint"},s.Buckets=(function(){function i(n){if(this.bucketCounts=[],n)for(var l=Object.keys(n),c=0;c<l.length;++c)n[l[c]]!=null&&(this[l[c]]=n[l[c]])}return i.prototype.offset=null,i.prototype.bucketCounts=h.emptyArray,i.create=function(l){return new i(l)},i.encode=function(l,c){if(c||(c=oe.create()),l.offset!=null&&Object.hasOwnProperty.call(l,"offset")&&c.uint32(8).sint32(l.offset),l.bucketCounts!=null&&l.bucketCounts.length){c.uint32(18).fork();for(var u=0;u<l.bucketCounts.length;++u)c.uint64(l.bucketCounts[u]);c.ldelim()}return c},i.encodeDelimited=function(l,c){return this.encode(l,c).ldelim()},i.decode=function(l,c){l instanceof g||(l=g.create(l));for(var u=c===void 0?l.len:l.pos+c,f=new d.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets;l.pos<u;){var _=l.uint32();switch(_>>>3){case 1:{f.offset=l.sint32();break}case 2:{if(f.bucketCounts&&f.bucketCounts.length||(f.bucketCounts=[]),(_&7)===2)for(var m=l.uint32()+l.pos;l.pos<m;)f.bucketCounts.push(l.uint64());else f.bucketCounts.push(l.uint64());break}default:l.skipType(_&7);break}}return f},i.decodeDelimited=function(l){return l instanceof g||(l=new g(l)),this.decode(l,l.uint32())},i.verify=function(l){if(typeof l!="object"||l===null)return"object expected";if(l.offset!=null&&l.hasOwnProperty("offset")&&!h.isInteger(l.offset))return"offset: integer expected";if(l.bucketCounts!=null&&l.hasOwnProperty("bucketCounts")){if(!Array.isArray(l.bucketCounts))return"bucketCounts: array expected";for(var c=0;c<l.bucketCounts.length;++c)if(!h.isInteger(l.bucketCounts[c])&&!(l.bucketCounts[c]&&h.isInteger(l.bucketCounts[c].low)&&h.isInteger(l.bucketCounts[c].high)))return"bucketCounts: integer|Long[] expected"}return null},i.fromObject=function(l){if(l instanceof d.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets)return l;var c=new d.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets;if(l.offset!=null&&(c.offset=l.offset|0),l.bucketCounts){if(!Array.isArray(l.bucketCounts))throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.bucketCounts: array expected");c.bucketCounts=[];for(var u=0;u<l.bucketCounts.length;++u)h.Long?(c.bucketCounts[u]=h.Long.fromValue(l.bucketCounts[u])).unsigned=!0:typeof l.bucketCounts[u]=="string"?c.bucketCounts[u]=parseInt(l.bucketCounts[u],10):typeof l.bucketCounts[u]=="number"?c.bucketCounts[u]=l.bucketCounts[u]:typeof l.bucketCounts[u]=="object"&&(c.bucketCounts[u]=new h.LongBits(l.bucketCounts[u].low>>>0,l.bucketCounts[u].high>>>0).toNumber(!0))}return c},i.toObject=function(l,c){c||(c={});var u={};if((c.arrays||c.defaults)&&(u.bucketCounts=[]),c.defaults&&(u.offset=0),l.offset!=null&&l.hasOwnProperty("offset")&&(u.offset=l.offset),l.bucketCounts&&l.bucketCounts.length){u.bucketCounts=[];for(var f=0;f<l.bucketCounts.length;++f)typeof l.bucketCounts[f]=="number"?u.bucketCounts[f]=c.longs===String?String(l.bucketCounts[f]):l.bucketCounts[f]:u.bucketCounts[f]=c.longs===String?h.Long.prototype.toString.call(l.bucketCounts[f]):c.longs===Number?new h.LongBits(l.bucketCounts[f].low>>>0,l.bucketCounts[f].high>>>0).toNumber(!0):l.bucketCounts[f]}return u},i.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},i.getTypeUrl=function(l){return l===void 0&&(l="type.googleapis.com"),l+"/opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets"},i})(),s})(),o.SummaryDataPoint=(function(){function s(a){if(this.attributes=[],this.quantileValues=[],a)for(var i=Object.keys(a),n=0;n<i.length;++n)a[i[n]]!=null&&(this[i[n]]=a[i[n]])}return s.prototype.attributes=h.emptyArray,s.prototype.startTimeUnixNano=null,s.prototype.timeUnixNano=null,s.prototype.count=null,s.prototype.sum=null,s.prototype.quantileValues=h.emptyArray,s.prototype.flags=null,s.create=function(i){return new s(i)},s.encode=function(i,n){if(n||(n=oe.create()),i.startTimeUnixNano!=null&&Object.hasOwnProperty.call(i,"startTimeUnixNano")&&n.uint32(17).fixed64(i.startTimeUnixNano),i.timeUnixNano!=null&&Object.hasOwnProperty.call(i,"timeUnixNano")&&n.uint32(25).fixed64(i.timeUnixNano),i.count!=null&&Object.hasOwnProperty.call(i,"count")&&n.uint32(33).fixed64(i.count),i.sum!=null&&Object.hasOwnProperty.call(i,"sum")&&n.uint32(41).double(i.sum),i.quantileValues!=null&&i.quantileValues.length)for(var l=0;l<i.quantileValues.length;++l)d.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile.encode(i.quantileValues[l],n.uint32(50).fork()).ldelim();if(i.attributes!=null&&i.attributes.length)for(var l=0;l<i.attributes.length;++l)d.opentelemetry.proto.common.v1.KeyValue.encode(i.attributes[l],n.uint32(58).fork()).ldelim();return i.flags!=null&&Object.hasOwnProperty.call(i,"flags")&&n.uint32(64).uint32(i.flags),n},s.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},s.decode=function(i,n){i instanceof g||(i=g.create(i));for(var l=n===void 0?i.len:i.pos+n,c=new d.opentelemetry.proto.metrics.v1.SummaryDataPoint;i.pos<l;){var u=i.uint32();switch(u>>>3){case 7:{c.attributes&&c.attributes.length||(c.attributes=[]),c.attributes.push(d.opentelemetry.proto.common.v1.KeyValue.decode(i,i.uint32()));break}case 2:{c.startTimeUnixNano=i.fixed64();break}case 3:{c.timeUnixNano=i.fixed64();break}case 4:{c.count=i.fixed64();break}case 5:{c.sum=i.double();break}case 6:{c.quantileValues&&c.quantileValues.length||(c.quantileValues=[]),c.quantileValues.push(d.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile.decode(i,i.uint32()));break}case 8:{c.flags=i.uint32();break}default:i.skipType(u&7);break}}return c},s.decodeDelimited=function(i){return i instanceof g||(i=new g(i)),this.decode(i,i.uint32())},s.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.attributes!=null&&i.hasOwnProperty("attributes")){if(!Array.isArray(i.attributes))return"attributes: array expected";for(var n=0;n<i.attributes.length;++n){var l=d.opentelemetry.proto.common.v1.KeyValue.verify(i.attributes[n]);if(l)return"attributes."+l}}if(i.startTimeUnixNano!=null&&i.hasOwnProperty("startTimeUnixNano")&&!h.isInteger(i.startTimeUnixNano)&&!(i.startTimeUnixNano&&h.isInteger(i.startTimeUnixNano.low)&&h.isInteger(i.startTimeUnixNano.high)))return"startTimeUnixNano: integer|Long expected";if(i.timeUnixNano!=null&&i.hasOwnProperty("timeUnixNano")&&!h.isInteger(i.timeUnixNano)&&!(i.timeUnixNano&&h.isInteger(i.timeUnixNano.low)&&h.isInteger(i.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(i.count!=null&&i.hasOwnProperty("count")&&!h.isInteger(i.count)&&!(i.count&&h.isInteger(i.count.low)&&h.isInteger(i.count.high)))return"count: integer|Long expected";if(i.sum!=null&&i.hasOwnProperty("sum")&&typeof i.sum!="number")return"sum: number expected";if(i.quantileValues!=null&&i.hasOwnProperty("quantileValues")){if(!Array.isArray(i.quantileValues))return"quantileValues: array expected";for(var n=0;n<i.quantileValues.length;++n){var l=d.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile.verify(i.quantileValues[n]);if(l)return"quantileValues."+l}}return i.flags!=null&&i.hasOwnProperty("flags")&&!h.isInteger(i.flags)?"flags: integer expected":null},s.fromObject=function(i){if(i instanceof d.opentelemetry.proto.metrics.v1.SummaryDataPoint)return i;var n=new d.opentelemetry.proto.metrics.v1.SummaryDataPoint;if(i.attributes){if(!Array.isArray(i.attributes))throw TypeError(".opentelemetry.proto.metrics.v1.SummaryDataPoint.attributes: array expected");n.attributes=[];for(var l=0;l<i.attributes.length;++l){if(typeof i.attributes[l]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.SummaryDataPoint.attributes: object expected");n.attributes[l]=d.opentelemetry.proto.common.v1.KeyValue.fromObject(i.attributes[l])}}if(i.startTimeUnixNano!=null&&(h.Long?(n.startTimeUnixNano=h.Long.fromValue(i.startTimeUnixNano)).unsigned=!1:typeof i.startTimeUnixNano=="string"?n.startTimeUnixNano=parseInt(i.startTimeUnixNano,10):typeof i.startTimeUnixNano=="number"?n.startTimeUnixNano=i.startTimeUnixNano:typeof i.startTimeUnixNano=="object"&&(n.startTimeUnixNano=new h.LongBits(i.startTimeUnixNano.low>>>0,i.startTimeUnixNano.high>>>0).toNumber())),i.timeUnixNano!=null&&(h.Long?(n.timeUnixNano=h.Long.fromValue(i.timeUnixNano)).unsigned=!1:typeof i.timeUnixNano=="string"?n.timeUnixNano=parseInt(i.timeUnixNano,10):typeof i.timeUnixNano=="number"?n.timeUnixNano=i.timeUnixNano:typeof i.timeUnixNano=="object"&&(n.timeUnixNano=new h.LongBits(i.timeUnixNano.low>>>0,i.timeUnixNano.high>>>0).toNumber())),i.count!=null&&(h.Long?(n.count=h.Long.fromValue(i.count)).unsigned=!1:typeof i.count=="string"?n.count=parseInt(i.count,10):typeof i.count=="number"?n.count=i.count:typeof i.count=="object"&&(n.count=new h.LongBits(i.count.low>>>0,i.count.high>>>0).toNumber())),i.sum!=null&&(n.sum=Number(i.sum)),i.quantileValues){if(!Array.isArray(i.quantileValues))throw TypeError(".opentelemetry.proto.metrics.v1.SummaryDataPoint.quantileValues: array expected");n.quantileValues=[];for(var l=0;l<i.quantileValues.length;++l){if(typeof i.quantileValues[l]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.SummaryDataPoint.quantileValues: object expected");n.quantileValues[l]=d.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile.fromObject(i.quantileValues[l])}}return i.flags!=null&&(n.flags=i.flags>>>0),n},s.toObject=function(i,n){n||(n={});var l={};if((n.arrays||n.defaults)&&(l.quantileValues=[],l.attributes=[]),n.defaults){if(h.Long){var c=new h.Long(0,0,!1);l.startTimeUnixNano=n.longs===String?c.toString():n.longs===Number?c.toNumber():c}else l.startTimeUnixNano=n.longs===String?"0":0;if(h.Long){var c=new h.Long(0,0,!1);l.timeUnixNano=n.longs===String?c.toString():n.longs===Number?c.toNumber():c}else l.timeUnixNano=n.longs===String?"0":0;if(h.Long){var c=new h.Long(0,0,!1);l.count=n.longs===String?c.toString():n.longs===Number?c.toNumber():c}else l.count=n.longs===String?"0":0;l.sum=0,l.flags=0}if(i.startTimeUnixNano!=null&&i.hasOwnProperty("startTimeUnixNano")&&(typeof i.startTimeUnixNano=="number"?l.startTimeUnixNano=n.longs===String?String(i.startTimeUnixNano):i.startTimeUnixNano:l.startTimeUnixNano=n.longs===String?h.Long.prototype.toString.call(i.startTimeUnixNano):n.longs===Number?new h.LongBits(i.startTimeUnixNano.low>>>0,i.startTimeUnixNano.high>>>0).toNumber():i.startTimeUnixNano),i.timeUnixNano!=null&&i.hasOwnProperty("timeUnixNano")&&(typeof i.timeUnixNano=="number"?l.timeUnixNano=n.longs===String?String(i.timeUnixNano):i.timeUnixNano:l.timeUnixNano=n.longs===String?h.Long.prototype.toString.call(i.timeUnixNano):n.longs===Number?new h.LongBits(i.timeUnixNano.low>>>0,i.timeUnixNano.high>>>0).toNumber():i.timeUnixNano),i.count!=null&&i.hasOwnProperty("count")&&(typeof i.count=="number"?l.count=n.longs===String?String(i.count):i.count:l.count=n.longs===String?h.Long.prototype.toString.call(i.count):n.longs===Number?new h.LongBits(i.count.low>>>0,i.count.high>>>0).toNumber():i.count),i.sum!=null&&i.hasOwnProperty("sum")&&(l.sum=n.json&&!isFinite(i.sum)?String(i.sum):i.sum),i.quantileValues&&i.quantileValues.length){l.quantileValues=[];for(var u=0;u<i.quantileValues.length;++u)l.quantileValues[u]=d.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile.toObject(i.quantileValues[u],n)}if(i.attributes&&i.attributes.length){l.attributes=[];for(var u=0;u<i.attributes.length;++u)l.attributes[u]=d.opentelemetry.proto.common.v1.KeyValue.toObject(i.attributes[u],n)}return i.flags!=null&&i.hasOwnProperty("flags")&&(l.flags=i.flags),l},s.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},s.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/opentelemetry.proto.metrics.v1.SummaryDataPoint"},s.ValueAtQuantile=(function(){function a(i){if(i)for(var n=Object.keys(i),l=0;l<n.length;++l)i[n[l]]!=null&&(this[n[l]]=i[n[l]])}return a.prototype.quantile=null,a.prototype.value=null,a.create=function(n){return new a(n)},a.encode=function(n,l){return l||(l=oe.create()),n.quantile!=null&&Object.hasOwnProperty.call(n,"quantile")&&l.uint32(9).double(n.quantile),n.value!=null&&Object.hasOwnProperty.call(n,"value")&&l.uint32(17).double(n.value),l},a.encodeDelimited=function(n,l){return this.encode(n,l).ldelim()},a.decode=function(n,l){n instanceof g||(n=g.create(n));for(var c=l===void 0?n.len:n.pos+l,u=new d.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile;n.pos<c;){var f=n.uint32();switch(f>>>3){case 1:{u.quantile=n.double();break}case 2:{u.value=n.double();break}default:n.skipType(f&7);break}}return u},a.decodeDelimited=function(n){return n instanceof g||(n=new g(n)),this.decode(n,n.uint32())},a.verify=function(n){return typeof n!="object"||n===null?"object expected":n.quantile!=null&&n.hasOwnProperty("quantile")&&typeof n.quantile!="number"?"quantile: number expected":n.value!=null&&n.hasOwnProperty("value")&&typeof n.value!="number"?"value: number expected":null},a.fromObject=function(n){if(n instanceof d.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile)return n;var l=new d.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile;return n.quantile!=null&&(l.quantile=Number(n.quantile)),n.value!=null&&(l.value=Number(n.value)),l},a.toObject=function(n,l){l||(l={});var c={};return l.defaults&&(c.quantile=0,c.value=0),n.quantile!=null&&n.hasOwnProperty("quantile")&&(c.quantile=l.json&&!isFinite(n.quantile)?String(n.quantile):n.quantile),n.value!=null&&n.hasOwnProperty("value")&&(c.value=l.json&&!isFinite(n.value)?String(n.value):n.value),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},a.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile"},a})(),s})(),o.Exemplar=(function(){function s(i){if(this.filteredAttributes=[],i)for(var n=Object.keys(i),l=0;l<n.length;++l)i[n[l]]!=null&&(this[n[l]]=i[n[l]])}s.prototype.filteredAttributes=h.emptyArray,s.prototype.timeUnixNano=null,s.prototype.asDouble=null,s.prototype.asInt=null,s.prototype.spanId=null,s.prototype.traceId=null;var a;return Object.defineProperty(s.prototype,"value",{get:h.oneOfGetter(a=["asDouble","asInt"]),set:h.oneOfSetter(a)}),s.create=function(n){return new s(n)},s.encode=function(n,l){if(l||(l=oe.create()),n.timeUnixNano!=null&&Object.hasOwnProperty.call(n,"timeUnixNano")&&l.uint32(17).fixed64(n.timeUnixNano),n.asDouble!=null&&Object.hasOwnProperty.call(n,"asDouble")&&l.uint32(25).double(n.asDouble),n.spanId!=null&&Object.hasOwnProperty.call(n,"spanId")&&l.uint32(34).bytes(n.spanId),n.traceId!=null&&Object.hasOwnProperty.call(n,"traceId")&&l.uint32(42).bytes(n.traceId),n.asInt!=null&&Object.hasOwnProperty.call(n,"asInt")&&l.uint32(49).sfixed64(n.asInt),n.filteredAttributes!=null&&n.filteredAttributes.length)for(var c=0;c<n.filteredAttributes.length;++c)d.opentelemetry.proto.common.v1.KeyValue.encode(n.filteredAttributes[c],l.uint32(58).fork()).ldelim();return l},s.encodeDelimited=function(n,l){return this.encode(n,l).ldelim()},s.decode=function(n,l){n instanceof g||(n=g.create(n));for(var c=l===void 0?n.len:n.pos+l,u=new d.opentelemetry.proto.metrics.v1.Exemplar;n.pos<c;){var f=n.uint32();switch(f>>>3){case 7:{u.filteredAttributes&&u.filteredAttributes.length||(u.filteredAttributes=[]),u.filteredAttributes.push(d.opentelemetry.proto.common.v1.KeyValue.decode(n,n.uint32()));break}case 2:{u.timeUnixNano=n.fixed64();break}case 3:{u.asDouble=n.double();break}case 6:{u.asInt=n.sfixed64();break}case 4:{u.spanId=n.bytes();break}case 5:{u.traceId=n.bytes();break}default:n.skipType(f&7);break}}return u},s.decodeDelimited=function(n){return n instanceof g||(n=new g(n)),this.decode(n,n.uint32())},s.verify=function(n){if(typeof n!="object"||n===null)return"object expected";var l={};if(n.filteredAttributes!=null&&n.hasOwnProperty("filteredAttributes")){if(!Array.isArray(n.filteredAttributes))return"filteredAttributes: array expected";for(var c=0;c<n.filteredAttributes.length;++c){var u=d.opentelemetry.proto.common.v1.KeyValue.verify(n.filteredAttributes[c]);if(u)return"filteredAttributes."+u}}if(n.timeUnixNano!=null&&n.hasOwnProperty("timeUnixNano")&&!h.isInteger(n.timeUnixNano)&&!(n.timeUnixNano&&h.isInteger(n.timeUnixNano.low)&&h.isInteger(n.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(n.asDouble!=null&&n.hasOwnProperty("asDouble")&&(l.value=1,typeof n.asDouble!="number"))return"asDouble: number expected";if(n.asInt!=null&&n.hasOwnProperty("asInt")){if(l.value===1)return"value: multiple values";if(l.value=1,!h.isInteger(n.asInt)&&!(n.asInt&&h.isInteger(n.asInt.low)&&h.isInteger(n.asInt.high)))return"asInt: integer|Long expected"}return n.spanId!=null&&n.hasOwnProperty("spanId")&&!(n.spanId&&typeof n.spanId.length=="number"||h.isString(n.spanId))?"spanId: buffer expected":n.traceId!=null&&n.hasOwnProperty("traceId")&&!(n.traceId&&typeof n.traceId.length=="number"||h.isString(n.traceId))?"traceId: buffer expected":null},s.fromObject=function(n){if(n instanceof d.opentelemetry.proto.metrics.v1.Exemplar)return n;var l=new d.opentelemetry.proto.metrics.v1.Exemplar;if(n.filteredAttributes){if(!Array.isArray(n.filteredAttributes))throw TypeError(".opentelemetry.proto.metrics.v1.Exemplar.filteredAttributes: array expected");l.filteredAttributes=[];for(var c=0;c<n.filteredAttributes.length;++c){if(typeof n.filteredAttributes[c]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Exemplar.filteredAttributes: object expected");l.filteredAttributes[c]=d.opentelemetry.proto.common.v1.KeyValue.fromObject(n.filteredAttributes[c])}}return n.timeUnixNano!=null&&(h.Long?(l.timeUnixNano=h.Long.fromValue(n.timeUnixNano)).unsigned=!1:typeof n.timeUnixNano=="string"?l.timeUnixNano=parseInt(n.timeUnixNano,10):typeof n.timeUnixNano=="number"?l.timeUnixNano=n.timeUnixNano:typeof n.timeUnixNano=="object"&&(l.timeUnixNano=new h.LongBits(n.timeUnixNano.low>>>0,n.timeUnixNano.high>>>0).toNumber())),n.asDouble!=null&&(l.asDouble=Number(n.asDouble)),n.asInt!=null&&(h.Long?(l.asInt=h.Long.fromValue(n.asInt)).unsigned=!1:typeof n.asInt=="string"?l.asInt=parseInt(n.asInt,10):typeof n.asInt=="number"?l.asInt=n.asInt:typeof n.asInt=="object"&&(l.asInt=new h.LongBits(n.asInt.low>>>0,n.asInt.high>>>0).toNumber())),n.spanId!=null&&(typeof n.spanId=="string"?h.base64.decode(n.spanId,l.spanId=h.newBuffer(h.base64.length(n.spanId)),0):n.spanId.length>=0&&(l.spanId=n.spanId)),n.traceId!=null&&(typeof n.traceId=="string"?h.base64.decode(n.traceId,l.traceId=h.newBuffer(h.base64.length(n.traceId)),0):n.traceId.length>=0&&(l.traceId=n.traceId)),l},s.toObject=function(n,l){l||(l={});var c={};if((l.arrays||l.defaults)&&(c.filteredAttributes=[]),l.defaults){if(h.Long){var u=new h.Long(0,0,!1);c.timeUnixNano=l.longs===String?u.toString():l.longs===Number?u.toNumber():u}else c.timeUnixNano=l.longs===String?"0":0;l.bytes===String?c.spanId="":(c.spanId=[],l.bytes!==Array&&(c.spanId=h.newBuffer(c.spanId))),l.bytes===String?c.traceId="":(c.traceId=[],l.bytes!==Array&&(c.traceId=h.newBuffer(c.traceId)))}if(n.timeUnixNano!=null&&n.hasOwnProperty("timeUnixNano")&&(typeof n.timeUnixNano=="number"?c.timeUnixNano=l.longs===String?String(n.timeUnixNano):n.timeUnixNano:c.timeUnixNano=l.longs===String?h.Long.prototype.toString.call(n.timeUnixNano):l.longs===Number?new h.LongBits(n.timeUnixNano.low>>>0,n.timeUnixNano.high>>>0).toNumber():n.timeUnixNano),n.asDouble!=null&&n.hasOwnProperty("asDouble")&&(c.asDouble=l.json&&!isFinite(n.asDouble)?String(n.asDouble):n.asDouble,l.oneofs&&(c.value="asDouble")),n.spanId!=null&&n.hasOwnProperty("spanId")&&(c.spanId=l.bytes===String?h.base64.encode(n.spanId,0,n.spanId.length):l.bytes===Array?Array.prototype.slice.call(n.spanId):n.spanId),n.traceId!=null&&n.hasOwnProperty("traceId")&&(c.traceId=l.bytes===String?h.base64.encode(n.traceId,0,n.traceId.length):l.bytes===Array?Array.prototype.slice.call(n.traceId):n.traceId),n.asInt!=null&&n.hasOwnProperty("asInt")&&(typeof n.asInt=="number"?c.asInt=l.longs===String?String(n.asInt):n.asInt:c.asInt=l.longs===String?h.Long.prototype.toString.call(n.asInt):l.longs===Number?new h.LongBits(n.asInt.low>>>0,n.asInt.high>>>0).toNumber():n.asInt,l.oneofs&&(c.value="asInt")),n.filteredAttributes&&n.filteredAttributes.length){c.filteredAttributes=[];for(var f=0;f<n.filteredAttributes.length;++f)c.filteredAttributes[f]=d.opentelemetry.proto.common.v1.KeyValue.toObject(n.filteredAttributes[f],l)}return c},s.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},s.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.metrics.v1.Exemplar"},s})(),o})(),t})(),e.logs=(function(){var t={};return t.v1=(function(){var o={};return o.LogsData=(function(){function s(a){if(this.resourceLogs=[],a)for(var i=Object.keys(a),n=0;n<i.length;++n)a[i[n]]!=null&&(this[i[n]]=a[i[n]])}return s.prototype.resourceLogs=h.emptyArray,s.create=function(i){return new s(i)},s.encode=function(i,n){if(n||(n=oe.create()),i.resourceLogs!=null&&i.resourceLogs.length)for(var l=0;l<i.resourceLogs.length;++l)d.opentelemetry.proto.logs.v1.ResourceLogs.encode(i.resourceLogs[l],n.uint32(10).fork()).ldelim();return n},s.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},s.decode=function(i,n){i instanceof g||(i=g.create(i));for(var l=n===void 0?i.len:i.pos+n,c=new d.opentelemetry.proto.logs.v1.LogsData;i.pos<l;){var u=i.uint32();switch(u>>>3){case 1:{c.resourceLogs&&c.resourceLogs.length||(c.resourceLogs=[]),c.resourceLogs.push(d.opentelemetry.proto.logs.v1.ResourceLogs.decode(i,i.uint32()));break}default:i.skipType(u&7);break}}return c},s.decodeDelimited=function(i){return i instanceof g||(i=new g(i)),this.decode(i,i.uint32())},s.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.resourceLogs!=null&&i.hasOwnProperty("resourceLogs")){if(!Array.isArray(i.resourceLogs))return"resourceLogs: array expected";for(var n=0;n<i.resourceLogs.length;++n){var l=d.opentelemetry.proto.logs.v1.ResourceLogs.verify(i.resourceLogs[n]);if(l)return"resourceLogs."+l}}return null},s.fromObject=function(i){if(i instanceof d.opentelemetry.proto.logs.v1.LogsData)return i;var n=new d.opentelemetry.proto.logs.v1.LogsData;if(i.resourceLogs){if(!Array.isArray(i.resourceLogs))throw TypeError(".opentelemetry.proto.logs.v1.LogsData.resourceLogs: array expected");n.resourceLogs=[];for(var l=0;l<i.resourceLogs.length;++l){if(typeof i.resourceLogs[l]!="object")throw TypeError(".opentelemetry.proto.logs.v1.LogsData.resourceLogs: object expected");n.resourceLogs[l]=d.opentelemetry.proto.logs.v1.ResourceLogs.fromObject(i.resourceLogs[l])}}return n},s.toObject=function(i,n){n||(n={});var l={};if((n.arrays||n.defaults)&&(l.resourceLogs=[]),i.resourceLogs&&i.resourceLogs.length){l.resourceLogs=[];for(var c=0;c<i.resourceLogs.length;++c)l.resourceLogs[c]=d.opentelemetry.proto.logs.v1.ResourceLogs.toObject(i.resourceLogs[c],n)}return l},s.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},s.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/opentelemetry.proto.logs.v1.LogsData"},s})(),o.ResourceLogs=(function(){function s(a){if(this.scopeLogs=[],a)for(var i=Object.keys(a),n=0;n<i.length;++n)a[i[n]]!=null&&(this[i[n]]=a[i[n]])}return s.prototype.resource=null,s.prototype.scopeLogs=h.emptyArray,s.prototype.schemaUrl=null,s.create=function(i){return new s(i)},s.encode=function(i,n){if(n||(n=oe.create()),i.resource!=null&&Object.hasOwnProperty.call(i,"resource")&&d.opentelemetry.proto.resource.v1.Resource.encode(i.resource,n.uint32(10).fork()).ldelim(),i.scopeLogs!=null&&i.scopeLogs.length)for(var l=0;l<i.scopeLogs.length;++l)d.opentelemetry.proto.logs.v1.ScopeLogs.encode(i.scopeLogs[l],n.uint32(18).fork()).ldelim();return i.schemaUrl!=null&&Object.hasOwnProperty.call(i,"schemaUrl")&&n.uint32(26).string(i.schemaUrl),n},s.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},s.decode=function(i,n){i instanceof g||(i=g.create(i));for(var l=n===void 0?i.len:i.pos+n,c=new d.opentelemetry.proto.logs.v1.ResourceLogs;i.pos<l;){var u=i.uint32();switch(u>>>3){case 1:{c.resource=d.opentelemetry.proto.resource.v1.Resource.decode(i,i.uint32());break}case 2:{c.scopeLogs&&c.scopeLogs.length||(c.scopeLogs=[]),c.scopeLogs.push(d.opentelemetry.proto.logs.v1.ScopeLogs.decode(i,i.uint32()));break}case 3:{c.schemaUrl=i.string();break}default:i.skipType(u&7);break}}return c},s.decodeDelimited=function(i){return i instanceof g||(i=new g(i)),this.decode(i,i.uint32())},s.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.resource!=null&&i.hasOwnProperty("resource")){var n=d.opentelemetry.proto.resource.v1.Resource.verify(i.resource);if(n)return"resource."+n}if(i.scopeLogs!=null&&i.hasOwnProperty("scopeLogs")){if(!Array.isArray(i.scopeLogs))return"scopeLogs: array expected";for(var l=0;l<i.scopeLogs.length;++l){var n=d.opentelemetry.proto.logs.v1.ScopeLogs.verify(i.scopeLogs[l]);if(n)return"scopeLogs."+n}}return i.schemaUrl!=null&&i.hasOwnProperty("schemaUrl")&&!h.isString(i.schemaUrl)?"schemaUrl: string expected":null},s.fromObject=function(i){if(i instanceof d.opentelemetry.proto.logs.v1.ResourceLogs)return i;var n=new d.opentelemetry.proto.logs.v1.ResourceLogs;if(i.resource!=null){if(typeof i.resource!="object")throw TypeError(".opentelemetry.proto.logs.v1.ResourceLogs.resource: object expected");n.resource=d.opentelemetry.proto.resource.v1.Resource.fromObject(i.resource)}if(i.scopeLogs){if(!Array.isArray(i.scopeLogs))throw TypeError(".opentelemetry.proto.logs.v1.ResourceLogs.scopeLogs: array expected");n.scopeLogs=[];for(var l=0;l<i.scopeLogs.length;++l){if(typeof i.scopeLogs[l]!="object")throw TypeError(".opentelemetry.proto.logs.v1.ResourceLogs.scopeLogs: object expected");n.scopeLogs[l]=d.opentelemetry.proto.logs.v1.ScopeLogs.fromObject(i.scopeLogs[l])}}return i.schemaUrl!=null&&(n.schemaUrl=String(i.schemaUrl)),n},s.toObject=function(i,n){n||(n={});var l={};if((n.arrays||n.defaults)&&(l.scopeLogs=[]),n.defaults&&(l.resource=null,l.schemaUrl=""),i.resource!=null&&i.hasOwnProperty("resource")&&(l.resource=d.opentelemetry.proto.resource.v1.Resource.toObject(i.resource,n)),i.scopeLogs&&i.scopeLogs.length){l.scopeLogs=[];for(var c=0;c<i.scopeLogs.length;++c)l.scopeLogs[c]=d.opentelemetry.proto.logs.v1.ScopeLogs.toObject(i.scopeLogs[c],n)}return i.schemaUrl!=null&&i.hasOwnProperty("schemaUrl")&&(l.schemaUrl=i.schemaUrl),l},s.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},s.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/opentelemetry.proto.logs.v1.ResourceLogs"},s})(),o.ScopeLogs=(function(){function s(a){if(this.logRecords=[],a)for(var i=Object.keys(a),n=0;n<i.length;++n)a[i[n]]!=null&&(this[i[n]]=a[i[n]])}return s.prototype.scope=null,s.prototype.logRecords=h.emptyArray,s.prototype.schemaUrl=null,s.create=function(i){return new s(i)},s.encode=function(i,n){if(n||(n=oe.create()),i.scope!=null&&Object.hasOwnProperty.call(i,"scope")&&d.opentelemetry.proto.common.v1.InstrumentationScope.encode(i.scope,n.uint32(10).fork()).ldelim(),i.logRecords!=null&&i.logRecords.length)for(var l=0;l<i.logRecords.length;++l)d.opentelemetry.proto.logs.v1.LogRecord.encode(i.logRecords[l],n.uint32(18).fork()).ldelim();return i.schemaUrl!=null&&Object.hasOwnProperty.call(i,"schemaUrl")&&n.uint32(26).string(i.schemaUrl),n},s.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},s.decode=function(i,n){i instanceof g||(i=g.create(i));for(var l=n===void 0?i.len:i.pos+n,c=new d.opentelemetry.proto.logs.v1.ScopeLogs;i.pos<l;){var u=i.uint32();switch(u>>>3){case 1:{c.scope=d.opentelemetry.proto.common.v1.InstrumentationScope.decode(i,i.uint32());break}case 2:{c.logRecords&&c.logRecords.length||(c.logRecords=[]),c.logRecords.push(d.opentelemetry.proto.logs.v1.LogRecord.decode(i,i.uint32()));break}case 3:{c.schemaUrl=i.string();break}default:i.skipType(u&7);break}}return c},s.decodeDelimited=function(i){return i instanceof g||(i=new g(i)),this.decode(i,i.uint32())},s.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.scope!=null&&i.hasOwnProperty("scope")){var n=d.opentelemetry.proto.common.v1.InstrumentationScope.verify(i.scope);if(n)return"scope."+n}if(i.logRecords!=null&&i.hasOwnProperty("logRecords")){if(!Array.isArray(i.logRecords))return"logRecords: array expected";for(var l=0;l<i.logRecords.length;++l){var n=d.opentelemetry.proto.logs.v1.LogRecord.verify(i.logRecords[l]);if(n)return"logRecords."+n}}return i.schemaUrl!=null&&i.hasOwnProperty("schemaUrl")&&!h.isString(i.schemaUrl)?"schemaUrl: string expected":null},s.fromObject=function(i){if(i instanceof d.opentelemetry.proto.logs.v1.ScopeLogs)return i;var n=new d.opentelemetry.proto.logs.v1.ScopeLogs;if(i.scope!=null){if(typeof i.scope!="object")throw TypeError(".opentelemetry.proto.logs.v1.ScopeLogs.scope: object expected");n.scope=d.opentelemetry.proto.common.v1.InstrumentationScope.fromObject(i.scope)}if(i.logRecords){if(!Array.isArray(i.logRecords))throw TypeError(".opentelemetry.proto.logs.v1.ScopeLogs.logRecords: array expected");n.logRecords=[];for(var l=0;l<i.logRecords.length;++l){if(typeof i.logRecords[l]!="object")throw TypeError(".opentelemetry.proto.logs.v1.ScopeLogs.logRecords: object expected");n.logRecords[l]=d.opentelemetry.proto.logs.v1.LogRecord.fromObject(i.logRecords[l])}}return i.schemaUrl!=null&&(n.schemaUrl=String(i.schemaUrl)),n},s.toObject=function(i,n){n||(n={});var l={};if((n.arrays||n.defaults)&&(l.logRecords=[]),n.defaults&&(l.scope=null,l.schemaUrl=""),i.scope!=null&&i.hasOwnProperty("scope")&&(l.scope=d.opentelemetry.proto.common.v1.InstrumentationScope.toObject(i.scope,n)),i.logRecords&&i.logRecords.length){l.logRecords=[];for(var c=0;c<i.logRecords.length;++c)l.logRecords[c]=d.opentelemetry.proto.logs.v1.LogRecord.toObject(i.logRecords[c],n)}return i.schemaUrl!=null&&i.hasOwnProperty("schemaUrl")&&(l.schemaUrl=i.schemaUrl),l},s.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},s.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/opentelemetry.proto.logs.v1.ScopeLogs"},s})(),o.SeverityNumber=(function(){var s={},a=Object.create(s);return a[s[0]="SEVERITY_NUMBER_UNSPECIFIED"]=0,a[s[1]="SEVERITY_NUMBER_TRACE"]=1,a[s[2]="SEVERITY_NUMBER_TRACE2"]=2,a[s[3]="SEVERITY_NUMBER_TRACE3"]=3,a[s[4]="SEVERITY_NUMBER_TRACE4"]=4,a[s[5]="SEVERITY_NUMBER_DEBUG"]=5,a[s[6]="SEVERITY_NUMBER_DEBUG2"]=6,a[s[7]="SEVERITY_NUMBER_DEBUG3"]=7,a[s[8]="SEVERITY_NUMBER_DEBUG4"]=8,a[s[9]="SEVERITY_NUMBER_INFO"]=9,a[s[10]="SEVERITY_NUMBER_INFO2"]=10,a[s[11]="SEVERITY_NUMBER_INFO3"]=11,a[s[12]="SEVERITY_NUMBER_INFO4"]=12,a[s[13]="SEVERITY_NUMBER_WARN"]=13,a[s[14]="SEVERITY_NUMBER_WARN2"]=14,a[s[15]="SEVERITY_NUMBER_WARN3"]=15,a[s[16]="SEVERITY_NUMBER_WARN4"]=16,a[s[17]="SEVERITY_NUMBER_ERROR"]=17,a[s[18]="SEVERITY_NUMBER_ERROR2"]=18,a[s[19]="SEVERITY_NUMBER_ERROR3"]=19,a[s[20]="SEVERITY_NUMBER_ERROR4"]=20,a[s[21]="SEVERITY_NUMBER_FATAL"]=21,a[s[22]="SEVERITY_NUMBER_FATAL2"]=22,a[s[23]="SEVERITY_NUMBER_FATAL3"]=23,a[s[24]="SEVERITY_NUMBER_FATAL4"]=24,a})(),o.LogRecordFlags=(function(){var s={},a=Object.create(s);return a[s[0]="LOG_RECORD_FLAGS_DO_NOT_USE"]=0,a[s[255]="LOG_RECORD_FLAGS_TRACE_FLAGS_MASK"]=255,a})(),o.LogRecord=(function(){function s(a){if(this.attributes=[],a)for(var i=Object.keys(a),n=0;n<i.length;++n)a[i[n]]!=null&&(this[i[n]]=a[i[n]])}return s.prototype.timeUnixNano=null,s.prototype.observedTimeUnixNano=null,s.prototype.severityNumber=null,s.prototype.severityText=null,s.prototype.body=null,s.prototype.attributes=h.emptyArray,s.prototype.droppedAttributesCount=null,s.prototype.flags=null,s.prototype.traceId=null,s.prototype.spanId=null,s.create=function(i){return new s(i)},s.encode=function(i,n){if(n||(n=oe.create()),i.timeUnixNano!=null&&Object.hasOwnProperty.call(i,"timeUnixNano")&&n.uint32(9).fixed64(i.timeUnixNano),i.severityNumber!=null&&Object.hasOwnProperty.call(i,"severityNumber")&&n.uint32(16).int32(i.severityNumber),i.severityText!=null&&Object.hasOwnProperty.call(i,"severityText")&&n.uint32(26).string(i.severityText),i.body!=null&&Object.hasOwnProperty.call(i,"body")&&d.opentelemetry.proto.common.v1.AnyValue.encode(i.body,n.uint32(42).fork()).ldelim(),i.attributes!=null&&i.attributes.length)for(var l=0;l<i.attributes.length;++l)d.opentelemetry.proto.common.v1.KeyValue.encode(i.attributes[l],n.uint32(50).fork()).ldelim();return i.droppedAttributesCount!=null&&Object.hasOwnProperty.call(i,"droppedAttributesCount")&&n.uint32(56).uint32(i.droppedAttributesCount),i.flags!=null&&Object.hasOwnProperty.call(i,"flags")&&n.uint32(69).fixed32(i.flags),i.traceId!=null&&Object.hasOwnProperty.call(i,"traceId")&&n.uint32(74).bytes(i.traceId),i.spanId!=null&&Object.hasOwnProperty.call(i,"spanId")&&n.uint32(82).bytes(i.spanId),i.observedTimeUnixNano!=null&&Object.hasOwnProperty.call(i,"observedTimeUnixNano")&&n.uint32(89).fixed64(i.observedTimeUnixNano),n},s.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},s.decode=function(i,n){i instanceof g||(i=g.create(i));for(var l=n===void 0?i.len:i.pos+n,c=new d.opentelemetry.proto.logs.v1.LogRecord;i.pos<l;){var u=i.uint32();switch(u>>>3){case 1:{c.timeUnixNano=i.fixed64();break}case 11:{c.observedTimeUnixNano=i.fixed64();break}case 2:{c.severityNumber=i.int32();break}case 3:{c.severityText=i.string();break}case 5:{c.body=d.opentelemetry.proto.common.v1.AnyValue.decode(i,i.uint32());break}case 6:{c.attributes&&c.attributes.length||(c.attributes=[]),c.attributes.push(d.opentelemetry.proto.common.v1.KeyValue.decode(i,i.uint32()));break}case 7:{c.droppedAttributesCount=i.uint32();break}case 8:{c.flags=i.fixed32();break}case 9:{c.traceId=i.bytes();break}case 10:{c.spanId=i.bytes();break}default:i.skipType(u&7);break}}return c},s.decodeDelimited=function(i){return i instanceof g||(i=new g(i)),this.decode(i,i.uint32())},s.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.timeUnixNano!=null&&i.hasOwnProperty("timeUnixNano")&&!h.isInteger(i.timeUnixNano)&&!(i.timeUnixNano&&h.isInteger(i.timeUnixNano.low)&&h.isInteger(i.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(i.observedTimeUnixNano!=null&&i.hasOwnProperty("observedTimeUnixNano")&&!h.isInteger(i.observedTimeUnixNano)&&!(i.observedTimeUnixNano&&h.isInteger(i.observedTimeUnixNano.low)&&h.isInteger(i.observedTimeUnixNano.high)))return"observedTimeUnixNano: integer|Long expected";if(i.severityNumber!=null&&i.hasOwnProperty("severityNumber"))switch(i.severityNumber){default:return"severityNumber: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 23:case 24:break}if(i.severityText!=null&&i.hasOwnProperty("severityText")&&!h.isString(i.severityText))return"severityText: string expected";if(i.body!=null&&i.hasOwnProperty("body")){var n=d.opentelemetry.proto.common.v1.AnyValue.verify(i.body);if(n)return"body."+n}if(i.attributes!=null&&i.hasOwnProperty("attributes")){if(!Array.isArray(i.attributes))return"attributes: array expected";for(var l=0;l<i.attributes.length;++l){var n=d.opentelemetry.proto.common.v1.KeyValue.verify(i.attributes[l]);if(n)return"attributes."+n}}return i.droppedAttributesCount!=null&&i.hasOwnProperty("droppedAttributesCount")&&!h.isInteger(i.droppedAttributesCount)?"droppedAttributesCount: integer expected":i.flags!=null&&i.hasOwnProperty("flags")&&!h.isInteger(i.flags)?"flags: integer expected":i.traceId!=null&&i.hasOwnProperty("traceId")&&!(i.traceId&&typeof i.traceId.length=="number"||h.isString(i.traceId))?"traceId: buffer expected":i.spanId!=null&&i.hasOwnProperty("spanId")&&!(i.spanId&&typeof i.spanId.length=="number"||h.isString(i.spanId))?"spanId: buffer expected":null},s.fromObject=function(i){if(i instanceof d.opentelemetry.proto.logs.v1.LogRecord)return i;var n=new d.opentelemetry.proto.logs.v1.LogRecord;switch(i.timeUnixNano!=null&&(h.Long?(n.timeUnixNano=h.Long.fromValue(i.timeUnixNano)).unsigned=!1:typeof i.timeUnixNano=="string"?n.timeUnixNano=parseInt(i.timeUnixNano,10):typeof i.timeUnixNano=="number"?n.timeUnixNano=i.timeUnixNano:typeof i.timeUnixNano=="object"&&(n.timeUnixNano=new h.LongBits(i.timeUnixNano.low>>>0,i.timeUnixNano.high>>>0).toNumber())),i.observedTimeUnixNano!=null&&(h.Long?(n.observedTimeUnixNano=h.Long.fromValue(i.observedTimeUnixNano)).unsigned=!1:typeof i.observedTimeUnixNano=="string"?n.observedTimeUnixNano=parseInt(i.observedTimeUnixNano,10):typeof i.observedTimeUnixNano=="number"?n.observedTimeUnixNano=i.observedTimeUnixNano:typeof i.observedTimeUnixNano=="object"&&(n.observedTimeUnixNano=new h.LongBits(i.observedTimeUnixNano.low>>>0,i.observedTimeUnixNano.high>>>0).toNumber())),i.severityNumber){default:if(typeof i.severityNumber=="number"){n.severityNumber=i.severityNumber;break}break;case"SEVERITY_NUMBER_UNSPECIFIED":case 0:n.severityNumber=0;break;case"SEVERITY_NUMBER_TRACE":case 1:n.severityNumber=1;break;case"SEVERITY_NUMBER_TRACE2":case 2:n.severityNumber=2;break;case"SEVERITY_NUMBER_TRACE3":case 3:n.severityNumber=3;break;case"SEVERITY_NUMBER_TRACE4":case 4:n.severityNumber=4;break;case"SEVERITY_NUMBER_DEBUG":case 5:n.severityNumber=5;break;case"SEVERITY_NUMBER_DEBUG2":case 6:n.severityNumber=6;break;case"SEVERITY_NUMBER_DEBUG3":case 7:n.severityNumber=7;break;case"SEVERITY_NUMBER_DEBUG4":case 8:n.severityNumber=8;break;case"SEVERITY_NUMBER_INFO":case 9:n.severityNumber=9;break;case"SEVERITY_NUMBER_INFO2":case 10:n.severityNumber=10;break;case"SEVERITY_NUMBER_INFO3":case 11:n.severityNumber=11;break;case"SEVERITY_NUMBER_INFO4":case 12:n.severityNumber=12;break;case"SEVERITY_NUMBER_WARN":case 13:n.severityNumber=13;break;case"SEVERITY_NUMBER_WARN2":case 14:n.severityNumber=14;break;case"SEVERITY_NUMBER_WARN3":case 15:n.severityNumber=15;break;case"SEVERITY_NUMBER_WARN4":case 16:n.severityNumber=16;break;case"SEVERITY_NUMBER_ERROR":case 17:n.severityNumber=17;break;case"SEVERITY_NUMBER_ERROR2":case 18:n.severityNumber=18;break;case"SEVERITY_NUMBER_ERROR3":case 19:n.severityNumber=19;break;case"SEVERITY_NUMBER_ERROR4":case 20:n.severityNumber=20;break;case"SEVERITY_NUMBER_FATAL":case 21:n.severityNumber=21;break;case"SEVERITY_NUMBER_FATAL2":case 22:n.severityNumber=22;break;case"SEVERITY_NUMBER_FATAL3":case 23:n.severityNumber=23;break;case"SEVERITY_NUMBER_FATAL4":case 24:n.severityNumber=24;break}if(i.severityText!=null&&(n.severityText=String(i.severityText)),i.body!=null){if(typeof i.body!="object")throw TypeError(".opentelemetry.proto.logs.v1.LogRecord.body: object expected");n.body=d.opentelemetry.proto.common.v1.AnyValue.fromObject(i.body)}if(i.attributes){if(!Array.isArray(i.attributes))throw TypeError(".opentelemetry.proto.logs.v1.LogRecord.attributes: array expected");n.attributes=[];for(var l=0;l<i.attributes.length;++l){if(typeof i.attributes[l]!="object")throw TypeError(".opentelemetry.proto.logs.v1.LogRecord.attributes: object expected");n.attributes[l]=d.opentelemetry.proto.common.v1.KeyValue.fromObject(i.attributes[l])}}return i.droppedAttributesCount!=null&&(n.droppedAttributesCount=i.droppedAttributesCount>>>0),i.flags!=null&&(n.flags=i.flags>>>0),i.traceId!=null&&(typeof i.traceId=="string"?h.base64.decode(i.traceId,n.traceId=h.newBuffer(h.base64.length(i.traceId)),0):i.traceId.length>=0&&(n.traceId=i.traceId)),i.spanId!=null&&(typeof i.spanId=="string"?h.base64.decode(i.spanId,n.spanId=h.newBuffer(h.base64.length(i.spanId)),0):i.spanId.length>=0&&(n.spanId=i.spanId)),n},s.toObject=function(i,n){n||(n={});var l={};if((n.arrays||n.defaults)&&(l.attributes=[]),n.defaults){if(h.Long){var c=new h.Long(0,0,!1);l.timeUnixNano=n.longs===String?c.toString():n.longs===Number?c.toNumber():c}else l.timeUnixNano=n.longs===String?"0":0;if(l.severityNumber=n.enums===String?"SEVERITY_NUMBER_UNSPECIFIED":0,l.severityText="",l.body=null,l.droppedAttributesCount=0,l.flags=0,n.bytes===String?l.traceId="":(l.traceId=[],n.bytes!==Array&&(l.traceId=h.newBuffer(l.traceId))),n.bytes===String?l.spanId="":(l.spanId=[],n.bytes!==Array&&(l.spanId=h.newBuffer(l.spanId))),h.Long){var c=new h.Long(0,0,!1);l.observedTimeUnixNano=n.longs===String?c.toString():n.longs===Number?c.toNumber():c}else l.observedTimeUnixNano=n.longs===String?"0":0}if(i.timeUnixNano!=null&&i.hasOwnProperty("timeUnixNano")&&(typeof i.timeUnixNano=="number"?l.timeUnixNano=n.longs===String?String(i.timeUnixNano):i.timeUnixNano:l.timeUnixNano=n.longs===String?h.Long.prototype.toString.call(i.timeUnixNano):n.longs===Number?new h.LongBits(i.timeUnixNano.low>>>0,i.timeUnixNano.high>>>0).toNumber():i.timeUnixNano),i.severityNumber!=null&&i.hasOwnProperty("severityNumber")&&(l.severityNumber=n.enums===String?d.opentelemetry.proto.logs.v1.SeverityNumber[i.severityNumber]===void 0?i.severityNumber:d.opentelemetry.proto.logs.v1.SeverityNumber[i.severityNumber]:i.severityNumber),i.severityText!=null&&i.hasOwnProperty("severityText")&&(l.severityText=i.severityText),i.body!=null&&i.hasOwnProperty("body")&&(l.body=d.opentelemetry.proto.common.v1.AnyValue.toObject(i.body,n)),i.attributes&&i.attributes.length){l.attributes=[];for(var u=0;u<i.attributes.length;++u)l.attributes[u]=d.opentelemetry.proto.common.v1.KeyValue.toObject(i.attributes[u],n)}return i.droppedAttributesCount!=null&&i.hasOwnProperty("droppedAttributesCount")&&(l.droppedAttributesCount=i.droppedAttributesCount),i.flags!=null&&i.hasOwnProperty("flags")&&(l.flags=i.flags),i.traceId!=null&&i.hasOwnProperty("traceId")&&(l.traceId=n.bytes===String?h.base64.encode(i.traceId,0,i.traceId.length):n.bytes===Array?Array.prototype.slice.call(i.traceId):i.traceId),i.spanId!=null&&i.hasOwnProperty("spanId")&&(l.spanId=n.bytes===String?h.base64.encode(i.spanId,0,i.spanId.length):n.bytes===Array?Array.prototype.slice.call(i.spanId):i.spanId),i.observedTimeUnixNano!=null&&i.hasOwnProperty("observedTimeUnixNano")&&(typeof i.observedTimeUnixNano=="number"?l.observedTimeUnixNano=n.longs===String?String(i.observedTimeUnixNano):i.observedTimeUnixNano:l.observedTimeUnixNano=n.longs===String?h.Long.prototype.toString.call(i.observedTimeUnixNano):n.longs===Number?new h.LongBits(i.observedTimeUnixNano.low>>>0,i.observedTimeUnixNano.high>>>0).toNumber():i.observedTimeUnixNano),l},s.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},s.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/opentelemetry.proto.logs.v1.LogRecord"},s})(),o})(),t})(),e})(),r})();CG.exports=d});var to,Vae,Fae,Gae,Hae,qae,jae,gh,IG,vh,bG=p(()=>{to=Nn(PG());fh();ph();dh();Vae=to.opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse,Fae=to.opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest,Gae=to.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse,Hae=to.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest,qae=to.opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse,jae=to.opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest,gh={serializeRequest:r=>{let e=Ws(r);return Fae.encode(e).finish()},deserializeResponse:r=>Vae.decode(r)},IG={serializeRequest:r=>{let e=Xs([r]);return Hae.encode(e).finish()},deserializeResponse:r=>Gae.decode(r)},vh={serializeRequest:r=>{let e=$n(r);return jae.encode(e).finish()},deserializeResponse:r=>qae.decode(r)}});var yh,LG,Oh,xG=p(()=>{fh();ph();dh();yh={serializeRequest:r=>{let e=$n(r,{useHex:!0,useLongBits:!1});return new TextEncoder().encode(JSON.stringify(e))},deserializeResponse:r=>{let e=new TextDecoder;return JSON.parse(e.decode(r))}},LG={serializeRequest:r=>{let e=Xs([r],{useLongBits:!1});return new TextEncoder().encode(JSON.stringify(e))},deserializeResponse:r=>{let e=new TextDecoder;return JSON.parse(e.decode(r))}},Oh={serializeRequest:r=>{let e=Ws(r,{useHex:!0,useLongBits:!1});return new TextEncoder().encode(JSON.stringify(e))},deserializeResponse:r=>{let e=new TextDecoder;return JSON.parse(e.decode(r))}}});var nv={};Ae(nv,{ESpanKind:()=>ah,JsonLogsSerializer:()=>Oh,JsonMetricsSerializer:()=>LG,JsonTraceSerializer:()=>yh,ProtobufLogsSerializer:()=>gh,ProtobufMetricsSerializer:()=>IG,ProtobufTraceSerializer:()=>vh,createExportLogsServiceRequest:()=>Ws,createExportMetricsServiceRequest:()=>Xs,createExportTraceServiceRequest:()=>$n,encodeAsLongBits:()=>sh,encodeAsString:()=>Fg,getOtlpEncoder:()=>zn,hrTimeToNanos:()=>oh,toLongBits:()=>Vg});var Jn=p(()=>{hc();IF();fh();ph();dh();bG();xG()});var MG,wG=p(()=>{MG="0.56.0"});function DG(r){var e=[429,502,503,504];return e.includes(r)}function UG(r){if(r!=null){var e=Number.parseInt(r,10);if(Number.isInteger(e))return e>0?e*1e3:-1;var t=new Date(r).getTime()-Date.now();return t>=0?t:0}}var kG=p(()=>{});var FG={};Ae(FG,{compressAndSend:()=>VG,createHttpAgent:()=>$ae,sendWithHttp:()=>Kae});import*as Ah from"http";import*as Rh from"https";import*as BG from"zlib";import{Readable as Yae}from"stream";function Kae(r,e,t,o,s){var a=new URL(r.url),i=Number(process.versions.node.split(".")[0]),n={hostname:a.hostname,port:a.port,path:a.pathname,method:"POST",headers:iv({},r.headers()),agent:e},l=a.protocol==="http:"?Ah.request:Rh.request,c=l(n,function(f){var _=[];f.on("data",function(m){return _.push(m)}),f.on("end",function(){if(f.statusCode&&f.statusCode<299)o({status:"success",data:Buffer.concat(_)});else if(f.statusCode&&DG(f.statusCode))o({status:"retryable",retryInMillis:UG(f.headers["retry-after"])});else{var m=new Qi(f.statusMessage,f.statusCode,Buffer.concat(_).toString());o({status:"failure",error:m})}})});c.setTimeout(s,function(){c.destroy(),o({status:"failure",error:new Error("Request Timeout")})}),c.on("error",function(f){o({status:"failure",error:f})});var u=i>=14?"close":"abort";c.on(u,function(){o({status:"failure",error:new Error("Request timed out")})}),VG(c,r.compression,t,function(f){o({status:"failure",error:f})})}function VG(r,e,t,o){var s=zae(t);e==="gzip"&&(r.setHeader("Content-Encoding","gzip"),s=s.on("error",o).pipe(BG.createGzip()).on("error",o)),s.pipe(r).on("error",o)}function zae(r){var e=new Yae;return e.push(r),e.push(null),e}function $ae(r,e){var t=new URL(r),o=t.protocol==="http:"?Ah.Agent:Rh.Agent;return new o(e)}var iv,GG=p(()=>{kG();Qd();iv=function(){return iv=Object.assign||function(r){for(var e,t=1,o=arguments.length;t<o;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}return r},iv.apply(this,arguments)}});function HG(r){return new Jae(r)}var Xae,Wae,Jae,qG=p(()=>{Xae=function(r,e,t,o){function s(a){return a instanceof t?a:new t(function(i){i(a)})}return new(t||(t=Promise))(function(a,i){function n(u){try{c(o.next(u))}catch(f){i(f)}}function l(u){try{c(o.throw(u))}catch(f){i(f)}}function c(u){u.done?a(u.value):s(u.value).then(n,l)}c((o=o.apply(r,e||[])).next())})},Wae=function(r,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},o,s,a,i;return i={next:n(0),throw:n(1),return:n(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function n(c){return function(u){return l([c,u])}}function l(c){if(o)throw new TypeError("Generator is already executing.");for(;t;)try{if(o=1,s&&(a=c[0]&2?s.return:c[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,c[1])).done)return a;switch(s=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,s=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){t.label=c[1];break}if(c[0]===6&&t.label<a[1]){t.label=a[1],a=c;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(c);break}a[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(r,t)}catch(u){c=[6,u],s=0}finally{o=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},Jae=(function(){function r(e){this._parameters=e,this._send=null,this._agent=null}return r.prototype.send=function(e,t){return Xae(this,void 0,void 0,function(){var o,s,a,i=this;return Wae(this,function(n){return this._send==null&&(o=(GG(),ee(FG)),s=o.sendWithHttp,a=o.createHttpAgent,this._agent=a(this._parameters.url,this._parameters.agentOptions),this._send=s),[2,new Promise(function(l){var c;(c=i._send)===null||c===void 0||c.call(i,i._parameters,i._agent,e,function(u){l(u)},t)})]})})},r.prototype.shutdown=function(){},r})()});function ile(){return Math.random()*(2*jG)-jG}function YG(r){return new ole(r.transport)}var Qae,Zae,ele,tle,rle,nle,jG,ole,KG=p(()=>{Qae=function(r,e,t,o){function s(a){return a instanceof t?a:new t(function(i){i(a)})}return new(t||(t=Promise))(function(a,i){function n(u){try{c(o.next(u))}catch(f){i(f)}}function l(u){try{c(o.throw(u))}catch(f){i(f)}}function c(u){u.done?a(u.value):s(u.value).then(n,l)}c((o=o.apply(r,e||[])).next())})},Zae=function(r,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},o,s,a,i;return i={next:n(0),throw:n(1),return:n(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function n(c){return function(u){return l([c,u])}}function l(c){if(o)throw new TypeError("Generator is already executing.");for(;t;)try{if(o=1,s&&(a=c[0]&2?s.return:c[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,c[1])).done)return a;switch(s=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,s=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){t.label=c[1];break}if(c[0]===6&&t.label<a[1]){t.label=a[1],a=c;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(c);break}a[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(r,t)}catch(u){c=[6,u],s=0}finally{o=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},ele=5,tle=1e3,rle=5e3,nle=1.5,jG=.2;ole=(function(){function r(e){this._transport=e}return r.prototype.retry=function(e,t,o){var s=this;return new Promise(function(a,i){setTimeout(function(){s._transport.send(e,t).then(a,i)},o)})},r.prototype.send=function(e,t){var o;return Qae(this,void 0,void 0,function(){var s,a,i,n,l,c,u;return Zae(this,function(f){switch(f.label){case 0:return s=Date.now()+t,[4,this._transport.send(e,t)];case 1:a=f.sent(),i=ele,n=tle,f.label=2;case 2:return a.status==="retryable"&&i>0?(i--,l=Math.max(Math.min(n,rle)+ile(),0),n=n*nle,c=(o=a.retryInMillis)!==null&&o!==void 0?o:l,u=s-Date.now(),c>u?[2,a]:[4,this.retry(e,u,c)]):[3,4];case 3:return a=f.sent(),[3,2];case 4:return[2,a]}})})},r.prototype.shutdown=function(){return this._transport.shutdown()},r})()});function Hr(r,e){return ih({transport:YG({transport:HG(r)}),serializer:e,promiseHandler:nh(r)},{timeout:r.timeoutMillis})}var zG=p(()=>{kg();qG();wg();KG()});function $G(r){var e,t=(e=process.env[r])===null||e===void 0?void 0:e.trim();if(t!=null&&t!==""){var o=Number(t);if(!Number.isNaN(o)&&Number.isFinite(o)&&o>0)return o;S.warn("Configuration: "+r+" is invalid, expected number greater than 0 (actual: "+t+")")}}function sle(r){var e=$G("OTEL_EXPORTER_OTLP_"+r+"_TIMEOUT"),t=$G("OTEL_EXPORTER_OTLP_TIMEOUT");return e??t}function XG(r){var e,t=(e=process.env[r])===null||e===void 0?void 0:e.trim();if(t!==""){if(t==null||t==="none"||t==="gzip")return t;S.warn("Configuration: "+r+" is invalid, expected 'none' or 'gzip' (actual: '"+t+"')")}}function ale(r){var e=XG("OTEL_EXPORTER_OTLP_"+r+"_COMPRESSION"),t=XG("OTEL_EXPORTER_OTLP_COMPRESSION");return e??t}function Nh(r){return{timeoutMillis:sle(r),compression:ale(r)}}var ov=p(()=>{P()});function WG(r){return function(){var e,t={};return Object.entries((e=r==null?void 0:r())!==null&&e!==void 0?e:{}).forEach(function(o){var s=lle(o,2),a=s[0],i=s[1];typeof i<"u"?t[a]=String(i):S.warn('Header "'+a+'" has invalid value ('+i+") and will be ignored")}),t}}var lle,JG=p(()=>{P();lle=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var o=t.call(r),s,a=[],i;try{for(;(e===void 0||e-- >0)&&!(s=o.next()).done;)a.push(s.value)}catch(n){i={error:n}}finally{try{s&&!s.done&&(t=o.return)&&t.call(o)}finally{if(i)throw i.error}}return a}});function cle(r,e,t){var o=ro({},t()),s={};return function(){return e!=null&&Object.assign(s,e()),r!=null&&Object.assign(s,r()),Object.assign(s,o)}}function ule(r){if(r!=null)try{return new URL(r),r}catch{throw new Error("Configuration: Could not parse user-provided export URL: '"+r+"'")}}function QG(r,e,t){var o,s,a,i;return ro(ro({},eh(r,e,t)),{headers:cle(WG(r.headers),e.headers,t.headers),url:(s=(o=ule(r.url))!==null&&o!==void 0?o:e.url)!==null&&s!==void 0?s:t.url,agentOptions:(i=(a=r.agentOptions)!==null&&a!==void 0?a:e.agentOptions)!==null&&i!==void 0?i:t.agentOptions})}function ZG(r,e){return ro(ro({},th()),{headers:function(){return r},url:"http://localhost:4318/"+e,agentOptions:{keepAlive:!0}})}var ro,e3=p(()=>{uc();JG();ro=function(){return ro=Object.assign||function(r){for(var e,t=1,o=arguments.length;t<o;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}return r},ro.apply(this,arguments)}});function fle(r){var e,t,o=(e=process.env["OTEL_EXPORTER_OTLP_"+r+"_HEADERS"])===null||e===void 0?void 0:e.trim(),s=(t=process.env.OTEL_EXPORTER_OTLP_HEADERS)===null||t===void 0?void 0:t.trim(),a=fc.parseKeyPairsIntoRecord(o),i=fc.parseKeyPairsIntoRecord(s);if(!(Object.keys(a).length===0&&Object.keys(i).length===0))return Object.assign({},fc.parseKeyPairsIntoRecord(s),fc.parseKeyPairsIntoRecord(o))}function ple(r){try{var e=new URL(r);return e.toString()}catch{S.warn("Configuration: Could not parse environment-provided export URL: '"+r+"', falling back to undefined");return}}function dle(r,e){try{new URL(r)}catch{S.warn("Configuration: Could not parse environment-provided export URL: '"+r+"', falling back to undefined");return}r.endsWith("/")||(r=r+"/"),r+=e;try{new URL(r)}catch{S.warn("Configuration: Provided URL appended with '"+e+"' is not a valid URL, using 'undefined' instead of '"+r+"'");return}return r}function hle(r){var e,t=(e=process.env.OTEL_EXPORTER_OTLP_ENDPOINT)===null||e===void 0?void 0:e.trim();if(!(t==null||t===""))return dle(t,r)}function _le(r){var e,t=(e=process.env["OTEL_EXPORTER_OTLP_"+r+"_ENDPOINT"])===null||e===void 0?void 0:e.trim();if(!(t==null||t===""))return ple(t)}function t3(r,e){var t;return Ch(Ch({},Nh(r)),{url:(t=_le(r))!==null&&t!==void 0?t:hle(e),headers:Zd(fle(r))})}var Ch,r3=p(()=>{Ug();P();ov();uc();Ch=function(){return Ch=Object.assign||function(r){for(var e,t=1,o=arguments.length;t<o;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}return r},Ch.apply(this,arguments)}});function Ele(r){return(r==null?void 0:r.keepAlive)!=null&&(r.httpAgentOptions!=null?r.httpAgentOptions.keepAlive==null&&(r.httpAgentOptions.keepAlive=r.keepAlive):r.httpAgentOptions={keepAlive:r.keepAlive}),r.httpAgentOptions}function qr(r,e,t,o){return r.metadata&&S.warn("Metadata cannot be set when using http"),QG({url:r.url,headers:Zd(r.headers),concurrencyLimit:r.concurrencyLimit,timeoutMillis:r.timeoutMillis,compression:r.compression,agentOptions:Ele(r)},t3(e,t),ZG(o,t))}var n3=p(()=>{e3();r3();P();uc()});var i3={};Ae(i3,{convertLegacyHttpOptions:()=>qr,createOtlpHttpExportDelegate:()=>Hr,getSharedConfigurationFromEnvironment:()=>Nh});var Qs=p(()=>{zG();ov();n3()});var Zs,o3=p(()=>{_n();Jn();wG();Qs();Zs=class extends Br{constructor(e={}){super(Hr(qr(e,"LOGS","v1/logs",{"User-Agent":`OTel-OTLP-Exporter-JavaScript/${MG}`,"Content-Type":"application/json"}),Oh))}}});var s3=p(()=>{o3()});var a3=p(()=>{s3()});var l3={};Ae(l3,{OTLPLogExporter:()=>Zs});var c3=p(()=>{a3()});var ue=T(er=>{"use strict";Object.defineProperty(er,"__esModule",{value:!0});er.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH=er.DEFAULT_MAX_SEND_MESSAGE_LENGTH=er.Propagate=er.LogVerbosity=er.Status=void 0;var u3;(function(r){r[r.OK=0]="OK",r[r.CANCELLED=1]="CANCELLED",r[r.UNKNOWN=2]="UNKNOWN",r[r.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",r[r.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",r[r.NOT_FOUND=5]="NOT_FOUND",r[r.ALREADY_EXISTS=6]="ALREADY_EXISTS",r[r.PERMISSION_DENIED=7]="PERMISSION_DENIED",r[r.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",r[r.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",r[r.ABORTED=10]="ABORTED",r[r.OUT_OF_RANGE=11]="OUT_OF_RANGE",r[r.UNIMPLEMENTED=12]="UNIMPLEMENTED",r[r.INTERNAL=13]="INTERNAL",r[r.UNAVAILABLE=14]="UNAVAILABLE",r[r.DATA_LOSS=15]="DATA_LOSS",r[r.UNAUTHENTICATED=16]="UNAUTHENTICATED"})(u3||(er.Status=u3={}));var f3;(function(r){r[r.DEBUG=0]="DEBUG",r[r.INFO=1]="INFO",r[r.ERROR=2]="ERROR",r[r.NONE=3]="NONE"})(f3||(er.LogVerbosity=f3={}));var p3;(function(r){r[r.DEADLINE=1]="DEADLINE",r[r.CENSUS_STATS_CONTEXT=2]="CENSUS_STATS_CONTEXT",r[r.CENSUS_TRACING_CONTEXT=4]="CENSUS_TRACING_CONTEXT",r[r.CANCELLATION=8]="CANCELLATION",r[r.DEFAULTS=65535]="DEFAULTS"})(p3||(er.Propagate=p3={}));er.DEFAULT_MAX_SEND_MESSAGE_LENGTH=-1;er.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH=4*1024*1024});var sv=T((iVe,mle)=>{mle.exports={name:"@grpc/grpc-js",version:"1.13.4",description:"gRPC Library for Node - pure JS implementation",homepage:"https://grpc.io/",repository:"https://github.com/grpc/grpc-node/tree/master/packages/grpc-js",main:"build/src/index.js",engines:{node:">=12.10.0"},keywords:[],author:{name:"Google Inc."},types:"build/src/index.d.ts",license:"Apache-2.0",devDependencies:{"@grpc/proto-loader":"file:../proto-loader","@types/gulp":"^4.0.17","@types/gulp-mocha":"0.0.37","@types/lodash":"^4.14.202","@types/mocha":"^10.0.6","@types/ncp":"^2.0.8","@types/node":">=20.11.20","@types/pify":"^5.0.4","@types/semver":"^7.5.8","@typescript-eslint/eslint-plugin":"^7.1.0","@typescript-eslint/parser":"^7.1.0","@typescript-eslint/typescript-estree":"^7.1.0","clang-format":"^1.8.0",eslint:"^8.42.0","eslint-config-prettier":"^8.8.0","eslint-plugin-node":"^11.1.0","eslint-plugin-prettier":"^4.2.1",execa:"^2.0.3",gulp:"^4.0.2","gulp-mocha":"^6.0.0",lodash:"^4.17.21",madge:"^5.0.1","mocha-jenkins-reporter":"^0.4.1",ncp:"^2.0.0",pify:"^4.0.1",prettier:"^2.8.8",rimraf:"^3.0.2",semver:"^7.6.0","ts-node":"^10.9.2",typescript:"^5.3.3"},contributors:[{name:"Google Inc."}],scripts:{build:"npm run compile",clean:"rimraf ./build",compile:"tsc -p .",format:'clang-format -i -style="{Language: JavaScript, BasedOnStyle: Google, ColumnLimit: 80}" src/*.ts test/*.ts',lint:"eslint src/*.ts test/*.ts",prepare:"npm run generate-types && npm run compile",test:"gulp test",check:"npm run lint",fix:"eslint --fix src/*.ts test/*.ts",pretest:"npm run generate-types && npm run generate-test-types && npm run compile",posttest:"npm run check && madge -c ./build/src","generate-types":"proto-loader-gen-types --keepCase --longs String --enums String --defaults --oneofs --includeComments --includeDirs proto/ --include-dirs test/fixtures/ -O src/generated/ --grpcLib ../index channelz.proto","generate-test-types":"proto-loader-gen-types --keepCase --longs String --enums String --defaults --oneofs --includeComments --include-dirs test/fixtures/ -O test/generated/ --grpcLib ../../src/index test_service.proto"},dependencies:{"@grpc/proto-loader":"^0.7.13","@js-sdsl/ordered-map":"^4.4.2"},files:["src/**/*.ts","build/src/**/*.{js,d.ts,js.map}","proto/*.proto","LICENSE","deps/envoy-api/envoy/api/v2/**/*.proto","deps/envoy-api/envoy/config/**/*.proto","deps/envoy-api/envoy/service/**/*.proto","deps/envoy-api/envoy/type/**/*.proto","deps/udpa/udpa/**/*.proto","deps/googleapis/google/api/*.proto","deps/googleapis/google/rpc/*.proto","deps/protoc-gen-validate/validate/**/*.proto"]}});var Pe=T(Bt=>{"use strict";var av,lv,cv,uv;Object.defineProperty(Bt,"__esModule",{value:!0});Bt.log=Bt.setLoggerVerbosity=Bt.setLogger=Bt.getLogger=void 0;Bt.trace=Ple;Bt.isTracerEnabled=h3;var Qn=ue(),Tle=V("process"),Sle=sv().version,gle={error:(r,...e)=>{console.error("E "+r,...e)},info:(r,...e)=>{console.error("I "+r,...e)},debug:(r,...e)=>{console.error("D "+r,...e)}},no=gle,ea=Qn.LogVerbosity.ERROR,vle=(lv=(av=process.env.GRPC_NODE_VERBOSITY)!==null&&av!==void 0?av:process.env.GRPC_VERBOSITY)!==null&&lv!==void 0?lv:"";switch(vle.toUpperCase()){case"DEBUG":ea=Qn.LogVerbosity.DEBUG;break;case"INFO":ea=Qn.LogVerbosity.INFO;break;case"ERROR":ea=Qn.LogVerbosity.ERROR;break;case"NONE":ea=Qn.LogVerbosity.NONE;break;default:}var yle=()=>no;Bt.getLogger=yle;var Ole=r=>{no=r};Bt.setLogger=Ole;var Ale=r=>{ea=r};Bt.setLoggerVerbosity=Ale;var Rle=(r,...e)=>{let t;if(r>=ea){switch(r){case Qn.LogVerbosity.DEBUG:t=no.debug;break;case Qn.LogVerbosity.INFO:t=no.info;break;case Qn.LogVerbosity.ERROR:t=no.error;break}t||(t=no.error),t&&t.bind(no)(...e)}};Bt.log=Rle;var Nle=(uv=(cv=process.env.GRPC_NODE_TRACE)!==null&&cv!==void 0?cv:process.env.GRPC_TRACE)!==null&&uv!==void 0?uv:"",fv=new Set,d3=new Set;for(let r of Nle.split(","))r.startsWith("-")?d3.add(r.substring(1)):fv.add(r);var Cle=fv.has("all");function Ple(r,e,t){h3(e)&&(0,Bt.log)(r,new Date().toISOString()+" | v"+Sle+" "+Tle.pid+" | "+e+" | "+t)}function h3(r){return!d3.has(r)&&(Cle||fv.has(r))}});var Ih=T(Ph=>{"use strict";Object.defineProperty(Ph,"__esModule",{value:!0});Ph.getErrorMessage=Ile;Ph.getErrorCode=ble;function Ile(r){return r instanceof Error?r.message:String(r)}function ble(r){return typeof r=="object"&&r!==null&&"code"in r&&typeof r.code=="number"?r.code:null}});var ht=T(Lh=>{"use strict";Object.defineProperty(Lh,"__esModule",{value:!0});Lh.Metadata=void 0;var Lle=Pe(),xle=ue(),Mle=Ih(),wle=/^[0-9a-z_.-]+$/,Dle=/^[ -~]*$/;function Ule(r){return wle.test(r)}function kle(r){return Dle.test(r)}function E3(r){return r.endsWith("-bin")}function Ble(r){return!r.startsWith("grpc-")}function bh(r){return r.toLowerCase()}function _3(r,e){if(!Ule(r))throw new Error('Metadata key "'+r+'" contains illegal characters');if(e!=null)if(E3(r)){if(!Buffer.isBuffer(e))throw new Error("keys that end with '-bin' must have Buffer values")}else{if(Buffer.isBuffer(e))throw new Error("keys that don't end with '-bin' must have String values");if(!kle(e))throw new Error('Metadata string value "'+e+'" contains illegal characters')}}var pv=class r{constructor(e={}){this.internalRepr=new Map,this.options=e}set(e,t){e=bh(e),_3(e,t),this.internalRepr.set(e,[t])}add(e,t){e=bh(e),_3(e,t);let o=this.internalRepr.get(e);o===void 0?this.internalRepr.set(e,[t]):o.push(t)}remove(e){e=bh(e),this.internalRepr.delete(e)}get(e){return e=bh(e),this.internalRepr.get(e)||[]}getMap(){let e={};for(let[t,o]of this.internalRepr)if(o.length>0){let s=o[0];e[t]=Buffer.isBuffer(s)?Buffer.from(s):s}return e}clone(){let e=new r(this.options),t=e.internalRepr;for(let[o,s]of this.internalRepr){let a=s.map(i=>Buffer.isBuffer(i)?Buffer.from(i):i);t.set(o,a)}return e}merge(e){for(let[t,o]of e.internalRepr){let s=(this.internalRepr.get(t)||[]).concat(o);this.internalRepr.set(t,s)}}setOptions(e){this.options=e}getOptions(){return this.options}toHttp2Headers(){let e={};for(let[t,o]of this.internalRepr)e[t]=o.map(Vle);return e}toJSON(){let e={};for(let[t,o]of this.internalRepr)e[t]=o;return e}static fromHttp2Headers(e){let t=new r;for(let o of Object.keys(e)){if(o.charAt(0)===":")continue;let s=e[o];try{E3(o)?Array.isArray(s)?s.forEach(a=>{t.add(o,Buffer.from(a,"base64"))}):s!==void 0&&(Ble(o)?s.split(",").forEach(a=>{t.add(o,Buffer.from(a.trim(),"base64"))}):t.add(o,Buffer.from(s,"base64"))):Array.isArray(s)?s.forEach(a=>{t.add(o,a)}):s!==void 0&&t.add(o,s)}catch(a){let i=`Failed to add metadata entry ${o}: ${s}. ${(0,Mle.getErrorMessage)(a)}. For more information see https://github.com/grpc/grpc-node/issues/1173`;(0,Lle.log)(xle.LogVerbosity.ERROR,i)}}return t}};Lh.Metadata=pv;var Vle=r=>Buffer.isBuffer(r)?r.toString("base64"):r});var Mh=T(xh=>{"use strict";Object.defineProperty(xh,"__esModule",{value:!0});xh.CallCredentials=void 0;var Ev=ht();function Fle(r){return"getRequestHeaders"in r&&typeof r.getRequestHeaders=="function"}var ta=class r{static createFromMetadataGenerator(e){return new hv(e)}static createFromGoogleCredential(e){return r.createFromMetadataGenerator((t,o)=>{let s;Fle(e)?s=e.getRequestHeaders(t.service_url):s=new Promise((a,i)=>{e.getRequestMetadata(t.service_url,(n,l)=>{if(n){i(n);return}if(!l){i(new Error("Headers not set by metadata plugin"));return}a(l)})}),s.then(a=>{let i=new Ev.Metadata;for(let n of Object.keys(a))i.add(n,a[n]);o(null,i)},a=>{o(a)})})}static createEmpty(){return new _v}};xh.CallCredentials=ta;var dv=class r extends ta{constructor(e){super(),this.creds=e}async generateMetadata(e){let t=new Ev.Metadata,o=await Promise.all(this.creds.map(s=>s.generateMetadata(e)));for(let s of o)t.merge(s);return t}compose(e){return new r(this.creds.concat([e]))}_equals(e){return this===e?!0:e instanceof r?this.creds.every((t,o)=>t._equals(e.creds[o])):!1}},hv=class r extends ta{constructor(e){super(),this.metadataGenerator=e}generateMetadata(e){return new Promise((t,o)=>{this.metadataGenerator(e,(s,a)=>{a!==void 0?t(a):o(s)})})}compose(e){return new dv([this,e])}_equals(e){return this===e?!0:e instanceof r?this.metadataGenerator===e.metadataGenerator:!1}},_v=class r extends ta{generateMetadata(e){return Promise.resolve(new Ev.Metadata)}compose(e){return e}_equals(e){return e instanceof r}}});var Tv=T(Tc=>{"use strict";Object.defineProperty(Tc,"__esModule",{value:!0});Tc.CIPHER_SUITES=void 0;Tc.getDefaultRootsData=Hle;var Gle=V("fs");Tc.CIPHER_SUITES=process.env.GRPC_SSL_CIPHER_SUITES;var m3=process.env.GRPC_DEFAULT_SSL_ROOTS_FILE_PATH,mv=null;function Hle(){return m3?(mv===null&&(mv=Gle.readFileSync(m3)),mv):null}});var Pt=T(ra=>{"use strict";Object.defineProperty(ra,"__esModule",{value:!0});ra.parseUri=jle;ra.splitHostPort=Yle;ra.combineHostPort=Kle;ra.uriToString=zle;var qle=/^(?:([A-Za-z0-9+.-]+):)?(?:\/\/([^/]*)\/)?(.+)$/;function jle(r){let e=qle.exec(r);return e===null?null:{scheme:e[1],authority:e[2],path:e[3]}}var T3=/^\d+$/;function Yle(r){if(r.startsWith("[")){let e=r.indexOf("]");if(e===-1)return null;let t=r.substring(1,e);if(t.indexOf(":")===-1)return null;if(r.length>e+1)if(r[e+1]===":"){let o=r.substring(e+2);return T3.test(o)?{host:t,port:+o}:null}else return null;else return{host:t}}else{let e=r.split(":");return e.length===2?T3.test(e[1])?{host:e[0],port:+e[1]}:null:{host:r}}}function Kle(r){return r.port===void 0?r.host:r.host.includes(":")?`[${r.host}]:${r.port}`:`${r.host}:${r.port}`}function zle(r){let e="";return r.scheme!==void 0&&(e+=r.scheme+":"),r.authority!==void 0&&(e+="//"+r.authority+"/"),e+=r.path,e}});var jr=T(io=>{"use strict";Object.defineProperty(io,"__esModule",{value:!0});io.registerResolver=$le;io.registerDefaultScheme=Xle;io.createResolver=Wle;io.getDefaultAuthority=Jle;io.mapUriDefaultScheme=Qle;var gv=Pt(),na={},Sv=null;function $le(r,e){na[r]=e}function Xle(r){Sv=r}function Wle(r,e,t){if(r.scheme!==void 0&&r.scheme in na)return new na[r.scheme](r,e,t);throw new Error(`No resolver could be created for target ${(0,gv.uriToString)(r)}`)}function Jle(r){if(r.scheme!==void 0&&r.scheme in na)return na[r.scheme].getDefaultAuthority(r);throw new Error(`Invalid target ${(0,gv.uriToString)(r)}`)}function Qle(r){return r.scheme===void 0||!(r.scheme in na)?Sv!==null?{scheme:Sv,authority:void 0,path:(0,gv.uriToString)(r)}:null:r}});var vc=T(gc=>{"use strict";Object.defineProperty(gc,"__esModule",{value:!0});gc.ChannelCredentials=void 0;gc.createCertificateProviderChannelCredentials=rce;var Sc=V("tls"),Uh=Mh(),yv=Tv(),S3=Pt(),Zle=jr(),ece=Pe(),tce=ue();function vv(r,e){if(r&&!(r instanceof Buffer))throw new TypeError(`${e}, if provided, must be a Buffer.`)}var oo=class{compose(e){return new Rv(this,e)}static createSsl(e,t,o,s){var a;if(vv(e,"Root certificate"),vv(t,"Private key"),vv(o,"Certificate chain"),t&&!o)throw new Error("Private key must be given with accompanying certificate chain");if(!t&&o)throw new Error("Certificate chain must be given with accompanying private key");let i=(0,Sc.createSecureContext)({ca:(a=e??(0,yv.getDefaultRootsData)())!==null&&a!==void 0?a:void 0,key:t??void 0,cert:o??void 0,ciphers:yv.CIPHER_SUITES});return new wh(i,s??{})}static createFromSecureContext(e,t){return new wh(e,t??{})}static createInsecure(){return new Ov}};gc.ChannelCredentials=oo;var Ov=class r extends oo{constructor(){super()}compose(e){throw new Error("Cannot compose insecure credentials")}_isSecure(){return!1}_equals(e){return e instanceof r}_createSecureConnector(e,t,o){return{connect(s){return Promise.resolve({socket:s,secure:!1})},waitForReady:()=>Promise.resolve(),getCallCredentials:()=>o??Uh.CallCredentials.createEmpty(),destroy(){}}}};function g3(r,e,t,o){var s,a;let i={secureContext:r},n=t;if("grpc.http_connect_target"in o){let f=(0,S3.parseUri)(o["grpc.http_connect_target"]);f&&(n=f)}let l=(0,Zle.getDefaultAuthority)(n),c=(0,S3.splitHostPort)(l),u=(s=c==null?void 0:c.host)!==null&&s!==void 0?s:l;if(i.host=u,e.checkServerIdentity&&(i.checkServerIdentity=e.checkServerIdentity),e.rejectUnauthorized!==void 0&&(i.rejectUnauthorized=e.rejectUnauthorized),i.ALPNProtocols=["h2"],o["grpc.ssl_target_name_override"]){let f=o["grpc.ssl_target_name_override"],_=(a=i.checkServerIdentity)!==null&&a!==void 0?a:Sc.checkServerIdentity;i.checkServerIdentity=(m,O)=>_(f,O),i.servername=f}else i.servername=u;return o["grpc-node.tls_enable_trace"]&&(i.enableTrace=!0),i}var Av=class{constructor(e,t){this.connectionOptions=e,this.callCredentials=t}connect(e){let t=Object.assign({socket:e},this.connectionOptions);return new Promise((o,s)=>{let a=(0,Sc.connect)(t,()=>{var i;if((!((i=this.connectionOptions.rejectUnauthorized)!==null&&i!==void 0)||i)&&!a.authorized){s(a.authorizationError);return}o({socket:a,secure:!0})});a.on("error",i=>{s(i)})})}waitForReady(){return Promise.resolve()}getCallCredentials(){return this.callCredentials}destroy(){}},wh=class r extends oo{constructor(e,t){super(),this.secureContext=e,this.verifyOptions=t}_isSecure(){return!0}_equals(e){return this===e?!0:e instanceof r?this.secureContext===e.secureContext&&this.verifyOptions.checkServerIdentity===e.verifyOptions.checkServerIdentity:!1}_createSecureConnector(e,t,o){let s=g3(this.secureContext,this.verifyOptions,e,t);return new Av(s,o??Uh.CallCredentials.createEmpty())}},Dh=class r extends oo{constructor(e,t,o){super(),this.caCertificateProvider=e,this.identityCertificateProvider=t,this.verifyOptions=o,this.refcount=0,this.latestCaUpdate=void 0,this.latestIdentityUpdate=void 0,this.caCertificateUpdateListener=this.handleCaCertificateUpdate.bind(this),this.identityCertificateUpdateListener=this.handleIdentityCertitificateUpdate.bind(this),this.secureContextWatchers=[]}_isSecure(){return!0}_equals(e){var t,o;return this===e?!0:e instanceof r?this.caCertificateProvider===e.caCertificateProvider&&this.identityCertificateProvider===e.identityCertificateProvider&&((t=this.verifyOptions)===null||t===void 0?void 0:t.checkServerIdentity)===((o=e.verifyOptions)===null||o===void 0?void 0:o.checkServerIdentity):!1}ref(){var e;this.refcount===0&&(this.caCertificateProvider.addCaCertificateListener(this.caCertificateUpdateListener),(e=this.identityCertificateProvider)===null||e===void 0||e.addIdentityCertificateListener(this.identityCertificateUpdateListener)),this.refcount+=1}unref(){var e;this.refcount-=1,this.refcount===0&&(this.caCertificateProvider.removeCaCertificateListener(this.caCertificateUpdateListener),(e=this.identityCertificateProvider)===null||e===void 0||e.removeIdentityCertificateListener(this.identityCertificateUpdateListener))}_createSecureConnector(e,t,o){return this.ref(),new r.SecureConnectorImpl(this,e,t,o??Uh.CallCredentials.createEmpty())}maybeUpdateWatchers(){if(this.hasReceivedUpdates()){for(let e of this.secureContextWatchers)e(this.getLatestSecureContext());this.secureContextWatchers=[]}}handleCaCertificateUpdate(e){this.latestCaUpdate=e,this.maybeUpdateWatchers()}handleIdentityCertitificateUpdate(e){this.latestIdentityUpdate=e,this.maybeUpdateWatchers()}hasReceivedUpdates(){return!(this.latestCaUpdate===void 0||this.identityCertificateProvider&&this.latestIdentityUpdate===void 0)}getSecureContext(){return this.hasReceivedUpdates()?Promise.resolve(this.getLatestSecureContext()):new Promise(e=>{this.secureContextWatchers.push(e)})}getLatestSecureContext(){var e,t;if(!this.latestCaUpdate||this.identityCertificateProvider!==null&&!this.latestIdentityUpdate)return null;try{return(0,Sc.createSecureContext)({ca:this.latestCaUpdate.caCertificate,key:(e=this.latestIdentityUpdate)===null||e===void 0?void 0:e.privateKey,cert:(t=this.latestIdentityUpdate)===null||t===void 0?void 0:t.certificate,ciphers:yv.CIPHER_SUITES})}catch(o){return(0,ece.log)(tce.LogVerbosity.ERROR,"Failed to createSecureContext with error "+o.message),null}}};Dh.SecureConnectorImpl=class{constructor(r,e,t,o){this.parent=r,this.channelTarget=e,this.options=t,this.callCredentials=o}connect(r){return new Promise((e,t)=>{let o=this.parent.getLatestSecureContext();if(!o){t(new Error("Failed to load credentials"));return}r.closed&&t(new Error("Socket closed while loading credentials"));let s=g3(o,this.parent.verifyOptions,this.channelTarget,this.options),a=Object.assign({socket:r},s),i=()=>{t(new Error("Socket closed"))},n=c=>{t(c)},l=(0,Sc.connect)(a,()=>{var c;if(l.removeListener("close",i),l.removeListener("error",n),(!((c=this.parent.verifyOptions.rejectUnauthorized)!==null&&c!==void 0)||c)&&!l.authorized){t(l.authorizationError);return}e({socket:l,secure:!0})});l.once("close",i),l.once("error",n)})}async waitForReady(){await this.parent.getSecureContext()}getCallCredentials(){return this.callCredentials}destroy(){this.parent.unref()}};function rce(r,e,t){return new Dh(r,e,t??{})}var Rv=class r extends oo{constructor(e,t){if(super(),this.channelCredentials=e,this.callCredentials=t,!e._isSecure())throw new Error("Cannot compose insecure credentials")}compose(e){let t=this.callCredentials.compose(e);return new r(this.channelCredentials,t)}_isSecure(){return!0}_equals(e){return this===e?!0:e instanceof r?this.channelCredentials._equals(e.channelCredentials)&&this.callCredentials._equals(e.callCredentials):!1}_createSecureConnector(e,t,o){let s=this.callCredentials.compose(o??Uh.CallCredentials.createEmpty());return this.channelCredentials._createSecureConnector(e,t,s)}}});var so=T(Yr=>{"use strict";Object.defineProperty(Yr,"__esModule",{value:!0});Yr.createChildChannelControlHelper=oce;Yr.registerLoadBalancerType=sce;Yr.registerDefaultLoadBalancerType=ace;Yr.createLoadBalancer=lce;Yr.isLoadBalancerNameRegistered=cce;Yr.parseLoadBalancingConfig=v3;Yr.getDefaultConfig=uce;Yr.selectLbConfigFromList=fce;var nce=Pe(),ice=ue();function oce(r,e){var t,o,s,a,i,n,l,c,u,f;return{createSubchannel:(o=(t=e.createSubchannel)===null||t===void 0?void 0:t.bind(e))!==null&&o!==void 0?o:r.createSubchannel.bind(r),updateState:(a=(s=e.updateState)===null||s===void 0?void 0:s.bind(e))!==null&&a!==void 0?a:r.updateState.bind(r),requestReresolution:(n=(i=e.requestReresolution)===null||i===void 0?void 0:i.bind(e))!==null&&n!==void 0?n:r.requestReresolution.bind(r),addChannelzChild:(c=(l=e.addChannelzChild)===null||l===void 0?void 0:l.bind(e))!==null&&c!==void 0?c:r.addChannelzChild.bind(r),removeChannelzChild:(f=(u=e.removeChannelzChild)===null||u===void 0?void 0:u.bind(e))!==null&&f!==void 0?f:r.removeChannelzChild.bind(r)}}var Zn={},yc=null;function sce(r,e,t){Zn[r]={LoadBalancer:e,LoadBalancingConfig:t}}function ace(r){yc=r}function lce(r,e){let t=r.getLoadBalancerName();return t in Zn?new Zn[t].LoadBalancer(e):null}function cce(r){return r in Zn}function v3(r){let e=Object.keys(r);if(e.length!==1)throw new Error("Provided load balancing config has multiple conflicting entries");let t=e[0];if(t in Zn)try{return Zn[t].LoadBalancingConfig.createFromJson(r[t])}catch(o){throw new Error(`${t}: ${o.message}`)}else throw new Error(`Unrecognized load balancing config name ${t}`)}function uce(){if(!yc)throw new Error("No default load balancer type registered");return new Zn[yc].LoadBalancingConfig}function fce(r,e=!1){for(let t of r)try{return v3(t)}catch(o){(0,nce.log)(ice.LogVerbosity.DEBUG,"Config parsing failed with error",o.message);continue}return e&&yc?new Zn[yc].LoadBalancingConfig:null}});var Nv=T(Oc=>{"use strict";Object.defineProperty(Oc,"__esModule",{value:!0});Oc.validateRetryThrottling=y3;Oc.validateServiceConfig=O3;Oc.extractAndSelectServiceConfig=vce;var pce=V("os"),kh=ue(),Bh=/^\d+(\.\d{1,9})?s$/,dce="node";function hce(r){if("service"in r&&r.service!==""){if(typeof r.service!="string")throw new Error(`Invalid method config name: invalid service: expected type string, got ${typeof r.service}`);if("method"in r&&r.method!==""){if(typeof r.method!="string")throw new Error(`Invalid method config name: invalid method: expected type string, got ${typeof r.service}`);return{service:r.service,method:r.method}}else return{service:r.service}}else{if("method"in r&&r.method!==void 0)throw new Error("Invalid method config name: method set with empty or unset service");return{}}}function _ce(r){if(!("maxAttempts"in r)||!Number.isInteger(r.maxAttempts)||r.maxAttempts<2)throw new Error("Invalid method config retry policy: maxAttempts must be an integer at least 2");if(!("initialBackoff"in r)||typeof r.initialBackoff!="string"||!Bh.test(r.initialBackoff))throw new Error("Invalid method config retry policy: initialBackoff must be a string consisting of a positive integer or decimal followed by s");if(!("maxBackoff"in r)||typeof r.maxBackoff!="string"||!Bh.test(r.maxBackoff))throw new Error("Invalid method config retry policy: maxBackoff must be a string consisting of a positive integer or decimal followed by s");if(!("backoffMultiplier"in r)||typeof r.backoffMultiplier!="number"||r.backoffMultiplier<=0)throw new Error("Invalid method config retry policy: backoffMultiplier must be a number greater than 0");if(!("retryableStatusCodes"in r&&Array.isArray(r.retryableStatusCodes)))throw new Error("Invalid method config retry policy: retryableStatusCodes is required");if(r.retryableStatusCodes.length===0)throw new Error("Invalid method config retry policy: retryableStatusCodes must be non-empty");for(let e of r.retryableStatusCodes)if(typeof e=="number"){if(!Object.values(kh.Status).includes(e))throw new Error("Invalid method config retry policy: retryableStatusCodes value not in status code range")}else if(typeof e=="string"){if(!Object.values(kh.Status).includes(e.toUpperCase()))throw new Error("Invalid method config retry policy: retryableStatusCodes value not a status code name")}else throw new Error("Invalid method config retry policy: retryableStatusCodes value must be a string or number");return{maxAttempts:r.maxAttempts,initialBackoff:r.initialBackoff,maxBackoff:r.maxBackoff,backoffMultiplier:r.backoffMultiplier,retryableStatusCodes:r.retryableStatusCodes}}function Ece(r){if(!("maxAttempts"in r)||!Number.isInteger(r.maxAttempts)||r.maxAttempts<2)throw new Error("Invalid method config hedging policy: maxAttempts must be an integer at least 2");if("hedgingDelay"in r&&(typeof r.hedgingDelay!="string"||!Bh.test(r.hedgingDelay)))throw new Error("Invalid method config hedging policy: hedgingDelay must be a string consisting of a positive integer followed by s");if("nonFatalStatusCodes"in r&&Array.isArray(r.nonFatalStatusCodes))for(let t of r.nonFatalStatusCodes)if(typeof t=="number"){if(!Object.values(kh.Status).includes(t))throw new Error("Invalid method config hedging policy: nonFatalStatusCodes value not in status code range")}else if(typeof t=="string"){if(!Object.values(kh.Status).includes(t.toUpperCase()))throw new Error("Invalid method config hedging policy: nonFatalStatusCodes value not a status code name")}else throw new Error("Invalid method config hedging policy: nonFatalStatusCodes value must be a string or number");let e={maxAttempts:r.maxAttempts};return r.hedgingDelay&&(e.hedgingDelay=r.hedgingDelay),r.nonFatalStatusCodes&&(e.nonFatalStatusCodes=r.nonFatalStatusCodes),e}function mce(r){var e;let t={name:[]};if(!("name"in r)||!Array.isArray(r.name))throw new Error("Invalid method config: invalid name array");for(let o of r.name)t.name.push(hce(o));if("waitForReady"in r){if(typeof r.waitForReady!="boolean")throw new Error("Invalid method config: invalid waitForReady");t.waitForReady=r.waitForReady}if("timeout"in r)if(typeof r.timeout=="object"){if(!("seconds"in r.timeout)||typeof r.timeout.seconds!="number")throw new Error("Invalid method config: invalid timeout.seconds");if(!("nanos"in r.timeout)||typeof r.timeout.nanos!="number")throw new Error("Invalid method config: invalid timeout.nanos");t.timeout=r.timeout}else if(typeof r.timeout=="string"&&Bh.test(r.timeout)){let o=r.timeout.substring(0,r.timeout.length-1).split(".");t.timeout={seconds:o[0]|0,nanos:((e=o[1])!==null&&e!==void 0?e:0)|0}}else throw new Error("Invalid method config: invalid timeout");if("maxRequestBytes"in r){if(typeof r.maxRequestBytes!="number")throw new Error("Invalid method config: invalid maxRequestBytes");t.maxRequestBytes=r.maxRequestBytes}if("maxResponseBytes"in r){if(typeof r.maxResponseBytes!="number")throw new Error("Invalid method config: invalid maxRequestBytes");t.maxResponseBytes=r.maxResponseBytes}if("retryPolicy"in r){if("hedgingPolicy"in r)throw new Error("Invalid method config: retryPolicy and hedgingPolicy cannot both be specified");t.retryPolicy=_ce(r.retryPolicy)}else"hedgingPolicy"in r&&(t.hedgingPolicy=Ece(r.hedgingPolicy));return t}function y3(r){if(!("maxTokens"in r)||typeof r.maxTokens!="number"||r.maxTokens<=0||r.maxTokens>1e3)throw new Error("Invalid retryThrottling: maxTokens must be a number in (0, 1000]");if(!("tokenRatio"in r)||typeof r.tokenRatio!="number"||r.tokenRatio<=0)throw new Error("Invalid retryThrottling: tokenRatio must be a number greater than 0");return{maxTokens:+r.maxTokens.toFixed(3),tokenRatio:+r.tokenRatio.toFixed(3)}}function Tce(r){if(!(typeof r=="object"&&r!==null))throw new Error(`Invalid loadBalancingConfig: unexpected type ${typeof r}`);let e=Object.keys(r);if(e.length>1)throw new Error(`Invalid loadBalancingConfig: unexpected multiple keys ${e}`);if(e.length===0)throw new Error("Invalid loadBalancingConfig: load balancing policy name required");return{[e[0]]:r[e[0]]}}function O3(r){let e={loadBalancingConfig:[],methodConfig:[]};if("loadBalancingPolicy"in r)if(typeof r.loadBalancingPolicy=="string")e.loadBalancingPolicy=r.loadBalancingPolicy;else throw new Error("Invalid service config: invalid loadBalancingPolicy");if("loadBalancingConfig"in r)if(Array.isArray(r.loadBalancingConfig))for(let o of r.loadBalancingConfig)e.loadBalancingConfig.push(Tce(o));else throw new Error("Invalid service config: invalid loadBalancingConfig");if("methodConfig"in r&&Array.isArray(r.methodConfig))for(let o of r.methodConfig)e.methodConfig.push(mce(o));"retryThrottling"in r&&(e.retryThrottling=y3(r.retryThrottling));let t=[];for(let o of e.methodConfig)for(let s of o.name){for(let a of t)if(s.service===a.service&&s.method===a.method)throw new Error(`Invalid service config: duplicate name ${s.service}/${s.method}`);t.push(s)}return e}function Sce(r){if(!("serviceConfig"in r))throw new Error("Invalid service config choice: missing service config");let e={serviceConfig:O3(r.serviceConfig)};if("clientLanguage"in r)if(Array.isArray(r.clientLanguage)){e.clientLanguage=[];for(let o of r.clientLanguage)if(typeof o=="string")e.clientLanguage.push(o);else throw new Error("Invalid service config choice: invalid clientLanguage")}else throw new Error("Invalid service config choice: invalid clientLanguage");if("clientHostname"in r)if(Array.isArray(r.clientHostname)){e.clientHostname=[];for(let o of r.clientHostname)if(typeof o=="string")e.clientHostname.push(o);else throw new Error("Invalid service config choice: invalid clientHostname")}else throw new Error("Invalid service config choice: invalid clientHostname");if("percentage"in r)if(typeof r.percentage=="number"&&0<=r.percentage&&r.percentage<=100)e.percentage=r.percentage;else throw new Error("Invalid service config choice: invalid percentage");let t=["clientLanguage","percentage","clientHostname","serviceConfig"];for(let o in r)if(!t.includes(o))throw new Error(`Invalid service config choice: unexpected field ${o}`);return e}function gce(r,e){if(!Array.isArray(r))throw new Error("Invalid service config list");for(let t of r){let o=Sce(t);if(!(typeof o.percentage=="number"&&e>o.percentage)){if(Array.isArray(o.clientHostname)){let s=!1;for(let a of o.clientHostname)a===pce.hostname()&&(s=!0);if(!s)continue}if(Array.isArray(o.clientLanguage)){let s=!1;for(let a of o.clientLanguage)a===dce&&(s=!0);if(!s)continue}return o.serviceConfig}}throw new Error("No matching service config found")}function vce(r,e){for(let t of r)if(t.length>0&&t[0].startsWith("grpc_config=")){let o=t.join("").substring(12),s=JSON.parse(o);return gce(s,e)}return null}});var tr=T(Vh=>{"use strict";Object.defineProperty(Vh,"__esModule",{value:!0});Vh.ConnectivityState=void 0;var A3;(function(r){r[r.IDLE=0]="IDLE",r[r.CONNECTING=1]="CONNECTING",r[r.READY=2]="READY",r[r.TRANSIENT_FAILURE=3]="TRANSIENT_FAILURE",r[r.SHUTDOWN=4]="SHUTDOWN"})(A3||(Vh.ConnectivityState=A3={}))});var ti=T(ei=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0});ei.QueuePicker=ei.UnavailablePicker=ei.PickResultType=void 0;var yce=ht(),Oce=ue(),Fh;(function(r){r[r.COMPLETE=0]="COMPLETE",r[r.QUEUE=1]="QUEUE",r[r.TRANSIENT_FAILURE=2]="TRANSIENT_FAILURE",r[r.DROP=3]="DROP"})(Fh||(ei.PickResultType=Fh={}));var Cv=class{constructor(e){this.status=Object.assign({code:Oce.Status.UNAVAILABLE,details:"No connection established",metadata:new yce.Metadata},e)}pick(e){return{pickResultType:Fh.TRANSIENT_FAILURE,subchannel:null,status:this.status,onCallStarted:null,onCallEnded:null}}};ei.UnavailablePicker=Cv;var Pv=class{constructor(e,t){this.loadBalancer=e,this.childPicker=t,this.calledExitIdle=!1}pick(e){return this.calledExitIdle||(process.nextTick(()=>{this.loadBalancer.exitIdle()}),this.calledExitIdle=!0),this.childPicker?this.childPicker.pick(e):{pickResultType:Fh.QUEUE,subchannel:null,status:null,onCallStarted:null,onCallEnded:null}}};ei.QueuePicker=Pv});var Ac=T(Hh=>{"use strict";Object.defineProperty(Hh,"__esModule",{value:!0});Hh.BackoffTimeout=void 0;var Ace=ue(),Rce=Pe(),Nce="backoff",Cce=1e3,Pce=1.6,Ice=12e4,bce=.2;function Lce(r,e){return Math.random()*(e-r)+r}var Gh=class r{constructor(e,t){this.callback=e,this.initialDelay=Cce,this.multiplier=Pce,this.maxDelay=Ice,this.jitter=bce,this.running=!1,this.hasRef=!0,this.startTime=new Date,this.endTime=new Date,this.id=r.getNextId(),t&&(t.initialDelay&&(this.initialDelay=t.initialDelay),t.multiplier&&(this.multiplier=t.multiplier),t.jitter&&(this.jitter=t.jitter),t.maxDelay&&(this.maxDelay=t.maxDelay)),this.trace("constructed initialDelay="+this.initialDelay+" multiplier="+this.multiplier+" jitter="+this.jitter+" maxDelay="+this.maxDelay),this.nextDelay=this.initialDelay,this.timerId=setTimeout(()=>{},0),clearTimeout(this.timerId)}static getNextId(){return this.nextId++}trace(e){Rce.trace(Ace.LogVerbosity.DEBUG,Nce,"{"+this.id+"} "+e)}runTimer(e){var t,o;this.trace("runTimer(delay="+e+")"),this.endTime=this.startTime,this.endTime.setMilliseconds(this.endTime.getMilliseconds()+e),clearTimeout(this.timerId),this.timerId=setTimeout(()=>{this.trace("timer fired"),this.running=!1,this.callback()},e),this.hasRef||(o=(t=this.timerId).unref)===null||o===void 0||o.call(t)}runOnce(){this.trace("runOnce()"),this.running=!0,this.startTime=new Date,this.runTimer(this.nextDelay);let e=Math.min(this.nextDelay*this.multiplier,this.maxDelay),t=e*this.jitter;this.nextDelay=e+Lce(-t,t)}stop(){this.trace("stop()"),clearTimeout(this.timerId),this.running=!1}reset(){if(this.trace("reset() running="+this.running),this.nextDelay=this.initialDelay,this.running){let e=new Date,t=this.startTime;t.setMilliseconds(t.getMilliseconds()+this.nextDelay),clearTimeout(this.timerId),e<t?this.runTimer(t.getTime()-e.getTime()):this.running=!1}}isRunning(){return this.running}ref(){var e,t;this.hasRef=!0,(t=(e=this.timerId).ref)===null||t===void 0||t.call(e)}unref(){var e,t;this.hasRef=!1,(t=(e=this.timerId).unref)===null||t===void 0||t.call(e)}getEndTime(){return this.endTime}};Hh.BackoffTimeout=Gh;Gh.nextId=0});var jh=T(qh=>{"use strict";Object.defineProperty(qh,"__esModule",{value:!0});qh.ChildLoadBalancerHandler=void 0;var xce=so(),Mce=tr(),wce="child_load_balancer_helper",Iv=class{constructor(e){this.channelControlHelper=e,this.currentChild=null,this.pendingChild=null,this.latestConfig=null,this.ChildPolicyHelper=class{constructor(t){this.parent=t,this.child=null}createSubchannel(t,o){return this.parent.channelControlHelper.createSubchannel(t,o)}updateState(t,o,s){var a;if(this.calledByPendingChild()){if(t===Mce.ConnectivityState.CONNECTING)return;(a=this.parent.currentChild)===null||a===void 0||a.destroy(),this.parent.currentChild=this.parent.pendingChild,this.parent.pendingChild=null}else if(!this.calledByCurrentChild())return;this.parent.channelControlHelper.updateState(t,o,s)}requestReresolution(){var t;let o=(t=this.parent.pendingChild)!==null&&t!==void 0?t:this.parent.currentChild;this.child===o&&this.parent.channelControlHelper.requestReresolution()}setChild(t){this.child=t}addChannelzChild(t){this.parent.channelControlHelper.addChannelzChild(t)}removeChannelzChild(t){this.parent.channelControlHelper.removeChannelzChild(t)}calledByPendingChild(){return this.child===this.parent.pendingChild}calledByCurrentChild(){return this.child===this.parent.currentChild}}}configUpdateRequiresNewPolicyInstance(e,t){return e.getLoadBalancerName()!==t.getLoadBalancerName()}updateAddressList(e,t,o){let s;if(this.currentChild===null||this.latestConfig===null||this.configUpdateRequiresNewPolicyInstance(this.latestConfig,t)){let a=new this.ChildPolicyHelper(this),i=(0,xce.createLoadBalancer)(t,a);a.setChild(i),this.currentChild===null?(this.currentChild=i,s=this.currentChild):(this.pendingChild&&this.pendingChild.destroy(),this.pendingChild=i,s=this.pendingChild)}else this.pendingChild===null?s=this.currentChild:s=this.pendingChild;this.latestConfig=t,s.updateAddressList(e,t,o)}exitIdle(){this.currentChild&&(this.currentChild.exitIdle(),this.pendingChild&&this.pendingChild.exitIdle())}resetBackoff(){this.currentChild&&(this.currentChild.resetBackoff(),this.pendingChild&&this.pendingChild.resetBackoff())}destroy(){this.currentChild&&(this.currentChild.destroy(),this.currentChild=null),this.pendingChild&&(this.pendingChild.destroy(),this.pendingChild=null)}getTypeName(){return wce}};qh.ChildLoadBalancerHandler=Iv});var N3=T(Yh=>{"use strict";Object.defineProperty(Yh,"__esModule",{value:!0});Yh.ResolvingLoadBalancer=void 0;var Dce=so(),Uce=Nv(),It=tr(),kce=jr(),Rc=ti(),Bce=Ac(),bv=ue(),Vce=ht(),Fce=Pe(),Gce=ue(),Hce=Pt(),qce=jh(),jce="resolving_load_balancer";function R3(r){Fce.trace(Gce.LogVerbosity.DEBUG,jce,r)}var Yce=["SERVICE_AND_METHOD","SERVICE","EMPTY"];function Kce(r,e,t,o){for(let s of t.name)switch(o){case"EMPTY":if(!s.service&&!s.method)return!0;break;case"SERVICE":if(s.service===r&&!s.method)return!0;break;case"SERVICE_AND_METHOD":if(s.service===r&&s.method===e)return!0}return!1}function zce(r,e,t,o){for(let s of t)if(Kce(r,e,s,o))return s;return null}function $ce(r){return{invoke(e,t){var o,s;let a=e.split("/").filter(l=>l.length>0),i=(o=a[0])!==null&&o!==void 0?o:"",n=(s=a[1])!==null&&s!==void 0?s:"";if(r&&r.methodConfig)for(let l of Yce){let c=zce(i,n,r.methodConfig,l);if(c)return{methodConfig:c,pickInformation:{},status:bv.Status.OK,dynamicFilterFactories:[]}}return{methodConfig:{name:[]},pickInformation:{},status:bv.Status.OK,dynamicFilterFactories:[]}},unref(){}}}var Lv=class{constructor(e,t,o,s,a){this.target=e,this.channelControlHelper=t,this.channelOptions=o,this.onSuccessfulResolution=s,this.onFailedResolution=a,this.latestChildState=It.ConnectivityState.IDLE,this.latestChildPicker=new Rc.QueuePicker(this),this.latestChildErrorMessage=null,this.currentState=It.ConnectivityState.IDLE,this.previousServiceConfig=null,this.continueResolving=!1,o["grpc.service_config"]?this.defaultServiceConfig=(0,Uce.validateServiceConfig)(JSON.parse(o["grpc.service_config"])):this.defaultServiceConfig={loadBalancingConfig:[],methodConfig:[]},this.updateState(It.ConnectivityState.IDLE,new Rc.QueuePicker(this),null),this.childLoadBalancer=new qce.ChildLoadBalancerHandler({createSubchannel:t.createSubchannel.bind(t),requestReresolution:()=>{this.backoffTimeout.isRunning()?(R3("requestReresolution delayed by backoff timer until "+this.backoffTimeout.getEndTime().toISOString()),this.continueResolving=!0):this.updateResolution()},updateState:(n,l,c)=>{this.latestChildState=n,this.latestChildPicker=l,this.latestChildErrorMessage=c,this.updateState(n,l,c)},addChannelzChild:t.addChannelzChild.bind(t),removeChannelzChild:t.removeChannelzChild.bind(t)}),this.innerResolver=(0,kce.createResolver)(e,{onSuccessfulResolution:(n,l,c,u,f)=>{var _;this.backoffTimeout.stop(),this.backoffTimeout.reset();let m=null;l===null?c===null?(this.previousServiceConfig=null,m=this.defaultServiceConfig):this.previousServiceConfig===null?this.handleResolutionFailure(c):m=this.previousServiceConfig:(m=l,this.previousServiceConfig=l);let O=(_=m==null?void 0:m.loadBalancingConfig)!==null&&_!==void 0?_:[],y=(0,Dce.selectLbConfigFromList)(O,!0);if(y===null){this.handleResolutionFailure({code:bv.Status.UNAVAILABLE,details:"All load balancer options in service config are not compatible",metadata:new Vce.Metadata}),u==null||u.unref();return}this.childLoadBalancer.updateAddressList(n,y,Object.assign(Object.assign({},this.channelOptions),f));let A=m??this.defaultServiceConfig;this.onSuccessfulResolution(A,u??$ce(A))},onError:n=>{this.handleResolutionFailure(n)}},o);let i={initialDelay:o["grpc.initial_reconnect_backoff_ms"],maxDelay:o["grpc.max_reconnect_backoff_ms"]};this.backoffTimeout=new Bce.BackoffTimeout(()=>{this.continueResolving?(this.updateResolution(),this.continueResolving=!1):this.updateState(this.latestChildState,this.latestChildPicker,this.latestChildErrorMessage)},i),this.backoffTimeout.unref()}updateResolution(){this.innerResolver.updateResolution(),this.currentState===It.ConnectivityState.IDLE&&this.updateState(It.ConnectivityState.CONNECTING,this.latestChildPicker,this.latestChildErrorMessage),this.backoffTimeout.runOnce()}updateState(e,t,o){R3((0,Hce.uriToString)(this.target)+" "+It.ConnectivityState[this.currentState]+" -> "+It.ConnectivityState[e]),e===It.ConnectivityState.IDLE&&(t=new Rc.QueuePicker(this,t)),this.currentState=e,this.channelControlHelper.updateState(e,t,o)}handleResolutionFailure(e){this.latestChildState===It.ConnectivityState.IDLE&&(this.updateState(It.ConnectivityState.TRANSIENT_FAILURE,new Rc.UnavailablePicker(e),e.details),this.onFailedResolution(e))}exitIdle(){(this.currentState===It.ConnectivityState.IDLE||this.currentState===It.ConnectivityState.TRANSIENT_FAILURE)&&(this.backoffTimeout.isRunning()?this.continueResolving=!0:this.updateResolution()),this.childLoadBalancer.exitIdle()}updateAddressList(e,t){throw new Error("updateAddressList not supported on ResolvingLoadBalancer")}resetBackoff(){this.backoffTimeout.reset(),this.childLoadBalancer.resetBackoff()}destroy(){this.childLoadBalancer.destroy(),this.innerResolver.destroy(),this.backoffTimeout.reset(),this.backoffTimeout.stop(),this.latestChildState=It.ConnectivityState.IDLE,this.latestChildPicker=new Rc.QueuePicker(this),this.currentState=It.ConnectivityState.IDLE,this.previousServiceConfig=null,this.continueResolving=!1}getTypeName(){return"resolving_load_balancer"}};Yh.ResolvingLoadBalancer=Lv});var C3=T(Nc=>{"use strict";Object.defineProperty(Nc,"__esModule",{value:!0});Nc.recognizedOptions=void 0;Nc.channelOptionsEqual=Xce;Nc.recognizedOptions={"grpc.ssl_target_name_override":!0,"grpc.primary_user_agent":!0,"grpc.secondary_user_agent":!0,"grpc.default_authority":!0,"grpc.keepalive_time_ms":!0,"grpc.keepalive_timeout_ms":!0,"grpc.keepalive_permit_without_calls":!0,"grpc.service_config":!0,"grpc.max_concurrent_streams":!0,"grpc.initial_reconnect_backoff_ms":!0,"grpc.max_reconnect_backoff_ms":!0,"grpc.use_local_subchannel_pool":!0,"grpc.max_send_message_length":!0,"grpc.max_receive_message_length":!0,"grpc.enable_http_proxy":!0,"grpc.enable_channelz":!0,"grpc.dns_min_time_between_resolutions_ms":!0,"grpc.enable_retries":!0,"grpc.per_rpc_retry_buffer_size":!0,"grpc.retry_buffer_size":!0,"grpc.max_connection_age_ms":!0,"grpc.max_connection_age_grace_ms":!0,"grpc-node.max_session_memory":!0,"grpc.service_config_disable_resolution":!0,"grpc.client_idle_timeout_ms":!0,"grpc-node.tls_enable_trace":!0,"grpc.lb.ring_hash.ring_size_cap":!0,"grpc-node.retry_max_attempts_limit":!0,"grpc-node.flow_control_window":!0};function Xce(r,e){let t=Object.keys(r).sort(),o=Object.keys(e).sort();if(t.length!==o.length)return!1;for(let s=0;s<t.length;s+=1)if(t[s]!==o[s]||r[t[s]]!==e[o[s]])return!1;return!0}});var rr=T(Sr=>{"use strict";Object.defineProperty(Sr,"__esModule",{value:!0});Sr.EndpointMap=void 0;Sr.isTcpSubchannelAddress=Pc;Sr.subchannelAddressEqual=Kh;Sr.subchannelAddressToString=I3;Sr.stringToSubchannelAddress=Jce;Sr.endpointEqual=Qce;Sr.endpointToString=Zce;Sr.endpointHasAddress=b3;var P3=V("net");function Pc(r){return"port"in r}function Kh(r,e){return!r&&!e?!0:!r||!e?!1:Pc(r)?Pc(e)&&r.host===e.host&&r.port===e.port:!Pc(e)&&r.path===e.path}function I3(r){return Pc(r)?(0,P3.isIPv6)(r.host)?"["+r.host+"]:"+r.port:r.host+":"+r.port:r.path}var Wce=443;function Jce(r,e){return(0,P3.isIP)(r)?{host:r,port:e??Wce}:{path:r}}function Qce(r,e){if(r.addresses.length!==e.addresses.length)return!1;for(let t=0;t<r.addresses.length;t++)if(!Kh(r.addresses[t],e.addresses[t]))return!1;return!0}function Zce(r){return"["+r.addresses.map(I3).join(", ")+"]"}function b3(r,e){for(let t of r.addresses)if(Kh(t,e))return!0;return!1}function Cc(r,e){if(r.addresses.length!==e.addresses.length)return!1;for(let t of r.addresses){let o=!1;for(let s of e.addresses)if(Kh(t,s)){o=!0;break}if(!o)return!1}return!0}var xv=class{constructor(){this.map=new Set}get size(){return this.map.size}getForSubchannelAddress(e){for(let t of this.map)if(b3(t.key,e))return t.value}deleteMissing(e){let t=[];for(let o of this.map){let s=!1;for(let a of e)Cc(a,o.key)&&(s=!0);s||(t.push(o.value),this.map.delete(o))}return t}get(e){for(let t of this.map)if(Cc(e,t.key))return t.value}set(e,t){for(let o of this.map)if(Cc(e,o.key)){o.value=t;return}this.map.add({key:e,value:t})}delete(e){for(let t of this.map)if(Cc(e,t.key)){this.map.delete(t);return}}has(e){for(let t of this.map)if(Cc(e,t.key))return!0;return!1}clear(){this.map.clear()}*keys(){for(let e of this.map)yield e.key}*values(){for(let e of this.map)yield e.value}*entries(){for(let e of this.map)yield[e.key,e.value]}};Sr.EndpointMap=xv});var x3={};Ae(x3,{OrderedMap:()=>aue});function ia(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Mv(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function eue(r,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},o,s,a,i;return i={next:n(0),throw:n(1),return:n(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function n(c){return function(u){return l([c,u])}}function l(c){if(o)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(t=0)),t;)try{if(o=1,s&&(a=c[0]&2?s.return:c[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,c[1])).done)return a;switch(s=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,s=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){t.label=c[1];break}if(c[0]===6&&t.label<a[1]){t.label=a[1],a=c;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(c);break}a[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(r,t)}catch(u){c=[6,u],s=0}finally{o=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function ao(){throw new RangeError("Iterator access denied!")}var Mv,L3,tue,rue,nue,iue,oue,sue,En,aue,M3=p(()=>{Mv=function(r,e){return Mv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])},Mv(r,e)};L3=(function(){function r(e,t,o){o===void 0&&(o=1),this.t=void 0,this.i=void 0,this.h=void 0,this.u=e,this.o=t,this.l=o}return r.prototype.v=function(){var e=this,t=e.h.h===e;if(t&&e.l===1)e=e.i;else if(e.t)for(e=e.t;e.i;)e=e.i;else{if(t)return e.h;for(var o=e.h;o.t===e;)e=o,o=e.h;e=o}return e},r.prototype.p=function(){var e=this;if(e.i){for(e=e.i;e.t;)e=e.t;return e}else{for(var t=e.h;t.i===e;)e=t,t=e.h;return e.i!==t?t:e}},r.prototype.T=function(){var e=this.h,t=this.i,o=t.t;return e.h===this?e.h=t:e.t===this?e.t=t:e.i=t,t.h=e,t.t=this,this.h=t,this.i=o,o&&(o.h=this),t},r.prototype.I=function(){var e=this.h,t=this.t,o=t.i;return e.h===this?e.h=t:e.t===this?e.t=t:e.i=t,t.h=e,t.i=this,this.h=t,this.t=o,o&&(o.h=this),t},r})(),tue=(function(r){ia(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.O=1,t}return e.prototype.T=function(){var t=r.prototype.T.call(this);return this.M(),t.M(),t},e.prototype.I=function(){var t=r.prototype.I.call(this);return this.M(),t.M(),t},e.prototype.M=function(){this.O=1,this.t&&(this.O+=this.t.O),this.i&&(this.O+=this.i.O)},e})(L3),rue=(function(){function r(e){e===void 0&&(e=0),this.iteratorType=e}return r.prototype.equals=function(e){return this.C===e.C},r})(),nue=(function(){function r(){this._=0}return Object.defineProperty(r.prototype,"length",{get:function(){return this._},enumerable:!1,configurable:!0}),r.prototype.size=function(){return this._},r.prototype.empty=function(){return this._===0},r})(),iue=(function(r){ia(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e})(nue);oue=(function(r){ia(e,r);function e(t,o){t===void 0&&(t=function(a,i){return a<i?-1:a>i?1:0}),o===void 0&&(o=!1);var s=r.call(this)||this;return s.N=void 0,s.g=t,s.enableIndex=o,s.S=o?tue:L3,s.A=new s.S,s}return e.prototype.m=function(t,o){for(var s=this.A;t;){var a=this.g(t.u,o);if(a<0)t=t.i;else if(a>0)s=t,t=t.t;else return t}return s},e.prototype.B=function(t,o){for(var s=this.A;t;){var a=this.g(t.u,o);a<=0?t=t.i:(s=t,t=t.t)}return s},e.prototype.j=function(t,o){for(var s=this.A;t;){var a=this.g(t.u,o);if(a<0)s=t,t=t.i;else if(a>0)t=t.t;else return t}return s},e.prototype.k=function(t,o){for(var s=this.A;t;){var a=this.g(t.u,o);a<0?(s=t,t=t.i):t=t.t}return s},e.prototype.R=function(t){for(;;){var o=t.h;if(o===this.A)return;if(t.l===1){t.l=0;return}if(t===o.t){var s=o.i;if(s.l===1)s.l=0,o.l=1,o===this.N?this.N=o.T():o.T();else if(s.i&&s.i.l===1){s.l=o.l,o.l=0,s.i.l=0,o===this.N?this.N=o.T():o.T();return}else s.t&&s.t.l===1?(s.l=1,s.t.l=0,s.I()):(s.l=1,t=o)}else{var s=o.t;if(s.l===1)s.l=0,o.l=1,o===this.N?this.N=o.I():o.I();else if(s.t&&s.t.l===1){s.l=o.l,o.l=0,s.t.l=0,o===this.N?this.N=o.I():o.I();return}else s.i&&s.i.l===1?(s.l=1,s.i.l=0,s.T()):(s.l=1,t=o)}}},e.prototype.G=function(t){if(this._===1){this.clear();return}for(var o=t;o.t||o.i;){if(o.i)for(o=o.i;o.t;)o=o.t;else o=o.t;var s=t.u;t.u=o.u,o.u=s;var a=t.o;t.o=o.o,o.o=a,t=o}this.A.t===o?this.A.t=o.h:this.A.i===o&&(this.A.i=o.h),this.R(o);var i=o.h;if(o===i.t?i.t=void 0:i.i=void 0,this._-=1,this.N.l=0,this.enableIndex)for(;i!==this.A;)i.O-=1,i=i.h},e.prototype.P=function(t){for(var o=typeof t=="number"?t:void 0,s=typeof t=="function"?t:void 0,a=typeof t>"u"?[]:void 0,i=0,n=this.N,l=[];l.length||n;)if(n)l.push(n),n=n.t;else{if(n=l.pop(),i===o)return n;a&&a.push(n),s&&s(n,i,this),i+=1,n=n.i}return a},e.prototype.q=function(t){for(;;){var o=t.h;if(o.l===0)return;var s=o.h;if(o===s.t){var a=s.i;if(a&&a.l===1){if(a.l=o.l=0,s===this.N)return;s.l=1,t=s;continue}else if(t===o.i){if(t.l=0,t.t&&(t.t.h=o),t.i&&(t.i.h=s),o.i=t.t,s.t=t.i,t.t=o,t.i=s,s===this.N)this.N=t,this.A.h=t;else{var i=s.h;i.t===s?i.t=t:i.i=t}t.h=s.h,o.h=t,s.h=t,s.l=1}else{o.l=0,s===this.N?this.N=s.I():s.I(),s.l=1;return}}else{var a=s.t;if(a&&a.l===1){if(a.l=o.l=0,s===this.N)return;s.l=1,t=s;continue}else if(t===o.t){if(t.l=0,t.t&&(t.t.h=s),t.i&&(t.i.h=o),s.i=t.t,o.t=t.i,t.t=s,t.i=o,s===this.N)this.N=t,this.A.h=t;else{var i=s.h;i.t===s?i.t=t:i.i=t}t.h=s.h,o.h=t,s.h=t,s.l=1}else{o.l=0,s===this.N?this.N=s.T():s.T(),s.l=1;return}}this.enableIndex&&(o.M(),s.M(),t.M());return}},e.prototype.D=function(t,o,s){if(this.N===void 0)return this._+=1,this.N=new this.S(t,o,0),this.N.h=this.A,this.A.h=this.A.t=this.A.i=this.N,this._;var a,i=this.A.t,n=this.g(i.u,t);if(n===0)return i.o=o,this._;if(n>0)i.t=new this.S(t,o),i.t.h=i,a=i.t,this.A.t=a;else{var l=this.A.i,c=this.g(l.u,t);if(c===0)return l.o=o,this._;if(c<0)l.i=new this.S(t,o),l.i.h=l,a=l.i,this.A.i=a;else{if(s!==void 0){var u=s.C;if(u!==this.A){var f=this.g(u.u,t);if(f===0)return u.o=o,this._;if(f>0){var _=u.v(),m=this.g(_.u,t);if(m===0)return _.o=o,this._;m<0&&(a=new this.S(t,o),_.i===void 0?(_.i=a,a.h=_):(u.t=a,a.h=u))}}}if(a===void 0)for(a=this.N;;){var O=this.g(a.u,t);if(O>0){if(a.t===void 0){a.t=new this.S(t,o),a.t.h=a,a=a.t;break}a=a.t}else if(O<0){if(a.i===void 0){a.i=new this.S(t,o),a.i.h=a,a=a.i;break}a=a.i}else return a.o=o,this._}}}if(this.enableIndex)for(var y=a.h;y!==this.A;)y.O+=1,y=y.h;return this.q(a),this._+=1,this._},e.prototype.F=function(t,o){for(;t;){var s=this.g(t.u,o);if(s<0)t=t.i;else if(s>0)t=t.t;else return t}return t||this.A},e.prototype.clear=function(){this._=0,this.N=void 0,this.A.h=void 0,this.A.t=this.A.i=void 0},e.prototype.updateKeyByIterator=function(t,o){var s=t.C;if(s===this.A&&ao(),this._===1)return s.u=o,!0;var a=s.p().u;if(s===this.A.t)return this.g(a,o)>0?(s.u=o,!0):!1;var i=s.v().u;return s===this.A.i?this.g(i,o)<0?(s.u=o,!0):!1:this.g(i,o)>=0||this.g(a,o)<=0?!1:(s.u=o,!0)},e.prototype.eraseElementByPos=function(t){if(t<0||t>this._-1)throw new RangeError;var o=this.P(t);return this.G(o),this._},e.prototype.eraseElementByKey=function(t){if(this._===0)return!1;var o=this.F(this.N,t);return o===this.A?!1:(this.G(o),!0)},e.prototype.eraseElementByIterator=function(t){var o=t.C;o===this.A&&ao();var s=o.i===void 0,a=t.iteratorType===0;return a?s&&t.next():(!s||o.t===void 0)&&t.next(),this.G(o),t},e.prototype.getHeight=function(){if(this._===0)return 0;function t(o){return o?Math.max(t(o.t),t(o.i))+1:0}return t(this.N)},e})(iue),sue=(function(r){ia(e,r);function e(t,o,s){var a=r.call(this,s)||this;return a.C=t,a.A=o,a.iteratorType===0?(a.pre=function(){return this.C===this.A.t&&ao(),this.C=this.C.v(),this},a.next=function(){return this.C===this.A&&ao(),this.C=this.C.p(),this}):(a.pre=function(){return this.C===this.A.i&&ao(),this.C=this.C.p(),this},a.next=function(){return this.C===this.A&&ao(),this.C=this.C.v(),this}),a}return Object.defineProperty(e.prototype,"index",{get:function(){var t=this.C,o=this.A.h;if(t===this.A)return o?o.O-1:0;var s=0;for(t.t&&(s+=t.t.O);t!==o;){var a=t.h;t===a.i&&(s+=1,a.t&&(s+=a.t.O)),t=a}return s},enumerable:!1,configurable:!0}),e.prototype.isAccessible=function(){return this.C!==this.A},e})(rue),En=(function(r){ia(e,r);function e(t,o,s,a){var i=r.call(this,t,o,a)||this;return i.container=s,i}return Object.defineProperty(e.prototype,"pointer",{get:function(){this.C===this.A&&ao();var t=this;return new Proxy([],{get:function(o,s){return s==="0"?t.C.u:s==="1"?t.C.o:(o[0]=t.C.u,o[1]=t.C.o,o[s])},set:function(o,s,a){if(s!=="1")throw new TypeError("prop must be 1");return t.C.o=a,!0}})},enumerable:!1,configurable:!0}),e.prototype.copy=function(){return new e(this.C,this.A,this.container,this.iteratorType)},e})(sue),aue=(function(r){ia(e,r);function e(t,o,s){t===void 0&&(t=[]);var a=r.call(this,o,s)||this,i=a;return t.forEach((function(n){i.setElement(n[0],n[1])})),a}return e.prototype.begin=function(){return new En(this.A.t||this.A,this.A,this)},e.prototype.end=function(){return new En(this.A,this.A,this)},e.prototype.rBegin=function(){return new En(this.A.i||this.A,this.A,this,1)},e.prototype.rEnd=function(){return new En(this.A,this.A,this,1)},e.prototype.front=function(){if(this._!==0){var t=this.A.t;return[t.u,t.o]}},e.prototype.back=function(){if(this._!==0){var t=this.A.i;return[t.u,t.o]}},e.prototype.lowerBound=function(t){var o=this.m(this.N,t);return new En(o,this.A,this)},e.prototype.upperBound=function(t){var o=this.B(this.N,t);return new En(o,this.A,this)},e.prototype.reverseLowerBound=function(t){var o=this.j(this.N,t);return new En(o,this.A,this)},e.prototype.reverseUpperBound=function(t){var o=this.k(this.N,t);return new En(o,this.A,this)},e.prototype.forEach=function(t){this.P((function(o,s,a){t([o.u,o.o],s,a)}))},e.prototype.setElement=function(t,o,s){return this.D(t,o,s)},e.prototype.getElementByPos=function(t){if(t<0||t>this._-1)throw new RangeError;var o=this.P(t);return[o.u,o.o]},e.prototype.find=function(t){var o=this.F(this.N,t);return new En(o,this.A,this)},e.prototype.getElementByKey=function(t){var o=this.F(this.N,t);return o.o},e.prototype.union=function(t){var o=this;return t.forEach((function(s){o.setElement(s[0],s[1])})),this._},e.prototype[Symbol.iterator]=function(){var t,o,s,a;return eue(this,(function(i){switch(i.label){case 0:t=this._,o=this.P(),s=0,i.label=1;case 1:return s<t?(a=o[s],[4,[a.u,a.o]]):[3,4];case 2:i.sent(),i.label=3;case 3:return++s,[3,1];case 4:return[2]}}))},e})(oue)});var $h=T(zh=>{"use strict";Object.defineProperty(zh,"__esModule",{value:!0});zh.registerAdminService=lue;zh.addAdminServicesToServer=cue;var w3=[];function lue(r,e){w3.push({getServiceDefinition:r,getHandlers:e})}function cue(r){for(let{getServiceDefinition:e,getHandlers:t}of w3)r.addService(e(),t())}});var D3=T(gr=>{"use strict";Object.defineProperty(gr,"__esModule",{value:!0});gr.ClientDuplexStreamImpl=gr.ClientWritableStreamImpl=gr.ClientReadableStreamImpl=gr.ClientUnaryCallImpl=void 0;gr.callErrorFromStatus=fue;var uue=V("events"),Bv=V("stream"),Ic=ue();function fue(r,e){let t=`${r.code} ${Ic.Status[r.code]}: ${r.details}`,s=`${new Error(t).stack}
for call at
${e}`;return Object.assign(new Error(t),r,{stack:s})}var wv=class extends uue.EventEmitter{constructor(){super()}cancel(){var e;(e=this.call)===null||e===void 0||e.cancelWithStatus(Ic.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return(t=(e=this.call)===null||e===void 0?void 0:e.getPeer())!==null&&t!==void 0?t:"unknown"}};gr.ClientUnaryCallImpl=wv;var Dv=class extends Bv.Readable{constructor(e){super({objectMode:!0}),this.deserialize=e}cancel(){var e;(e=this.call)===null||e===void 0||e.cancelWithStatus(Ic.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return(t=(e=this.call)===null||e===void 0?void 0:e.getPeer())!==null&&t!==void 0?t:"unknown"}_read(e){var t;(t=this.call)===null||t===void 0||t.startRead()}};gr.ClientReadableStreamImpl=Dv;var Uv=class extends Bv.Writable{constructor(e){super({objectMode:!0}),this.serialize=e}cancel(){var e;(e=this.call)===null||e===void 0||e.cancelWithStatus(Ic.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return(t=(e=this.call)===null||e===void 0?void 0:e.getPeer())!==null&&t!==void 0?t:"unknown"}_write(e,t,o){var s;let a={callback:o},i=Number(t);Number.isNaN(i)||(a.flags=i),(s=this.call)===null||s===void 0||s.sendMessageWithContext(a,e)}_final(e){var t;(t=this.call)===null||t===void 0||t.halfClose(),e()}};gr.ClientWritableStreamImpl=Uv;var kv=class extends Bv.Duplex{constructor(e,t){super({objectMode:!0}),this.serialize=e,this.deserialize=t}cancel(){var e;(e=this.call)===null||e===void 0||e.cancelWithStatus(Ic.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return(t=(e=this.call)===null||e===void 0?void 0:e.getPeer())!==null&&t!==void 0?t:"unknown"}_read(e){var t;(t=this.call)===null||t===void 0||t.startRead()}_write(e,t,o){var s;let a={callback:o},i=Number(t);Number.isNaN(i)||(a.flags=i),(s=this.call)===null||s===void 0||s.sendMessageWithContext(a,e)}_final(e){var t;(t=this.call)===null||t===void 0||t.halfClose(),e()}};gr.ClientDuplexStreamImpl=kv});var U3=T(bc=>{"use strict";Object.defineProperty(bc,"__esModule",{value:!0});bc.InterceptingListenerImpl=void 0;bc.isInterceptingListener=pue;function pue(r){return r.onReceiveMetadata!==void 0&&r.onReceiveMetadata.length===1}var Vv=class{constructor(e,t){this.listener=e,this.nextListener=t,this.processingMetadata=!1,this.hasPendingMessage=!1,this.processingMessage=!1,this.pendingStatus=null}processPendingMessage(){this.hasPendingMessage&&(this.nextListener.onReceiveMessage(this.pendingMessage),this.pendingMessage=null,this.hasPendingMessage=!1)}processPendingStatus(){this.pendingStatus&&this.nextListener.onReceiveStatus(this.pendingStatus)}onReceiveMetadata(e){this.processingMetadata=!0,this.listener.onReceiveMetadata(e,t=>{this.processingMetadata=!1,this.nextListener.onReceiveMetadata(t),this.processPendingMessage(),this.processPendingStatus()})}onReceiveMessage(e){this.processingMessage=!0,this.listener.onReceiveMessage(e,t=>{this.processingMessage=!1,this.processingMetadata?(this.pendingMessage=t,this.hasPendingMessage=!0):(this.nextListener.onReceiveMessage(t),this.processPendingStatus())})}onReceiveStatus(e){this.listener.onReceiveStatus(e,t=>{this.processingMetadata||this.processingMessage?this.pendingStatus=t:this.nextListener.onReceiveStatus(t)})}};bc.InterceptingListenerImpl=Vv});var Kv=T(vr=>{"use strict";Object.defineProperty(vr,"__esModule",{value:!0});vr.InterceptingCall=vr.RequesterBuilder=vr.ListenerBuilder=vr.InterceptorConfigurationError=void 0;vr.getInterceptingCall=Eue;var due=ht(),k3=U3(),B3=ue(),V3=Ih(),xc=class r extends Error{constructor(e){super(e),this.name="InterceptorConfigurationError",Error.captureStackTrace(this,r)}};vr.InterceptorConfigurationError=xc;var Gv=class{constructor(){this.metadata=void 0,this.message=void 0,this.status=void 0}withOnReceiveMetadata(e){return this.metadata=e,this}withOnReceiveMessage(e){return this.message=e,this}withOnReceiveStatus(e){return this.status=e,this}build(){return{onReceiveMetadata:this.metadata,onReceiveMessage:this.message,onReceiveStatus:this.status}}};vr.ListenerBuilder=Gv;var Hv=class{constructor(){this.start=void 0,this.message=void 0,this.halfClose=void 0,this.cancel=void 0}withStart(e){return this.start=e,this}withSendMessage(e){return this.message=e,this}withHalfClose(e){return this.halfClose=e,this}withCancel(e){return this.cancel=e,this}build(){return{start:this.start,sendMessage:this.message,halfClose:this.halfClose,cancel:this.cancel}}};vr.RequesterBuilder=Hv;var Fv={onReceiveMetadata:(r,e)=>{e(r)},onReceiveMessage:(r,e)=>{e(r)},onReceiveStatus:(r,e)=>{e(r)}},Lc={start:(r,e,t)=>{t(r,e)},sendMessage:(r,e)=>{e(r)},halfClose:r=>{r()},cancel:r=>{r()}},qv=class{constructor(e,t){var o,s,a,i;this.nextCall=e,this.processingMetadata=!1,this.pendingMessageContext=null,this.processingMessage=!1,this.pendingHalfClose=!1,t?this.requester={start:(o=t.start)!==null&&o!==void 0?o:Lc.start,sendMessage:(s=t.sendMessage)!==null&&s!==void 0?s:Lc.sendMessage,halfClose:(a=t.halfClose)!==null&&a!==void 0?a:Lc.halfClose,cancel:(i=t.cancel)!==null&&i!==void 0?i:Lc.cancel}:this.requester=Lc}cancelWithStatus(e,t){this.requester.cancel(()=>{this.nextCall.cancelWithStatus(e,t)})}getPeer(){return this.nextCall.getPeer()}processPendingMessage(){this.pendingMessageContext&&(this.nextCall.sendMessageWithContext(this.pendingMessageContext,this.pendingMessage),this.pendingMessageContext=null,this.pendingMessage=null)}processPendingHalfClose(){this.pendingHalfClose&&this.nextCall.halfClose()}start(e,t){var o,s,a,i,n,l;let c={onReceiveMetadata:(s=(o=t==null?void 0:t.onReceiveMetadata)===null||o===void 0?void 0:o.bind(t))!==null&&s!==void 0?s:(u=>{}),onReceiveMessage:(i=(a=t==null?void 0:t.onReceiveMessage)===null||a===void 0?void 0:a.bind(t))!==null&&i!==void 0?i:(u=>{}),onReceiveStatus:(l=(n=t==null?void 0:t.onReceiveStatus)===null||n===void 0?void 0:n.bind(t))!==null&&l!==void 0?l:(u=>{})};this.processingMetadata=!0,this.requester.start(e,c,(u,f)=>{var _,m,O;this.processingMetadata=!1;let y;if((0,k3.isInterceptingListener)(f))y=f;else{let A={onReceiveMetadata:(_=f.onReceiveMetadata)!==null&&_!==void 0?_:Fv.onReceiveMetadata,onReceiveMessage:(m=f.onReceiveMessage)!==null&&m!==void 0?m:Fv.onReceiveMessage,onReceiveStatus:(O=f.onReceiveStatus)!==null&&O!==void 0?O:Fv.onReceiveStatus};y=new k3.InterceptingListenerImpl(A,c)}this.nextCall.start(u,y),this.processPendingMessage(),this.processPendingHalfClose()})}sendMessageWithContext(e,t){this.processingMessage=!0,this.requester.sendMessage(t,o=>{this.processingMessage=!1,this.processingMetadata?(this.pendingMessageContext=e,this.pendingMessage=t):(this.nextCall.sendMessageWithContext(e,o),this.processPendingHalfClose())})}sendMessage(e){this.sendMessageWithContext({},e)}startRead(){this.nextCall.startRead()}halfClose(){this.requester.halfClose(()=>{this.processingMetadata||this.processingMessage?this.pendingHalfClose=!0:this.nextCall.halfClose()})}};vr.InterceptingCall=qv;function hue(r,e,t){var o,s;let a=(o=t.deadline)!==null&&o!==void 0?o:1/0,i=t.host,n=(s=t.parent)!==null&&s!==void 0?s:null,l=t.propagate_flags,c=t.credentials,u=r.createCall(e,a,i,n,l);return c&&u.setCredentials(c),u}var Xh=class{constructor(e,t){this.call=e,this.methodDefinition=t}cancelWithStatus(e,t){this.call.cancelWithStatus(e,t)}getPeer(){return this.call.getPeer()}sendMessageWithContext(e,t){let o;try{o=this.methodDefinition.requestSerialize(t)}catch(s){this.call.cancelWithStatus(B3.Status.INTERNAL,`Request message serialization failure: ${(0,V3.getErrorMessage)(s)}`);return}this.call.sendMessageWithContext(e,o)}sendMessage(e){this.sendMessageWithContext({},e)}start(e,t){let o=null;this.call.start(e,{onReceiveMetadata:s=>{var a;(a=t==null?void 0:t.onReceiveMetadata)===null||a===void 0||a.call(t,s)},onReceiveMessage:s=>{var a;let i;try{i=this.methodDefinition.responseDeserialize(s)}catch(n){o={code:B3.Status.INTERNAL,details:`Response message parsing error: ${(0,V3.getErrorMessage)(n)}`,metadata:new due.Metadata},this.call.cancelWithStatus(o.code,o.details);return}(a=t==null?void 0:t.onReceiveMessage)===null||a===void 0||a.call(t,i)},onReceiveStatus:s=>{var a,i;o?(a=t==null?void 0:t.onReceiveStatus)===null||a===void 0||a.call(t,o):(i=t==null?void 0:t.onReceiveStatus)===null||i===void 0||i.call(t,s)}})}startRead(){this.call.startRead()}halfClose(){this.call.halfClose()}},jv=class extends Xh{constructor(e,t){super(e,t)}start(e,t){var o,s;let a=!1,i={onReceiveMetadata:(s=(o=t==null?void 0:t.onReceiveMetadata)===null||o===void 0?void 0:o.bind(t))!==null&&s!==void 0?s:(n=>{}),onReceiveMessage:n=>{var l;a=!0,(l=t==null?void 0:t.onReceiveMessage)===null||l===void 0||l.call(t,n)},onReceiveStatus:n=>{var l,c;a||(l=t==null?void 0:t.onReceiveMessage)===null||l===void 0||l.call(t,null),(c=t==null?void 0:t.onReceiveStatus)===null||c===void 0||c.call(t,n)}};super.start(e,i),this.call.startRead()}},Yv=class extends Xh{};function _ue(r,e,t){let o=hue(r,t.path,e);return t.responseStream?new Yv(o,t):new jv(o,t)}function Eue(r,e,t,o){if(r.clientInterceptors.length>0&&r.clientInterceptorProviders.length>0)throw new xc("Both interceptors and interceptor_providers were passed as options to the client constructor. Only one of these is allowed.");if(r.callInterceptors.length>0&&r.callInterceptorProviders.length>0)throw new xc("Both interceptors and interceptor_providers were passed as call options. Only one of these is allowed.");let s=[];r.callInterceptors.length>0||r.callInterceptorProviders.length>0?s=[].concat(r.callInterceptors,r.callInterceptorProviders.map(n=>n(e))).filter(n=>n):s=[].concat(r.clientInterceptors,r.clientInterceptorProviders.map(n=>n(e))).filter(n=>n);let a=Object.assign({},t,{method_definition:e});return s.reduceRight((n,l)=>c=>l(c,n),n=>_ue(o,n,e))(a)}});var Xv=T(Jh=>{"use strict";Object.defineProperty(Jh,"__esModule",{value:!0});Jh.Client=void 0;var Kr=D3(),mue=Wv(),Tue=tr(),ri=ue(),oa=ht(),Wh=Kv(),yr=Symbol(),sa=Symbol(),aa=Symbol(),mn=Symbol();function zv(r){return typeof r=="function"}function la(r){var e;return((e=r.stack)===null||e===void 0?void 0:e.split(`
`).slice(1).join(`
`))||"no stack trace available"}var $v=class{constructor(e,t,o={}){var s,a;if(o=Object.assign({},o),this[sa]=(s=o.interceptors)!==null&&s!==void 0?s:[],delete o.interceptors,this[aa]=(a=o.interceptor_providers)!==null&&a!==void 0?a:[],delete o.interceptor_providers,this[sa].length>0&&this[aa].length>0)throw new Error("Both interceptors and interceptor_providers were passed as options to the client constructor. Only one of these is allowed.");if(this[mn]=o.callInvocationTransformer,delete o.callInvocationTransformer,o.channelOverride)this[yr]=o.channelOverride;else if(o.channelFactoryOverride){let i=o.channelFactoryOverride;delete o.channelFactoryOverride,this[yr]=i(e,t,o)}else this[yr]=new mue.ChannelImplementation(e,t,o)}close(){this[yr].close()}getChannel(){return this[yr]}waitForReady(e,t){let o=s=>{if(s){t(new Error("Failed to connect before the deadline"));return}let a;try{a=this[yr].getConnectivityState(!0)}catch{t(new Error("The channel has been closed"));return}if(a===Tue.ConnectivityState.READY)t();else try{this[yr].watchConnectivityState(a,e,o)}catch{t(new Error("The channel has been closed"))}};setImmediate(o)}checkOptionalUnaryResponseArguments(e,t,o){if(zv(e))return{metadata:new oa.Metadata,options:{},callback:e};if(zv(t))return e instanceof oa.Metadata?{metadata:e,options:{},callback:t}:{metadata:new oa.Metadata,options:e,callback:t};if(!(e instanceof oa.Metadata&&t instanceof Object&&zv(o)))throw new Error("Incorrect arguments passed");return{metadata:e,options:t,callback:o}}makeUnaryRequest(e,t,o,s,a,i,n){var l,c;let u=this.checkOptionalUnaryResponseArguments(a,i,n),f={path:e,requestStream:!1,responseStream:!1,requestSerialize:t,responseDeserialize:o},_={argument:s,metadata:u.metadata,call:new Kr.ClientUnaryCallImpl,channel:this[yr],methodDefinition:f,callOptions:u.options,callback:u.callback};this[mn]&&(_=this[mn](_));let m=_.call,O={clientInterceptors:this[sa],clientInterceptorProviders:this[aa],callInterceptors:(l=_.callOptions.interceptors)!==null&&l!==void 0?l:[],callInterceptorProviders:(c=_.callOptions.interceptor_providers)!==null&&c!==void 0?c:[]},y=(0,Wh.getInterceptingCall)(O,_.methodDefinition,_.callOptions,_.channel);m.call=y;let A=null,I=!1,M=new Error;return y.start(_.metadata,{onReceiveMetadata:F=>{m.emit("metadata",F)},onReceiveMessage(F){A!==null&&y.cancelWithStatus(ri.Status.UNIMPLEMENTED,"Too many responses received"),A=F},onReceiveStatus(F){if(!I){if(I=!0,F.code===ri.Status.OK)if(A===null){let N=la(M);_.callback((0,Kr.callErrorFromStatus)({code:ri.Status.UNIMPLEMENTED,details:"No message received",metadata:F.metadata},N))}else _.callback(null,A);else{let N=la(M);_.callback((0,Kr.callErrorFromStatus)(F,N))}M=null,m.emit("status",F)}}}),y.sendMessage(s),y.halfClose(),m}makeClientStreamRequest(e,t,o,s,a,i){var n,l;let c=this.checkOptionalUnaryResponseArguments(s,a,i),u={path:e,requestStream:!0,responseStream:!1,requestSerialize:t,responseDeserialize:o},f={metadata:c.metadata,call:new Kr.ClientWritableStreamImpl(t),channel:this[yr],methodDefinition:u,callOptions:c.options,callback:c.callback};this[mn]&&(f=this[mn](f));let _=f.call,m={clientInterceptors:this[sa],clientInterceptorProviders:this[aa],callInterceptors:(n=f.callOptions.interceptors)!==null&&n!==void 0?n:[],callInterceptorProviders:(l=f.callOptions.interceptor_providers)!==null&&l!==void 0?l:[]},O=(0,Wh.getInterceptingCall)(m,f.methodDefinition,f.callOptions,f.channel);_.call=O;let y=null,A=!1,I=new Error;return O.start(f.metadata,{onReceiveMetadata:M=>{_.emit("metadata",M)},onReceiveMessage(M){y!==null&&O.cancelWithStatus(ri.Status.UNIMPLEMENTED,"Too many responses received"),y=M,O.startRead()},onReceiveStatus(M){if(!A){if(A=!0,M.code===ri.Status.OK)if(y===null){let F=la(I);f.callback((0,Kr.callErrorFromStatus)({code:ri.Status.UNIMPLEMENTED,details:"No message received",metadata:M.metadata},F))}else f.callback(null,y);else{let F=la(I);f.callback((0,Kr.callErrorFromStatus)(M,F))}I=null,_.emit("status",M)}}}),_}checkMetadataAndOptions(e,t){let o,s;return e instanceof oa.Metadata?(o=e,t?s=t:s={}):(e?s=e:s={},o=new oa.Metadata),{metadata:o,options:s}}makeServerStreamRequest(e,t,o,s,a,i){var n,l;let c=this.checkMetadataAndOptions(a,i),u={path:e,requestStream:!1,responseStream:!0,requestSerialize:t,responseDeserialize:o},f={argument:s,metadata:c.metadata,call:new Kr.ClientReadableStreamImpl(o),channel:this[yr],methodDefinition:u,callOptions:c.options};this[mn]&&(f=this[mn](f));let _=f.call,m={clientInterceptors:this[sa],clientInterceptorProviders:this[aa],callInterceptors:(n=f.callOptions.interceptors)!==null&&n!==void 0?n:[],callInterceptorProviders:(l=f.callOptions.interceptor_providers)!==null&&l!==void 0?l:[]},O=(0,Wh.getInterceptingCall)(m,f.methodDefinition,f.callOptions,f.channel);_.call=O;let y=!1,A=new Error;return O.start(f.metadata,{onReceiveMetadata(I){_.emit("metadata",I)},onReceiveMessage(I){_.push(I)},onReceiveStatus(I){if(!y){if(y=!0,_.push(null),I.code!==ri.Status.OK){let M=la(A);_.emit("error",(0,Kr.callErrorFromStatus)(I,M))}A=null,_.emit("status",I)}}}),O.sendMessage(s),O.halfClose(),_}makeBidiStreamRequest(e,t,o,s,a){var i,n;let l=this.checkMetadataAndOptions(s,a),c={path:e,requestStream:!0,responseStream:!0,requestSerialize:t,responseDeserialize:o},u={metadata:l.metadata,call:new Kr.ClientDuplexStreamImpl(t,o),channel:this[yr],methodDefinition:c,callOptions:l.options};this[mn]&&(u=this[mn](u));let f=u.call,_={clientInterceptors:this[sa],clientInterceptorProviders:this[aa],callInterceptors:(i=u.callOptions.interceptors)!==null&&i!==void 0?i:[],callInterceptorProviders:(n=u.callOptions.interceptor_providers)!==null&&n!==void 0?n:[]},m=(0,Wh.getInterceptingCall)(_,u.methodDefinition,u.callOptions,u.channel);f.call=m;let O=!1,y=new Error;return m.start(u.metadata,{onReceiveMetadata(A){f.emit("metadata",A)},onReceiveMessage(A){f.push(A)},onReceiveStatus(A){if(!O){if(O=!0,f.push(null),A.code!==ri.Status.OK){let I=la(y);f.emit("error",(0,Kr.callErrorFromStatus)(A,I))}y=null,f.emit("status",A)}}}),f}};Jh.Client=$v});var Qv=T(Qh=>{"use strict";Object.defineProperty(Qh,"__esModule",{value:!0});Qh.makeClientConstructor=F3;Qh.loadPackageDefinition=yue;var Mc=Xv(),Sue={unary:Mc.Client.prototype.makeUnaryRequest,server_stream:Mc.Client.prototype.makeServerStreamRequest,client_stream:Mc.Client.prototype.makeClientStreamRequest,bidi:Mc.Client.prototype.makeBidiStreamRequest};function Jv(r){return["__proto__","prototype","constructor"].includes(r)}function F3(r,e,t){t||(t={});class o extends Mc.Client{}return Object.keys(r).forEach(s=>{if(Jv(s))return;let a=r[s],i;if(typeof s=="string"&&s.charAt(0)==="$")throw new Error("Method names cannot start with $");a.requestStream?a.responseStream?i="bidi":i="client_stream":a.responseStream?i="server_stream":i="unary";let n=a.requestSerialize,l=a.responseDeserialize,c=gue(Sue[i],a.path,n,l);o.prototype[s]=c,Object.assign(o.prototype[s],a),a.originalName&&!Jv(a.originalName)&&(o.prototype[a.originalName]=o.prototype[s])}),o.service=r,o.serviceName=e,o}function gue(r,e,t,o){return function(...s){return r.call(this,e,t,o,...s)}}function vue(r){return"format"in r}function yue(r){let e={};for(let t in r)if(Object.prototype.hasOwnProperty.call(r,t)){let o=r[t],s=t.split(".");if(s.some(n=>Jv(n)))continue;let a=s[s.length-1],i=e;for(let n of s.slice(0,-1))i[n]||(i[n]={}),i=i[n];vue(o)?i[a]=o:i[a]=F3(o,a,{})}return e}});var fH=T((bVe,uH)=>{var Oue=1/0,Aue="[object Symbol]",Rue=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Nue=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,e_="\\ud800-\\udfff",$3="\\u0300-\\u036f\\ufe20-\\ufe23",X3="\\u20d0-\\u20f0",W3="\\u2700-\\u27bf",J3="a-z\\xdf-\\xf6\\xf8-\\xff",Cue="\\xac\\xb1\\xd7\\xf7",Pue="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Iue="\\u2000-\\u206f",bue=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Q3="A-Z\\xc0-\\xd6\\xd8-\\xde",Z3="\\ufe0e\\ufe0f",eH=Cue+Pue+Iue+bue,ey="['\u2019]",Lue="["+e_+"]",G3="["+eH+"]",Zh="["+$3+X3+"]",tH="\\d+",xue="["+W3+"]",rH="["+J3+"]",nH="[^"+e_+eH+tH+W3+J3+Q3+"]",Zv="\\ud83c[\\udffb-\\udfff]",Mue="(?:"+Zh+"|"+Zv+")",iH="[^"+e_+"]",ty="(?:\\ud83c[\\udde6-\\uddff]){2}",ry="[\\ud800-\\udbff][\\udc00-\\udfff]",ca="["+Q3+"]",oH="\\u200d",H3="(?:"+rH+"|"+nH+")",wue="(?:"+ca+"|"+nH+")",q3="(?:"+ey+"(?:d|ll|m|re|s|t|ve))?",j3="(?:"+ey+"(?:D|LL|M|RE|S|T|VE))?",sH=Mue+"?",aH="["+Z3+"]?",Due="(?:"+oH+"(?:"+[iH,ty,ry].join("|")+")"+aH+sH+")*",lH=aH+sH+Due,Uue="(?:"+[xue,ty,ry].join("|")+")"+lH,kue="(?:"+[iH+Zh+"?",Zh,ty,ry,Lue].join("|")+")",Bue=RegExp(ey,"g"),Vue=RegExp(Zh,"g"),Fue=RegExp(Zv+"(?="+Zv+")|"+kue+lH,"g"),Gue=RegExp([ca+"?"+rH+"+"+q3+"(?="+[G3,ca,"$"].join("|")+")",wue+"+"+j3+"(?="+[G3,ca+H3,"$"].join("|")+")",ca+"?"+H3+"+"+q3,ca+"+"+j3,tH,Uue].join("|"),"g"),Hue=RegExp("["+oH+e_+$3+X3+Z3+"]"),que=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,jue={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"ss"},Yue=typeof global=="object"&&global&&global.Object===Object&&global,Kue=typeof self=="object"&&self&&self.Object===Object&&self,zue=Yue||Kue||Function("return this")();function $ue(r,e,t,o){var s=-1,a=r?r.length:0;for(o&&a&&(t=r[++s]);++s<a;)t=e(t,r[s],s,r);return t}function Xue(r){return r.split("")}function Wue(r){return r.match(Rue)||[]}function Jue(r){return function(e){return r==null?void 0:r[e]}}var Que=Jue(jue);function cH(r){return Hue.test(r)}function Zue(r){return que.test(r)}function efe(r){return cH(r)?tfe(r):Xue(r)}function tfe(r){return r.match(Fue)||[]}function rfe(r){return r.match(Gue)||[]}var nfe=Object.prototype,ife=nfe.toString,Y3=zue.Symbol,K3=Y3?Y3.prototype:void 0,z3=K3?K3.toString:void 0;function ofe(r,e,t){var o=-1,s=r.length;e<0&&(e=-e>s?0:s+e),t=t>s?s:t,t<0&&(t+=s),s=e>t?0:t-e>>>0,e>>>=0;for(var a=Array(s);++o<s;)a[o]=r[o+e];return a}function sfe(r){if(typeof r=="string")return r;if(ffe(r))return z3?z3.call(r):"";var e=r+"";return e=="0"&&1/r==-Oue?"-0":e}function afe(r,e,t){var o=r.length;return t=t===void 0?o:t,!e&&t>=o?r:ofe(r,e,t)}function lfe(r){return function(e){e=t_(e);var t=cH(e)?efe(e):void 0,o=t?t[0]:e.charAt(0),s=t?afe(t,1).join(""):e.slice(1);return o[r]()+s}}function cfe(r){return function(e){return $ue(Efe(hfe(e).replace(Bue,"")),r,"")}}function ufe(r){return!!r&&typeof r=="object"}function ffe(r){return typeof r=="symbol"||ufe(r)&&ife.call(r)==Aue}function t_(r){return r==null?"":sfe(r)}var pfe=cfe(function(r,e,t){return e=e.toLowerCase(),r+(t?dfe(e):e)});function dfe(r){return _fe(t_(r).toLowerCase())}function hfe(r){return r=t_(r),r&&r.replace(Nue,Que).replace(Vue,"")}var _fe=lfe("toUpperCase");function Efe(r,e,t){return r=t_(r),e=t?void 0:e,e===void 0?Zue(r)?rfe(r):Wue(r):r.match(e)||[]}uH.exports=pfe});var dH=T((LVe,pH)=>{"use strict";pH.exports=ny;function ny(r,e){typeof r=="string"&&(e=r,r=void 0);var t=[];function o(a){if(typeof a!="string"){var i=s();if(ny.verbose&&console.log("codegen: "+i),i="return "+i,a){for(var n=Object.keys(a),l=new Array(n.length+1),c=new Array(n.length),u=0;u<n.length;)l[u]=n[u],c[u]=a[n[u++]];return l[u]=i,Function.apply(null,l).apply(null,c)}return Function(i)()}for(var f=new Array(arguments.length-1),_=0;_<f.length;)f[_]=arguments[++_];if(_=0,a=a.replace(/%([%dfijs])/g,function(O,y){var A=f[_++];switch(y){case"d":case"f":return String(Number(A));case"i":return String(Math.floor(A));case"j":return JSON.stringify(A);case"s":return String(A)}return"%"}),_!==f.length)throw Error("parameter count mismatch");return t.push(a),o}function s(a){return"function "+(a||e||"")+"("+(r&&r.join(",")||"")+`){
  `+t.join(`
  `)+`
}`}return o.toString=s,o}ny.verbose=!1});var _H=T((xVe,hH)=>{"use strict";hH.exports=wc;var mfe=Gg(),Tfe=Hg(),iy=Tfe("fs");function wc(r,e,t){return typeof e=="function"?(t=e,e={}):e||(e={}),t?!e.xhr&&iy&&iy.readFile?iy.readFile(r,function(s,a){return s&&typeof XMLHttpRequest<"u"?wc.xhr(r,e,t):s?t(s):t(null,e.binary?a:a.toString("utf8"))}):wc.xhr(r,e,t):mfe(wc,this,r,e)}wc.xhr=function(e,t,o){var s=new XMLHttpRequest;s.onreadystatechange=function(){if(s.readyState===4){if(s.status!==0&&s.status!==200)return o(Error("status "+s.status));if(t.binary){var i=s.response;if(!i){i=[];for(var n=0;n<s.responseText.length;++n)i.push(s.responseText.charCodeAt(n)&255)}return o(null,typeof Uint8Array<"u"?new Uint8Array(i):i)}return o(null,s.responseText)}},t.binary&&("overrideMimeType"in s&&s.overrideMimeType("text/plain; charset=x-user-defined"),s.responseType="arraybuffer"),s.open("GET",e),s.send()}});var TH=T(mH=>{"use strict";var sy=mH,EH=sy.isAbsolute=function(e){return/^(?:\/|\w+:)/.test(e)},oy=sy.normalize=function(e){e=e.replace(/\\/g,"/").replace(/\/{2,}/g,"/");var t=e.split("/"),o=EH(e),s="";o&&(s=t.shift()+"/");for(var a=0;a<t.length;)t[a]===".."?a>0&&t[a-1]!==".."?t.splice(--a,2):o?t.splice(a,1):++a:t[a]==="."?t.splice(a,1):++a;return s+t.join("/")};sy.resolve=function(e,t,o){return o||(t=oy(t)),EH(t)?t:(o||(e=oy(e)),(e=e.replace(/(?:\/|^)[^/]+$/,"")).length?oy(e+"/"+t):t)}});var fa=T((wVe,vH)=>{"use strict";vH.exports=pe;var r_=ii();((pe.prototype=Object.create(r_.prototype)).constructor=pe).className="Namespace";var ay=ni(),n_=rt(),Sfe=uo(),lo,ua,co;pe.fromJSON=function(e,t){return new pe(e,t.options).addJSON(t.nested)};function SH(r,e){if(r&&r.length){for(var t={},o=0;o<r.length;++o)t[r[o].name]=r[o].toJSON(e);return t}}pe.arrayToJSON=SH;pe.isReservedId=function(e,t){if(e){for(var o=0;o<e.length;++o)if(typeof e[o]!="string"&&e[o][0]<=t&&e[o][1]>t)return!0}return!1};pe.isReservedName=function(e,t){if(e){for(var o=0;o<e.length;++o)if(e[o]===t)return!0}return!1};function pe(r,e){r_.call(this,r,e),this.nested=void 0,this._nestedArray=null,this._lookupCache={},this._needsRecursiveFeatureResolution=!0,this._needsRecursiveResolve=!0}function gH(r){r._nestedArray=null,r._lookupCache={};for(var e=r;e=e.parent;)e._lookupCache={};return r}Object.defineProperty(pe.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=n_.toArray(this.nested))}});pe.prototype.toJSON=function(e){return n_.toObject(["options",this.options,"nested",SH(this.nestedArray,e)])};pe.prototype.addJSON=function(e){var t=this;if(e)for(var o=Object.keys(e),s=0,a;s<o.length;++s)a=e[o[s]],t.add((a.fields!==void 0?lo.fromJSON:a.values!==void 0?co.fromJSON:a.methods!==void 0?ua.fromJSON:a.id!==void 0?ay.fromJSON:pe.fromJSON)(o[s],a));return this};pe.prototype.get=function(e){return this.nested&&this.nested[e]||null};pe.prototype.getEnum=function(e){if(this.nested&&this.nested[e]instanceof co)return this.nested[e].values;throw Error("no such enum: "+e)};pe.prototype.add=function(e){if(!(e instanceof ay&&e.extend!==void 0||e instanceof lo||e instanceof Sfe||e instanceof co||e instanceof ua||e instanceof pe))throw TypeError("object must be a valid nested object");if(!this.nested)this.nested={};else{var t=this.get(e.name);if(t)if(t instanceof pe&&e instanceof pe&&!(t instanceof lo||t instanceof ua)){for(var o=t.nestedArray,s=0;s<o.length;++s)e.add(o[s]);this.remove(t),this.nested||(this.nested={}),e.setOptions(t.options,!0)}else throw Error("duplicate name '"+e.name+"' in "+this)}this.nested[e.name]=e,this instanceof lo||this instanceof ua||this instanceof co||this instanceof ay||e._edition||(e._edition=e._defaultEdition),this._needsRecursiveFeatureResolution=!0,this._needsRecursiveResolve=!0;for(var a=this;a=a.parent;)a._needsRecursiveFeatureResolution=!0,a._needsRecursiveResolve=!0;return e.onAdd(this),gH(this)};pe.prototype.remove=function(e){if(!(e instanceof r_))throw TypeError("object must be a ReflectionObject");if(e.parent!==this)throw Error(e+" is not a member of "+this);return delete this.nested[e.name],Object.keys(this.nested).length||(this.nested=void 0),e.onRemove(this),gH(this)};pe.prototype.define=function(e,t){if(n_.isString(e))e=e.split(".");else if(!Array.isArray(e))throw TypeError("illegal path");if(e&&e.length&&e[0]==="")throw Error("path must be relative");for(var o=this;e.length>0;){var s=e.shift();if(o.nested&&o.nested[s]){if(o=o.nested[s],!(o instanceof pe))throw Error("path conflicts with non-namespace objects")}else o.add(o=new pe(s))}return t&&o.addJSON(t),o};pe.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;this._resolveFeaturesRecursive(this._edition);var e=this.nestedArray,t=0;for(this.resolve();t<e.length;)e[t]instanceof pe?e[t++].resolveAll():e[t++].resolve();return this._needsRecursiveResolve=!1,this};pe.prototype._resolveFeaturesRecursive=function(e){return this._needsRecursiveFeatureResolution?(this._needsRecursiveFeatureResolution=!1,e=this._edition||e,r_.prototype._resolveFeaturesRecursive.call(this,e),this.nestedArray.forEach(t=>{t._resolveFeaturesRecursive(e)}),this):this};pe.prototype.lookup=function(e,t,o){if(typeof t=="boolean"?(o=t,t=void 0):t&&!Array.isArray(t)&&(t=[t]),n_.isString(e)&&e.length){if(e===".")return this.root;e=e.split(".")}else if(!e.length)return this;var s=e.join(".");if(e[0]==="")return this.root.lookup(e.slice(1),t);var a=this.root._fullyQualifiedObjects&&this.root._fullyQualifiedObjects["."+s];if(a&&(!t||t.indexOf(a.constructor)>-1)||(a=this._lookupImpl(e,s),a&&(!t||t.indexOf(a.constructor)>-1)))return a;if(o)return null;for(var i=this;i.parent;){if(a=i.parent._lookupImpl(e,s),a&&(!t||t.indexOf(a.constructor)>-1))return a;i=i.parent}return null};pe.prototype._lookupImpl=function(e,t){if(Object.prototype.hasOwnProperty.call(this._lookupCache,t))return this._lookupCache[t];var o=this.get(e[0]),s=null;if(o)e.length===1?s=o:o instanceof pe&&(e=e.slice(1),s=o._lookupImpl(e,e.join(".")));else for(var a=0;a<this.nestedArray.length;++a)this._nestedArray[a]instanceof pe&&(o=this._nestedArray[a]._lookupImpl(e,t))&&(s=o);return this._lookupCache[t]=s,s};pe.prototype.lookupType=function(e){var t=this.lookup(e,[lo]);if(!t)throw Error("no such type: "+e);return t};pe.prototype.lookupEnum=function(e){var t=this.lookup(e,[co]);if(!t)throw Error("no such Enum '"+e+"' in "+this);return t};pe.prototype.lookupTypeOrEnum=function(e){var t=this.lookup(e,[lo,co]);if(!t)throw Error("no such Type or Enum '"+e+"' in "+this);return t};pe.prototype.lookupService=function(e){var t=this.lookup(e,[ua]);if(!t)throw Error("no such Service '"+e+"' in "+this);return t};pe._configure=function(r,e,t){lo=r,ua=e,co=t}});var i_=T((DVe,yH)=>{"use strict";yH.exports=Tn;var ly=ni();((Tn.prototype=Object.create(ly.prototype)).constructor=Tn).className="MapField";var gfe=fo(),Dc=rt();function Tn(r,e,t,o,s,a){if(ly.call(this,r,e,o,void 0,void 0,s,a),!Dc.isString(t))throw TypeError("keyType must be a string");this.keyType=t,this.resolvedKeyType=null,this.map=!0}Tn.fromJSON=function(e,t){return new Tn(e,t.id,t.keyType,t.type,t.options,t.comment)};Tn.prototype.toJSON=function(e){var t=e?!!e.keepComments:!1;return Dc.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])};Tn.prototype.resolve=function(){if(this.resolved)return this;if(gfe.mapKey[this.keyType]===void 0)throw Error("invalid key type: "+this.keyType);return ly.prototype.resolve.call(this)};Tn.d=function(e,t,o){return typeof o=="function"?o=Dc.decorateType(o).name:o&&typeof o=="object"&&(o=Dc.decorateEnum(o).name),function(a,i){Dc.decorateType(a.constructor).add(new Tn(i,e,t,o))}}});var o_=T((UVe,OH)=>{"use strict";OH.exports=po;var cy=ii();((po.prototype=Object.create(cy.prototype)).constructor=po).className="Method";var pa=rt();function po(r,e,t,o,s,a,i,n,l){if(pa.isObject(s)?(i=s,s=a=void 0):pa.isObject(a)&&(i=a,a=void 0),!(e===void 0||pa.isString(e)))throw TypeError("type must be a string");if(!pa.isString(t))throw TypeError("requestType must be a string");if(!pa.isString(o))throw TypeError("responseType must be a string");cy.call(this,r,i),this.type=e||"rpc",this.requestType=t,this.requestStream=s?!0:void 0,this.responseType=o,this.responseStream=a?!0:void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=n,this.parsedOptions=l}po.fromJSON=function(e,t){return new po(e,t.type,t.requestType,t.responseType,t.requestStream,t.responseStream,t.options,t.comment,t.parsedOptions)};po.prototype.toJSON=function(e){var t=e?!!e.keepComments:!1;return pa.toObject(["type",this.type!=="rpc"&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",t?this.comment:void 0,"parsedOptions",this.parsedOptions])};po.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),cy.prototype.resolve.call(this))}});var s_=T((kVe,RH)=>{"use strict";RH.exports=Vt;var Sn=fa();((Vt.prototype=Object.create(Sn.prototype)).constructor=Vt).className="Service";var uy=o_(),Uc=rt(),vfe=ev();function Vt(r,e){Sn.call(this,r,e),this.methods={},this._methodsArray=null}Vt.fromJSON=function(e,t){var o=new Vt(e,t.options);if(t.methods)for(var s=Object.keys(t.methods),a=0;a<s.length;++a)o.add(uy.fromJSON(s[a],t.methods[s[a]]));return t.nested&&o.addJSON(t.nested),t.edition&&(o._edition=t.edition),o.comment=t.comment,o._defaultEdition="proto3",o};Vt.prototype.toJSON=function(e){var t=Sn.prototype.toJSON.call(this,e),o=e?!!e.keepComments:!1;return Uc.toObject(["edition",this._editionToJSON(),"options",t&&t.options||void 0,"methods",Sn.arrayToJSON(this.methodsArray,e)||{},"nested",t&&t.nested||void 0,"comment",o?this.comment:void 0])};Object.defineProperty(Vt.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=Uc.toArray(this.methods))}});function AH(r){return r._methodsArray=null,r}Vt.prototype.get=function(e){return this.methods[e]||Sn.prototype.get.call(this,e)};Vt.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;Sn.prototype.resolve.call(this);for(var e=this.methodsArray,t=0;t<e.length;++t)e[t].resolve();return this};Vt.prototype._resolveFeaturesRecursive=function(e){return this._needsRecursiveFeatureResolution?(e=this._edition||e,Sn.prototype._resolveFeaturesRecursive.call(this,e),this.methodsArray.forEach(t=>{t._resolveFeaturesRecursive(e)}),this):this};Vt.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);return e instanceof uy?(this.methods[e.name]=e,e.parent=this,AH(this)):Sn.prototype.add.call(this,e)};Vt.prototype.remove=function(e){if(e instanceof uy){if(this.methods[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.methods[e.name],e.parent=null,AH(this)}return Sn.prototype.remove.call(this,e)};Vt.prototype.create=function(e,t,o){for(var s=new vfe.Service(e,t,o),a=0,i;a<this.methodsArray.length;++a){var n=Uc.lcFirst((i=this._methodsArray[a]).resolve().name).replace(/[^$\w_]/g,"");s[n]=Uc.codegen(["r","c"],Uc.isReserved(n)?n+"_":n)("return this.rpcCall(m,q,s,r,c)")({m:i,q:i.resolvedRequestType.ctor,s:i.resolvedResponseType.ctor})}return s}});var a_=T((BVe,NH)=>{"use strict";NH.exports=zr;var yfe=Fr();function zr(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)this[e[t]]=r[e[t]]}zr.create=function(e){return this.$type.create(e)};zr.encode=function(e,t){return this.$type.encode(e,t)};zr.encodeDelimited=function(e,t){return this.$type.encodeDelimited(e,t)};zr.decode=function(e){return this.$type.decode(e)};zr.decodeDelimited=function(e){return this.$type.decodeDelimited(e)};zr.verify=function(e){return this.$type.verify(e)};zr.fromObject=function(e){return this.$type.fromObject(e)};zr.toObject=function(e,t){return this.$type.toObject(e,t)};zr.prototype.toJSON=function(){return this.$type.toObject(this,yfe.toJSONOptions)}});var fy=T((VVe,PH)=>{"use strict";PH.exports=Rfe;var Ofe=Or(),gn=fo(),CH=rt();function Afe(r){return"missing required '"+r.name+"'"}function Rfe(r){for(var e=CH.codegen(["r","l","e"],r.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(r.fieldsArray.filter(function(n){return n.map}).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()")("if(t===e)")("break")("switch(t>>>3){"),t=0;t<r.fieldsArray.length;++t){var o=r._fieldsArray[t].resolve(),s=o.resolvedType instanceof Ofe?"int32":o.type,a="m"+CH.safeProp(o.name);e("case %i: {",o.id),o.map?(e("if(%s===util.emptyObject)",a)("%s={}",a)("var c2 = r.uint32()+r.pos"),gn.defaults[o.keyType]!==void 0?e("k=%j",gn.defaults[o.keyType]):e("k=null"),gn.defaults[s]!==void 0?e("value=%j",gn.defaults[s]):e("value=null"),e("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",o.keyType)("case 2:"),gn.basic[s]===void 0?e("value=types[%i].decode(r,r.uint32())",t):e("value=r.%s()",s),e("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),gn.long[o.keyType]!==void 0?e('%s[typeof k==="object"?util.longToHash(k):k]=value',a):e("%s[k]=value",a)):o.repeated?(e("if(!(%s&&%s.length))",a,a)("%s=[]",a),gn.packed[s]!==void 0&&e("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",a,s)("}else"),gn.basic[s]===void 0?e(o.delimited?"%s.push(types[%i].decode(r,undefined,((t&~7)|4)))":"%s.push(types[%i].decode(r,r.uint32()))",a,t):e("%s.push(r.%s())",a,s)):gn.basic[s]===void 0?e(o.delimited?"%s=types[%i].decode(r,undefined,((t&~7)|4))":"%s=types[%i].decode(r,r.uint32())",a,t):e("%s=r.%s()",a,s),e("break")("}")}for(e("default:")("r.skipType(t&7)")("break")("}")("}"),t=0;t<r._fieldsArray.length;++t){var i=r._fieldsArray[t];i.required&&e("if(!m.hasOwnProperty(%j))",i.name)("throw util.ProtocolError(%j,{instance:m})",Afe(i))}return e("return m")}});var hy=T((FVe,IH)=>{"use strict";IH.exports=Pfe;var Nfe=Or(),py=rt();function nr(r,e){return r.name+": "+e+(r.repeated&&e!=="array"?"[]":r.map&&e!=="object"?"{k:"+r.keyType+"}":"")+" expected"}function dy(r,e,t,o){if(e.resolvedType)if(e.resolvedType instanceof Nfe){r("switch(%s){",o)("default:")("return%j",nr(e,"enum value"));for(var s=Object.keys(e.resolvedType.values),a=0;a<s.length;++a)r("case %i:",e.resolvedType.values[s[a]]);r("break")("}")}else r("{")("var e=types[%i].verify(%s);",t,o)("if(e)")("return%j+e",e.name+".")("}");else switch(e.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":r("if(!util.isInteger(%s))",o)("return%j",nr(e,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":r("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",o,o,o,o)("return%j",nr(e,"integer|Long"));break;case"float":case"double":r('if(typeof %s!=="number")',o)("return%j",nr(e,"number"));break;case"bool":r('if(typeof %s!=="boolean")',o)("return%j",nr(e,"boolean"));break;case"string":r("if(!util.isString(%s))",o)("return%j",nr(e,"string"));break;case"bytes":r('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',o,o,o)("return%j",nr(e,"buffer"));break}return r}function Cfe(r,e,t){switch(e.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":r("if(!util.key32Re.test(%s))",t)("return%j",nr(e,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":r("if(!util.key64Re.test(%s))",t)("return%j",nr(e,"integer|Long key"));break;case"bool":r("if(!util.key2Re.test(%s))",t)("return%j",nr(e,"boolean key"));break}return r}function Pfe(r){var e=py.codegen(["m"],r.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),t=r.oneofsArray,o={};t.length&&e("var p={}");for(var s=0;s<r.fieldsArray.length;++s){var a=r._fieldsArray[s].resolve(),i="m"+py.safeProp(a.name);if(a.optional&&e("if(%s!=null&&m.hasOwnProperty(%j)){",i,a.name),a.map)e("if(!util.isObject(%s))",i)("return%j",nr(a,"object"))("var k=Object.keys(%s)",i)("for(var i=0;i<k.length;++i){"),Cfe(e,a,"k[i]"),dy(e,a,s,i+"[k[i]]")("}");else if(a.repeated)e("if(!Array.isArray(%s))",i)("return%j",nr(a,"array"))("for(var i=0;i<%s.length;++i){",i),dy(e,a,s,i+"[i]")("}");else{if(a.partOf){var n=py.safeProp(a.partOf.name);o[a.partOf.name]===1&&e("if(p%s===1)",n)("return%j",a.partOf.name+": multiple values"),o[a.partOf.name]=1,e("p%s=1",n)}dy(e,a,s,i)}a.optional&&e("}")}return e("return null")}});var my=T(LH=>{"use strict";var bH=LH,kc=Or(),$r=rt();function _y(r,e,t,o){var s=!1;if(e.resolvedType)if(e.resolvedType instanceof kc){r("switch(d%s){",o);for(var a=e.resolvedType.values,i=Object.keys(a),n=0;n<i.length;++n)a[i[n]]===e.typeDefault&&!s&&(r("default:")('if(typeof(d%s)==="number"){m%s=d%s;break}',o,o,o),e.repeated||r("break"),s=!0),r("case%j:",i[n])("case %i:",a[i[n]])("m%s=%j",o,a[i[n]])("break");r("}")}else r('if(typeof d%s!=="object")',o)("throw TypeError(%j)",e.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",o,t,o);else{var l=!1;switch(e.type){case"double":case"float":r("m%s=Number(d%s)",o,o);break;case"uint32":case"fixed32":r("m%s=d%s>>>0",o,o);break;case"int32":case"sint32":case"sfixed32":r("m%s=d%s|0",o,o);break;case"uint64":l=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":r("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",o,o,l)('else if(typeof d%s==="string")',o)("m%s=parseInt(d%s,10)",o,o)('else if(typeof d%s==="number")',o)("m%s=d%s",o,o)('else if(typeof d%s==="object")',o)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",o,o,o,l?"true":"");break;case"bytes":r('if(typeof d%s==="string")',o)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",o,o,o)("else if(d%s.length >= 0)",o)("m%s=d%s",o,o);break;case"string":r("m%s=String(d%s)",o,o);break;case"bool":r("m%s=Boolean(d%s)",o,o);break}}return r}bH.fromObject=function(e){var t=e.fieldsArray,o=$r.codegen(["d"],e.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!t.length)return o("return new this.ctor");o("var m=new this.ctor");for(var s=0;s<t.length;++s){var a=t[s].resolve(),i=$r.safeProp(a.name);a.map?(o("if(d%s){",i)('if(typeof d%s!=="object")',i)("throw TypeError(%j)",a.fullName+": object expected")("m%s={}",i)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",i),_y(o,a,s,i+"[ks[i]]")("}")("}")):a.repeated?(o("if(d%s){",i)("if(!Array.isArray(d%s))",i)("throw TypeError(%j)",a.fullName+": array expected")("m%s=[]",i)("for(var i=0;i<d%s.length;++i){",i),_y(o,a,s,i+"[i]")("}")("}")):(a.resolvedType instanceof kc||o("if(d%s!=null){",i),_y(o,a,s,i),a.resolvedType instanceof kc||o("}"))}return o("return m")};function Ey(r,e,t,o){if(e.resolvedType)e.resolvedType instanceof kc?r("d%s=o.enums===String?(types[%i].values[m%s]===undefined?m%s:types[%i].values[m%s]):m%s",o,t,o,o,t,o,o):r("d%s=types[%i].toObject(m%s,o)",o,t,o);else{var s=!1;switch(e.type){case"double":case"float":r("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",o,o,o,o);break;case"uint64":s=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":r('if(typeof m%s==="number")',o)("d%s=o.longs===String?String(m%s):m%s",o,o,o)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",o,o,o,o,s?"true":"",o);break;case"bytes":r("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",o,o,o,o,o);break;default:r("d%s=m%s",o,o);break}}return r}bH.toObject=function(e){var t=e.fieldsArray.slice().sort($r.compareFieldsById);if(!t.length)return $r.codegen()("return {}");for(var o=$r.codegen(["m","o"],e.name+"$toObject")("if(!o)")("o={}")("var d={}"),s=[],a=[],i=[],n=0;n<t.length;++n)t[n].partOf||(t[n].resolve().repeated?s:t[n].map?a:i).push(t[n]);if(s.length){for(o("if(o.arrays||o.defaults){"),n=0;n<s.length;++n)o("d%s=[]",$r.safeProp(s[n].name));o("}")}if(a.length){for(o("if(o.objects||o.defaults){"),n=0;n<a.length;++n)o("d%s={}",$r.safeProp(a[n].name));o("}")}if(i.length){for(o("if(o.defaults){"),n=0;n<i.length;++n){var l=i[n],c=$r.safeProp(l.name);if(l.resolvedType instanceof kc)o("d%s=o.enums===String?%j:%j",c,l.resolvedType.valuesById[l.typeDefault],l.typeDefault);else if(l.long)o("if(util.Long){")("var n=new util.Long(%i,%i,%j)",l.typeDefault.low,l.typeDefault.high,l.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",c)("}else")("d%s=o.longs===String?%j:%i",c,l.typeDefault.toString(),l.typeDefault.toNumber());else if(l.bytes){var u="["+Array.prototype.slice.call(l.typeDefault).join(",")+"]";o("if(o.bytes===String)d%s=%j",c,String.fromCharCode.apply(String,l.typeDefault))("else{")("d%s=%s",c,u)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",c,c)("}")}else o("d%s=%j",c,l.typeDefault)}o("}")}var f=!1;for(n=0;n<t.length;++n){var l=t[n],_=e._fieldsArray.indexOf(l),c=$r.safeProp(l.name);l.map?(f||(f=!0,o("var ks2")),o("if(m%s&&(ks2=Object.keys(m%s)).length){",c,c)("d%s={}",c)("for(var j=0;j<ks2.length;++j){"),Ey(o,l,_,c+"[ks2[j]]")("}")):l.repeated?(o("if(m%s&&m%s.length){",c,c)("d%s=[]",c)("for(var j=0;j<m%s.length;++j){",c),Ey(o,l,_,c+"[j]")("}")):(o("if(m%s!=null&&m.hasOwnProperty(%j)){",c,l.name),Ey(o,l,_,c),l.partOf&&o("if(o.oneofs)")("d%s=%j",$r.safeProp(l.partOf.name),l.name)),o("}")}return o("return d")}});var Ty=T(xH=>{"use strict";var Ife=xH,bfe=a_();Ife[".google.protobuf.Any"]={fromObject:function(r){if(r&&r["@type"]){var e=r["@type"].substring(r["@type"].lastIndexOf("/")+1),t=this.lookup(e);if(t){var o=r["@type"].charAt(0)==="."?r["@type"].slice(1):r["@type"];return o.indexOf("/")===-1&&(o="/"+o),this.create({type_url:o,value:t.encode(t.fromObject(r)).finish()})}}return this.fromObject(r)},toObject:function(r,e){var t="type.googleapis.com/",o="",s="";if(e&&e.json&&r.type_url&&r.value){s=r.type_url.substring(r.type_url.lastIndexOf("/")+1),o=r.type_url.substring(0,r.type_url.lastIndexOf("/")+1);var a=this.lookup(s);a&&(r=a.decode(r.value))}if(!(r instanceof this.ctor)&&r instanceof bfe){var i=r.$type.toObject(r,e),n=r.$type.fullName[0]==="."?r.$type.fullName.slice(1):r.$type.fullName;return o===""&&(o=t),s=o+n,i["@type"]=s,i}return this.toObject(r,e)}}});var u_=T((qVe,wH)=>{"use strict";wH.exports=Re;var ir=fa();((Re.prototype=Object.create(ir.prototype)).constructor=Re).className="Type";var Lfe=Or(),vy=uo(),l_=ni(),xfe=i_(),Mfe=s_(),Sy=a_(),gy=Sh(),wfe=mh(),_t=rt(),Dfe=yy(),Ufe=fy(),kfe=hy(),MH=my(),Bfe=Ty();function Re(r,e){ir.call(this,r,e),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}Object.defineProperties(Re.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var r=Object.keys(this.fields),e=0;e<r.length;++e){var t=this.fields[r[e]],o=t.id;if(this._fieldsById[o])throw Error("duplicate id "+o+" in "+this);this._fieldsById[o]=t}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=_t.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=_t.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=Re.generateConstructor(this)())},set:function(r){var e=r.prototype;e instanceof Sy||((r.prototype=new Sy).constructor=r,_t.merge(r.prototype,e)),r.$type=r.prototype.$type=this,_t.merge(r,Sy,!0),this._ctor=r;for(var t=0;t<this.fieldsArray.length;++t)this._fieldsArray[t].resolve();var o={};for(t=0;t<this.oneofsArray.length;++t)o[this._oneofsArray[t].resolve().name]={get:_t.oneOfGetter(this._oneofsArray[t].oneof),set:_t.oneOfSetter(this._oneofsArray[t].oneof)};t&&Object.defineProperties(r.prototype,o)}}});Re.generateConstructor=function(e){for(var t=_t.codegen(["p"],e.name),o=0,s;o<e.fieldsArray.length;++o)(s=e._fieldsArray[o]).map?t("this%s={}",_t.safeProp(s.name)):s.repeated&&t("this%s=[]",_t.safeProp(s.name));return t("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")};function c_(r){return r._fieldsById=r._fieldsArray=r._oneofsArray=null,delete r.encode,delete r.decode,delete r.verify,r}Re.fromJSON=function(e,t){var o=new Re(e,t.options);o.extensions=t.extensions,o.reserved=t.reserved;for(var s=Object.keys(t.fields),a=0;a<s.length;++a)o.add((typeof t.fields[s[a]].keyType<"u"?xfe.fromJSON:l_.fromJSON)(s[a],t.fields[s[a]]));if(t.oneofs)for(s=Object.keys(t.oneofs),a=0;a<s.length;++a)o.add(vy.fromJSON(s[a],t.oneofs[s[a]]));if(t.nested)for(s=Object.keys(t.nested),a=0;a<s.length;++a){var i=t.nested[s[a]];o.add((i.id!==void 0?l_.fromJSON:i.fields!==void 0?Re.fromJSON:i.values!==void 0?Lfe.fromJSON:i.methods!==void 0?Mfe.fromJSON:ir.fromJSON)(s[a],i))}return t.extensions&&t.extensions.length&&(o.extensions=t.extensions),t.reserved&&t.reserved.length&&(o.reserved=t.reserved),t.group&&(o.group=!0),t.comment&&(o.comment=t.comment),t.edition&&(o._edition=t.edition),o._defaultEdition="proto3",o};Re.prototype.toJSON=function(e){var t=ir.prototype.toJSON.call(this,e),o=e?!!e.keepComments:!1;return _t.toObject(["edition",this._editionToJSON(),"options",t&&t.options||void 0,"oneofs",ir.arrayToJSON(this.oneofsArray,e),"fields",ir.arrayToJSON(this.fieldsArray.filter(function(s){return!s.declaringField}),e)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",t&&t.nested||void 0,"comment",o?this.comment:void 0])};Re.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;ir.prototype.resolveAll.call(this);var e=this.oneofsArray;for(o=0;o<e.length;)e[o++].resolve();for(var t=this.fieldsArray,o=0;o<t.length;)t[o++].resolve();return this};Re.prototype._resolveFeaturesRecursive=function(e){return this._needsRecursiveFeatureResolution?(e=this._edition||e,ir.prototype._resolveFeaturesRecursive.call(this,e),this.oneofsArray.forEach(t=>{t._resolveFeatures(e)}),this.fieldsArray.forEach(t=>{t._resolveFeatures(e)}),this):this};Re.prototype.get=function(e){return this.fields[e]||this.oneofs&&this.oneofs[e]||this.nested&&this.nested[e]||null};Re.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);if(e instanceof l_&&e.extend===void 0){if(this._fieldsById?this._fieldsById[e.id]:this.fieldsById[e.id])throw Error("duplicate id "+e.id+" in "+this);if(this.isReservedId(e.id))throw Error("id "+e.id+" is reserved in "+this);if(this.isReservedName(e.name))throw Error("name '"+e.name+"' is reserved in "+this);return e.parent&&e.parent.remove(e),this.fields[e.name]=e,e.message=this,e.onAdd(this),c_(this)}return e instanceof vy?(this.oneofs||(this.oneofs={}),this.oneofs[e.name]=e,e.onAdd(this),c_(this)):ir.prototype.add.call(this,e)};Re.prototype.remove=function(e){if(e instanceof l_&&e.extend===void 0){if(!this.fields||this.fields[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.fields[e.name],e.parent=null,e.onRemove(this),c_(this)}if(e instanceof vy){if(!this.oneofs||this.oneofs[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.oneofs[e.name],e.parent=null,e.onRemove(this),c_(this)}return ir.prototype.remove.call(this,e)};Re.prototype.isReservedId=function(e){return ir.isReservedId(this.reserved,e)};Re.prototype.isReservedName=function(e){return ir.isReservedName(this.reserved,e)};Re.prototype.create=function(e){return new this.ctor(e)};Re.prototype.setup=function(){for(var e=this.fullName,t=[],o=0;o<this.fieldsArray.length;++o)t.push(this._fieldsArray[o].resolve().resolvedType);this.encode=Dfe(this)({Writer:wfe,types:t,util:_t}),this.decode=Ufe(this)({Reader:gy,types:t,util:_t}),this.verify=kfe(this)({types:t,util:_t}),this.fromObject=MH.fromObject(this)({types:t,util:_t}),this.toObject=MH.toObject(this)({types:t,util:_t});var s=Bfe[e];if(s){var a=Object.create(this);a.fromObject=this.fromObject,this.fromObject=s.fromObject.bind(a),a.toObject=this.toObject,this.toObject=s.toObject.bind(a)}return this};Re.prototype.encode=function(e,t){return this.setup().encode(e,t)};Re.prototype.encodeDelimited=function(e,t){return this.encode(e,t&&t.len?t.fork():t).ldelim()};Re.prototype.decode=function(e,t){return this.setup().decode(e,t)};Re.prototype.decodeDelimited=function(e){return e instanceof gy||(e=gy.create(e)),this.decode(e,e.uint32())};Re.prototype.verify=function(e){return this.setup().verify(e)};Re.prototype.fromObject=function(e){return this.setup().fromObject(e)};Re.prototype.toObject=function(e,t){return this.setup().toObject(e,t)};Re.d=function(e){return function(o){_t.decorateType(o,e)}}});var h_=T((jVe,kH)=>{"use strict";kH.exports=Ft;var d_=fa();((Ft.prototype=Object.create(d_.prototype)).constructor=Ft).className="Root";var f_=ni(),Oy=Or(),Vfe=uo(),oi=rt(),Ay,Ry,Bc;function Ft(r){d_.call(this,"",r),this.deferred=[],this.files=[],this._edition="proto2",this._fullyQualifiedObjects={}}Ft.fromJSON=function(e,t){return t||(t=new Ft),e.options&&t.setOptions(e.options),t.addJSON(e.nested).resolveAll()};Ft.prototype.resolvePath=oi.path.resolve;Ft.prototype.fetch=oi.fetch;function UH(){}Ft.prototype.load=function r(e,t,o){typeof t=="function"&&(o=t,t=void 0);var s=this;if(!o)return oi.asPromise(r,s,e,t);var a=o===UH;function i(m,O){if(o){if(a)throw m;O&&O.resolveAll();var y=o;o=null,y(m,O)}}function n(m){var O=m.lastIndexOf("google/protobuf/");if(O>-1){var y=m.substring(O);if(y in Bc)return y}return null}function l(m,O){try{if(oi.isString(O)&&O.charAt(0)==="{"&&(O=JSON.parse(O)),!oi.isString(O))s.setOptions(O.options).addJSON(O.nested);else{Ry.filename=m;var y=Ry(O,s,t),A,I=0;if(y.imports)for(;I<y.imports.length;++I)(A=n(y.imports[I])||s.resolvePath(m,y.imports[I]))&&c(A);if(y.weakImports)for(I=0;I<y.weakImports.length;++I)(A=n(y.weakImports[I])||s.resolvePath(m,y.weakImports[I]))&&c(A,!0)}}catch(M){i(M)}!a&&!u&&i(null,s)}function c(m,O){if(m=n(m)||m,!(s.files.indexOf(m)>-1)){if(s.files.push(m),m in Bc){a?l(m,Bc[m]):(++u,setTimeout(function(){--u,l(m,Bc[m])}));return}if(a){var y;try{y=oi.fs.readFileSync(m).toString("utf8")}catch(A){O||i(A);return}l(m,y)}else++u,s.fetch(m,function(A,I){if(--u,!!o){if(A){O?u||i(null,s):i(A);return}l(m,I)}})}}var u=0;oi.isString(e)&&(e=[e]);for(var f=0,_;f<e.length;++f)(_=s.resolvePath("",e[f]))&&c(_);return a?(s.resolveAll(),s):(u||i(null,s),s)};Ft.prototype.loadSync=function(e,t){if(!oi.isNode)throw Error("not supported");return this.load(e,t,UH)};Ft.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map(function(e){return"'extend "+e.extend+"' in "+e.parent.fullName}).join(", "));return d_.prototype.resolveAll.call(this)};var p_=/^[A-Z]/;function DH(r,e){var t=e.parent.lookup(e.extend);if(t){var o=new f_(e.fullName,e.id,e.type,e.rule,void 0,e.options);return t.get(o.name)||(o.declaringField=e,e.extensionField=o,t.add(o)),!0}return!1}Ft.prototype._handleAdd=function(e){if(e instanceof f_)e.extend!==void 0&&!e.extensionField&&(DH(this,e)||this.deferred.push(e));else if(e instanceof Oy)p_.test(e.name)&&(e.parent[e.name]=e.values);else if(!(e instanceof Vfe)){if(e instanceof Ay)for(var t=0;t<this.deferred.length;)DH(this,this.deferred[t])?this.deferred.splice(t,1):++t;for(var o=0;o<e.nestedArray.length;++o)this._handleAdd(e._nestedArray[o]);p_.test(e.name)&&(e.parent[e.name]=e)}(e instanceof Ay||e instanceof Oy||e instanceof f_)&&(this._fullyQualifiedObjects[e.fullName]=e)};Ft.prototype._handleRemove=function(e){if(e instanceof f_){if(e.extend!==void 0)if(e.extensionField)e.extensionField.parent.remove(e.extensionField),e.extensionField=null;else{var t=this.deferred.indexOf(e);t>-1&&this.deferred.splice(t,1)}}else if(e instanceof Oy)p_.test(e.name)&&delete e.parent[e.name];else if(e instanceof d_){for(var o=0;o<e.nestedArray.length;++o)this._handleRemove(e._nestedArray[o]);p_.test(e.name)&&delete e.parent[e.name]}delete this._fullyQualifiedObjects[e.fullName]};Ft._configure=function(r,e,t){Ay=r,Ry=e,Bc=t}});var rt=T((YVe,VH)=>{"use strict";var He=VH.exports=Fr(),BH=tv(),Ny,Cy;He.codegen=dH();He.fetch=_H();He.path=TH();He.fs=He.inquire("fs");He.toArray=function(e){if(e){for(var t=Object.keys(e),o=new Array(t.length),s=0;s<t.length;)o[s]=e[t[s++]];return o}return[]};He.toObject=function(e){for(var t={},o=0;o<e.length;){var s=e[o++],a=e[o++];a!==void 0&&(t[s]=a)}return t};var Ffe=/\\/g,Gfe=/"/g;He.isReserved=function(e){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(e)};He.safeProp=function(e){return!/^[$\w_]+$/.test(e)||He.isReserved(e)?'["'+e.replace(Ffe,"\\\\").replace(Gfe,'\\"')+'"]':"."+e};He.ucFirst=function(e){return e.charAt(0).toUpperCase()+e.substring(1)};var Hfe=/_([a-z])/g;He.camelCase=function(e){return e.substring(0,1)+e.substring(1).replace(Hfe,function(t,o){return o.toUpperCase()})};He.compareFieldsById=function(e,t){return e.id-t.id};He.decorateType=function(e,t){if(e.$type)return t&&e.$type.name!==t&&(He.decorateRoot.remove(e.$type),e.$type.name=t,He.decorateRoot.add(e.$type)),e.$type;Ny||(Ny=u_());var o=new Ny(t||e.name);return He.decorateRoot.add(o),o.ctor=e,Object.defineProperty(e,"$type",{value:o,enumerable:!1}),Object.defineProperty(e.prototype,"$type",{value:o,enumerable:!1}),o};var qfe=0;He.decorateEnum=function(e){if(e.$type)return e.$type;Cy||(Cy=Or());var t=new Cy("Enum"+qfe++,e);return He.decorateRoot.add(t),Object.defineProperty(e,"$type",{value:t,enumerable:!1}),t};He.setProperty=function(e,t,o,s){function a(i,n,l){var c=n.shift();if(c==="__proto__"||c==="prototype")return i;if(n.length>0)i[c]=a(i[c]||{},n,l);else{var u=i[c];if(u&&s)return i;u&&(l=[].concat(u).concat(l)),i[c]=l}return i}if(typeof e!="object")throw TypeError("dst must be an object");if(!t)throw TypeError("path must be specified");return t=t.split("."),a(e,t,o)};Object.defineProperty(He,"decorateRoot",{get:function(){return BH.decorated||(BH.decorated=new(h_()))}})});var fo=T(FH=>{"use strict";var Vc=FH,jfe=rt(),Yfe=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function Fc(r,e){var t=0,o={};for(e|=0;t<r.length;)o[Yfe[t+e]]=r[t++];return o}Vc.basic=Fc([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]);Vc.defaults=Fc([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",jfe.emptyArray,null]);Vc.long=Fc([0,0,0,1,1],7);Vc.mapKey=Fc([0,0,0,5,5,0,0,0,1,1,0,2],2);Vc.packed=Fc([1,5,0,0,0,5,5,0,0,0,1,1,0])});var ni=T((zVe,HH)=>{"use strict";HH.exports=nt;var Hc=ii();((nt.prototype=Object.create(Hc.prototype)).constructor=nt).className="Field";var GH=Or(),Py=fo(),ze=rt(),Gc,Kfe=/^required|optional|repeated$/;nt.fromJSON=function(e,t){var o=new nt(e,t.id,t.type,t.rule,t.extend,t.options,t.comment);return t.edition&&(o._edition=t.edition),o._defaultEdition="proto3",o};function nt(r,e,t,o,s,a,i){if(ze.isObject(o)?(i=s,a=o,o=s=void 0):ze.isObject(s)&&(i=a,a=s,s=void 0),Hc.call(this,r,a),!ze.isInteger(e)||e<0)throw TypeError("id must be a non-negative integer");if(!ze.isString(t))throw TypeError("type must be a string");if(o!==void 0&&!Kfe.test(o=o.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(s!==void 0&&!ze.isString(s))throw TypeError("extend must be a string");o==="proto3_optional"&&(o="optional"),this.rule=o&&o!=="optional"?o:void 0,this.type=t,this.id=e,this.extend=s||void 0,this.repeated=o==="repeated",this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=ze.Long?Py.long[t]!==void 0:!1,this.bytes=t==="bytes",this.resolvedType=null,this.extensionField=null,this.declaringField=null,this.comment=i}Object.defineProperty(nt.prototype,"required",{get:function(){return this._features.field_presence==="LEGACY_REQUIRED"}});Object.defineProperty(nt.prototype,"optional",{get:function(){return!this.required}});Object.defineProperty(nt.prototype,"delimited",{get:function(){return this.resolvedType instanceof Gc&&this._features.message_encoding==="DELIMITED"}});Object.defineProperty(nt.prototype,"packed",{get:function(){return this._features.repeated_field_encoding==="PACKED"}});Object.defineProperty(nt.prototype,"hasPresence",{get:function(){return this.repeated||this.map?!1:this.partOf||this.declaringField||this.extensionField||this._features.field_presence!=="IMPLICIT"}});nt.prototype.setOption=function(e,t,o){return Hc.prototype.setOption.call(this,e,t,o)};nt.prototype.toJSON=function(e){var t=e?!!e.keepComments:!1;return ze.toObject(["edition",this._editionToJSON(),"rule",this.rule!=="optional"&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])};nt.prototype.resolve=function(){if(this.resolved)return this;if((this.typeDefault=Py.defaults[this.type])===void 0?(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof Gc?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]):this.options&&this.options.proto3_optional&&(this.typeDefault=null),this.options&&this.options.default!=null&&(this.typeDefault=this.options.default,this.resolvedType instanceof GH&&typeof this.typeDefault=="string"&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&(this.options.packed!==void 0&&this.resolvedType&&!(this.resolvedType instanceof GH)&&delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=ze.Long.fromNumber(this.typeDefault,this.type.charAt(0)==="u"),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&typeof this.typeDefault=="string"){var e;ze.base64.test(this.typeDefault)?ze.base64.decode(this.typeDefault,e=ze.newBuffer(ze.base64.length(this.typeDefault)),0):ze.utf8.write(this.typeDefault,e=ze.newBuffer(ze.utf8.length(this.typeDefault)),0),this.typeDefault=e}return this.map?this.defaultValue=ze.emptyObject:this.repeated?this.defaultValue=ze.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof Gc&&(this.parent.ctor.prototype[this.name]=this.defaultValue),Hc.prototype.resolve.call(this)};nt.prototype._inferLegacyProtoFeatures=function(e){if(e!=="proto2"&&e!=="proto3")return{};var t={};if(this.rule==="required"&&(t.field_presence="LEGACY_REQUIRED"),this.parent&&Py.defaults[this.type]===void 0){var o=this.parent.get(this.type.split(".").pop());o&&o instanceof Gc&&o.group&&(t.message_encoding="DELIMITED")}return this.getOption("packed")===!0?t.repeated_field_encoding="PACKED":this.getOption("packed")===!1&&(t.repeated_field_encoding="EXPANDED"),t};nt.prototype._resolveFeatures=function(e){return Hc.prototype._resolveFeatures.call(this,this._edition||e)};nt.d=function(e,t,o,s){return typeof t=="function"?t=ze.decorateType(t).name:t&&typeof t=="object"&&(t=ze.decorateEnum(t).name),function(i,n){ze.decorateType(i.constructor).add(new nt(n,e,t,o,{default:s}))}};nt._configure=function(e){Gc=e}});var uo=T(($Ve,YH)=>{"use strict";YH.exports=Gt;var E_=ii();((Gt.prototype=Object.create(E_.prototype)).constructor=Gt).className="OneOf";var qH=ni(),__=rt();function Gt(r,e,t,o){if(Array.isArray(e)||(t=e,e=void 0),E_.call(this,r,t),!(e===void 0||Array.isArray(e)))throw TypeError("fieldNames must be an Array");this.oneof=e||[],this.fieldsArray=[],this.comment=o}Gt.fromJSON=function(e,t){return new Gt(e,t.oneof,t.options,t.comment)};Gt.prototype.toJSON=function(e){var t=e?!!e.keepComments:!1;return __.toObject(["options",this.options,"oneof",this.oneof,"comment",t?this.comment:void 0])};function jH(r){if(r.parent)for(var e=0;e<r.fieldsArray.length;++e)r.fieldsArray[e].parent||r.parent.add(r.fieldsArray[e])}Gt.prototype.add=function(e){if(!(e instanceof qH))throw TypeError("field must be a Field");return e.parent&&e.parent!==this.parent&&e.parent.remove(e),this.oneof.push(e.name),this.fieldsArray.push(e),e.partOf=this,jH(this),this};Gt.prototype.remove=function(e){if(!(e instanceof qH))throw TypeError("field must be a Field");var t=this.fieldsArray.indexOf(e);if(t<0)throw Error(e+" is not a member of "+this);return this.fieldsArray.splice(t,1),t=this.oneof.indexOf(e.name),t>-1&&this.oneof.splice(t,1),e.partOf=null,this};Gt.prototype.onAdd=function(e){E_.prototype.onAdd.call(this,e);for(var t=this,o=0;o<this.oneof.length;++o){var s=e.get(this.oneof[o]);s&&!s.partOf&&(s.partOf=t,t.fieldsArray.push(s))}jH(this)};Gt.prototype.onRemove=function(e){for(var t=0,o;t<this.fieldsArray.length;++t)(o=this.fieldsArray[t]).parent&&o.parent.remove(o);E_.prototype.onRemove.call(this,e)};Object.defineProperty(Gt.prototype,"isProto3Optional",{get:function(){if(this.fieldsArray==null||this.fieldsArray.length!==1)return!1;var r=this.fieldsArray[0];return r.options!=null&&r.options.proto3_optional===!0}});Gt.d=function(){for(var e=new Array(arguments.length),t=0;t<arguments.length;)e[t]=arguments[t++];return function(s,a){__.decorateType(s.constructor).add(new Gt(a,e)),Object.defineProperty(s,a,{get:__.oneOfGetter(e),set:__.oneOfSetter(e)})}}});var ii=T((XVe,KH)=>{"use strict";KH.exports=ct;ct.className="ReflectionObject";var zfe=uo(),qc=rt(),m_,$fe={enum_type:"OPEN",field_presence:"EXPLICIT",json_format:"ALLOW",message_encoding:"LENGTH_PREFIXED",repeated_field_encoding:"PACKED",utf8_validation:"VERIFY"},Xfe={enum_type:"CLOSED",field_presence:"EXPLICIT",json_format:"LEGACY_BEST_EFFORT",message_encoding:"LENGTH_PREFIXED",repeated_field_encoding:"EXPANDED",utf8_validation:"NONE"},Wfe={enum_type:"OPEN",field_presence:"IMPLICIT",json_format:"ALLOW",message_encoding:"LENGTH_PREFIXED",repeated_field_encoding:"PACKED",utf8_validation:"VERIFY"};function ct(r,e){if(!qc.isString(r))throw TypeError("name must be a string");if(e&&!qc.isObject(e))throw TypeError("options must be an object");this.options=e,this.parsedOptions=null,this.name=r,this._edition=null,this._defaultEdition="proto2",this._features={},this._featuresResolved=!1,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}Object.defineProperties(ct.prototype,{root:{get:function(){for(var r=this;r.parent!==null;)r=r.parent;return r}},fullName:{get:function(){for(var r=[this.name],e=this.parent;e;)r.unshift(e.name),e=e.parent;return r.join(".")}}});ct.prototype.toJSON=function(){throw Error()};ct.prototype.onAdd=function(e){this.parent&&this.parent!==e&&this.parent.remove(this),this.parent=e,this.resolved=!1;var t=e.root;t instanceof m_&&t._handleAdd(this)};ct.prototype.onRemove=function(e){var t=e.root;t instanceof m_&&t._handleRemove(this),this.parent=null,this.resolved=!1};ct.prototype.resolve=function(){return this.resolved?this:(this.root instanceof m_&&(this.resolved=!0),this)};ct.prototype._resolveFeaturesRecursive=function(e){return this._resolveFeatures(this._edition||e)};ct.prototype._resolveFeatures=function(e){if(!this._featuresResolved){var t={};if(!e)throw new Error("Unknown edition for "+this.fullName);var o=Object.assign(this.options?Object.assign({},this.options.features):{},this._inferLegacyProtoFeatures(e));if(this._edition){if(e==="proto2")t=Object.assign({},Xfe);else if(e==="proto3")t=Object.assign({},Wfe);else if(e==="2023")t=Object.assign({},$fe);else throw new Error("Unknown edition: "+e);this._features=Object.assign(t,o||{}),this._featuresResolved=!0;return}if(this.partOf instanceof zfe){var s=Object.assign({},this.partOf._features);this._features=Object.assign(s,o||{})}else if(!this.declaringField)if(this.parent){var a=Object.assign({},this.parent._features);this._features=Object.assign(a,o||{})}else throw new Error("Unable to find a parent for "+this.fullName);this.extensionField&&(this.extensionField._features=this._features),this._featuresResolved=!0}};ct.prototype._inferLegacyProtoFeatures=function(){return{}};ct.prototype.getOption=function(e){if(this.options)return this.options[e]};ct.prototype.setOption=function(e,t,o){return this.options||(this.options={}),/^features\./.test(e)?qc.setProperty(this.options,e,t,o):(!o||this.options[e]===void 0)&&(this.getOption(e)!==t&&(this.resolved=!1),this.options[e]=t),this};ct.prototype.setParsedOption=function(e,t,o){this.parsedOptions||(this.parsedOptions=[]);var s=this.parsedOptions;if(o){var a=s.find(function(l){return Object.prototype.hasOwnProperty.call(l,e)});if(a){var i=a[e];qc.setProperty(i,o,t)}else a={},a[e]=qc.setProperty({},o,t),s.push(a)}else{var n={};n[e]=t,s.push(n)}return this};ct.prototype.setOptions=function(e,t){if(e)for(var o=Object.keys(e),s=0;s<o.length;++s)this.setOption(o[s],e[o[s]],t);return this};ct.prototype.toString=function(){var e=this.constructor.className,t=this.fullName;return t.length?e+" "+t:e};ct.prototype._editionToJSON=function(){if(!(!this._edition||this._edition==="proto3"))return this._edition};ct._configure=function(r){m_=r}});var Or=T((WVe,$H)=>{"use strict";$H.exports=Ar;var Iy=ii();((Ar.prototype=Object.create(Iy.prototype)).constructor=Ar).className="Enum";var zH=fa(),T_=rt();function Ar(r,e,t,o,s,a){if(Iy.call(this,r,t),e&&typeof e!="object")throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=o,this.comments=s||{},this.valuesOptions=a,this._valuesFeatures={},this.reserved=void 0,e)for(var i=Object.keys(e),n=0;n<i.length;++n)typeof e[i[n]]=="number"&&(this.valuesById[this.values[i[n]]=e[i[n]]]=i[n])}Ar.prototype._resolveFeatures=function(e){return e=this._edition||e,Iy.prototype._resolveFeatures.call(this,e),Object.keys(this.values).forEach(t=>{var o=Object.assign({},this._features);this._valuesFeatures[t]=Object.assign(o,this.valuesOptions&&this.valuesOptions[t]&&this.valuesOptions[t].features)}),this};Ar.fromJSON=function(e,t){var o=new Ar(e,t.values,t.options,t.comment,t.comments);return o.reserved=t.reserved,t.edition&&(o._edition=t.edition),o._defaultEdition="proto3",o};Ar.prototype.toJSON=function(e){var t=e?!!e.keepComments:!1;return T_.toObject(["edition",this._editionToJSON(),"options",this.options,"valuesOptions",this.valuesOptions,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",t?this.comment:void 0,"comments",t?this.comments:void 0])};Ar.prototype.add=function(e,t,o,s){if(!T_.isString(e))throw TypeError("name must be a string");if(!T_.isInteger(t))throw TypeError("id must be an integer");if(this.values[e]!==void 0)throw Error("duplicate name '"+e+"' in "+this);if(this.isReservedId(t))throw Error("id "+t+" is reserved in "+this);if(this.isReservedName(e))throw Error("name '"+e+"' is reserved in "+this);if(this.valuesById[t]!==void 0){if(!(this.options&&this.options.allow_alias))throw Error("duplicate id "+t+" in "+this);this.values[e]=t}else this.valuesById[this.values[e]=t]=e;return s&&(this.valuesOptions===void 0&&(this.valuesOptions={}),this.valuesOptions[e]=s||null),this.comments[e]=o||null,this};Ar.prototype.remove=function(e){if(!T_.isString(e))throw TypeError("name must be a string");var t=this.values[e];if(t==null)throw Error("name '"+e+"' does not exist in "+this);return delete this.valuesById[t],delete this.values[e],delete this.comments[e],this.valuesOptions&&delete this.valuesOptions[e],this};Ar.prototype.isReservedId=function(e){return zH.isReservedId(this.reserved,e)};Ar.prototype.isReservedName=function(e){return zH.isReservedName(this.reserved,e)}});var yy=T((JVe,WH)=>{"use strict";WH.exports=Qfe;var Jfe=Or(),by=fo(),Ly=rt();function XH(r,e,t,o){return e.delimited?r("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",t,o,(e.id<<3|3)>>>0,(e.id<<3|4)>>>0):r("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",t,o,(e.id<<3|2)>>>0)}function Qfe(r){for(var e=Ly.codegen(["m","w"],r.name+"$encode")("if(!w)")("w=Writer.create()"),t,o,s=r.fieldsArray.slice().sort(Ly.compareFieldsById),t=0;t<s.length;++t){var a=s[t].resolve(),i=r._fieldsArray.indexOf(a),n=a.resolvedType instanceof Jfe?"int32":a.type,l=by.basic[n];o="m"+Ly.safeProp(a.name),a.map?(e("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",o,a.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",o)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(a.id<<3|2)>>>0,8|by.mapKey[a.keyType],a.keyType),l===void 0?e("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",i,o):e(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|l,n,o),e("}")("}")):a.repeated?(e("if(%s!=null&&%s.length){",o,o),a.packed&&by.packed[n]!==void 0?e("w.uint32(%i).fork()",(a.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",o)("w.%s(%s[i])",n,o)("w.ldelim()"):(e("for(var i=0;i<%s.length;++i)",o),l===void 0?XH(e,a,i,o+"[i]"):e("w.uint32(%i).%s(%s[i])",(a.id<<3|l)>>>0,n,o)),e("}")):(a.optional&&e("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",o,a.name),l===void 0?XH(e,a,i,o):e("w.uint32(%i).%s(%s)",(a.id<<3|l)>>>0,n,o))}return e("return w")}});var QH=T((QVe,JH)=>{"use strict";var de=JH.exports=rv();de.build="light";function Zfe(r,e,t){return typeof e=="function"?(t=e,e=new de.Root):e||(e=new de.Root),e.load(r,t)}de.load=Zfe;function epe(r,e){return e||(e=new de.Root),e.loadSync(r)}de.loadSync=epe;de.encoder=yy();de.decoder=fy();de.verifier=hy();de.converter=my();de.ReflectionObject=ii();de.Namespace=fa();de.Root=h_();de.Enum=Or();de.Type=u_();de.Field=ni();de.OneOf=uo();de.MapField=i_();de.Service=s_();de.Method=o_();de.Message=a_();de.wrappers=Ty();de.types=fo();de.util=rt();de.ReflectionObject._configure(de.Root);de.Namespace._configure(de.Type,de.Service,de.Enum);de.Root._configure(de.Type);de.Field._configure(de.Type)});var My=T((ZVe,tq)=>{"use strict";tq.exports=eq;var xy=/[\s{}=;:[\],'"()<>]/g,tpe=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,rpe=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,npe=/^ *[*/]+ */,ipe=/^\s*\*?\/*/,ope=/\n/g,spe=/\s/,ape=/\\(.?)/g,lpe={0:"\0",r:"\r",n:`
`,t:"	"};function ZH(r){return r.replace(ape,function(e,t){switch(t){case"\\":case"":return t;default:return lpe[t]||""}})}eq.unescape=ZH;function eq(r,e){r=r.toString();var t=0,o=r.length,s=1,a=0,i={},n=[],l=null;function c(N){return Error("illegal "+N+" (line "+s+")")}function u(){var N=l==="'"?rpe:tpe;N.lastIndex=t-1;var K=N.exec(r);if(!K)throw c("string");return t=N.lastIndex,A(l),l=null,ZH(K[1])}function f(N){return r.charAt(N)}function _(N,K,B){var G={type:r.charAt(N++),lineEmpty:!1,leading:B},te;e?te=2:te=3;var $=N-te,le;do if(--$<0||(le=r.charAt($))===`
`){G.lineEmpty=!0;break}while(le===" "||le==="	");for(var v=r.substring(N,K).split(ope),W=0;W<v.length;++W)v[W]=v[W].replace(e?ipe:npe,"").trim();G.text=v.join(`
`).trim(),i[s]=G,a=s}function m(N){var K=O(N),B=r.substring(N,K),G=/^\s*\/\//.test(B);return G}function O(N){for(var K=N;K<o&&f(K)!==`
`;)K++;return K}function y(){if(n.length>0)return n.shift();if(l)return u();var N,K,B,G,te,$=t===0;do{if(t===o)return null;for(N=!1;spe.test(B=f(t));)if(B===`
`&&($=!0,++s),++t===o)return null;if(f(t)==="/"){if(++t===o)throw c("comment");if(f(t)==="/")if(e){if(G=t,te=!1,m(t-1)){te=!0;do if(t=O(t),t===o||(t++,!$))break;while(m(t))}else t=Math.min(o,O(t)+1);te&&(_(G,t,$),$=!0),s++,N=!0}else{for(te=f(G=t+1)==="/";f(++t)!==`
`;)if(t===o)return null;++t,te&&(_(G,t-1,$),$=!0),++s,N=!0}else if((B=f(t))==="*"){G=t+1,te=e||f(G)==="*";do{if(B===`
`&&++s,++t===o)throw c("comment");K=B,B=f(t)}while(K!=="*"||B!=="/");++t,te&&(_(G,t-2,$),$=!0),N=!0}else return"/"}}while(N);var le=t;xy.lastIndex=0;var v=xy.test(f(le++));if(!v)for(;le<o&&!xy.test(f(le));)++le;var W=r.substring(t,t=le);return(W==='"'||W==="'")&&(l=W),W}function A(N){n.push(N)}function I(){if(!n.length){var N=y();if(N===null)return null;A(N)}return n[0]}function M(N,K){var B=I(),G=B===N;if(G)return y(),!0;if(!K)throw c("token '"+B+"', '"+N+"' expected");return!1}function F(N){var K=null,B;return N===void 0?(B=i[s-1],delete i[s-1],B&&(e||B.type==="*"||B.lineEmpty)&&(K=B.leading?B.text:null)):(a<N&&I(),B=i[N],delete i[N],B&&!B.lineEmpty&&(e||B.type==="/")&&(K=B.leading?null:B.text)),K}return Object.defineProperty({next:y,peek:I,push:A,skip:M,cmnt:F},"line",{get:function(){return s}})}});var aq=T((e2e,sq)=>{"use strict";sq.exports=vn;vn.filename=null;vn.defaults={keepCase:!1};var cpe=My(),rq=h_(),nq=u_(),iq=ni(),upe=i_(),oq=uo(),fpe=Or(),ppe=s_(),dpe=o_(),hpe=ii(),_pe=fo(),wy=rt(),Epe=/^[1-9][0-9]*$/,mpe=/^-?[1-9][0-9]*$/,Tpe=/^0[x][0-9a-fA-F]+$/,Spe=/^-?0[x][0-9a-fA-F]+$/,gpe=/^0[0-7]+$/,vpe=/^-?0[0-7]+$/,ype=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,Xr=/^[a-zA-Z_][a-zA-Z_0-9]*$/,Wr=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/;function vn(r,e,t){e instanceof rq||(t=e,e=new rq),t||(t=vn.defaults);var o=t.preferTrailingComment||!1,s=cpe(r,t.alternateCommentMode||!1),a=s.next,i=s.push,n=s.peek,l=s.skip,c=s.cmnt,u=!0,f,_,m,O="proto2",y=e,A=[],I={},M=t.keepCase?function(L){return L}:wy.camelCase;function F(){A.forEach(L=>{L._edition=O,Object.keys(I).forEach(b=>{L.getOption(b)===void 0&&L.setOption(b,I[b],!0)})})}function N(L,b,x){var j=vn.filename;return x||(vn.filename=null),Error("illegal "+(b||"token")+" '"+L+"' ("+(j?j+", ":"")+"line "+s.line+")")}function K(){var L=[],b;do{if((b=a())!=='"'&&b!=="'")throw N(b);L.push(a()),l(b),b=n()}while(b==='"'||b==="'");return L.join("")}function B(L){var b=a();switch(b){case"'":case'"':return i(b),K();case"true":case"TRUE":return!0;case"false":case"FALSE":return!1}try{return te(b,!0)}catch{if(L&&Wr.test(b))return b;throw N(b,"value")}}function G(L,b){var x,j;do if(b&&((x=n())==='"'||x==="'")){var q=K();if(L.push(q),O>=2023)throw N(q,"id")}else try{L.push([j=$(a()),l("to",!0)?$(a()):j])}catch(Le){if(b&&Wr.test(x)&&O>=2023)L.push(x);else throw Le}while(l(",",!0));var ne={options:void 0};ne.setOption=function(Le,ut){this.options===void 0&&(this.options={}),this.options[Le]=ut},C(ne,function(ut){if(ut==="option")Z(ne,ut),l(";");else throw N(ut)},function(){We(ne)})}function te(L,b){var x=1;switch(L.charAt(0)==="-"&&(x=-1,L=L.substring(1)),L){case"inf":case"INF":case"Inf":return x*(1/0);case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(Epe.test(L))return x*parseInt(L,10);if(Tpe.test(L))return x*parseInt(L,16);if(gpe.test(L))return x*parseInt(L,8);if(ype.test(L))return x*parseFloat(L);throw N(L,"number",b)}function $(L,b){switch(L){case"max":case"MAX":case"Max":return 536870911;case"0":return 0}if(!b&&L.charAt(0)==="-")throw N(L,"id");if(mpe.test(L))return parseInt(L,10);if(Spe.test(L))return parseInt(L,16);if(vpe.test(L))return parseInt(L,8);throw N(L,"id")}function le(){if(f!==void 0)throw N("package");if(f=a(),!Wr.test(f))throw N(f,"name");y=y.define(f),l(";")}function v(){var L=n(),b;switch(L){case"weak":b=m||(m=[]),a();break;case"public":a();default:b=_||(_=[]);break}L=K(),l(";"),b.push(L)}function W(){if(l("="),O=K(),O<2023)throw N(O,"syntax");l(";")}function R(){if(l("="),O=K(),!["2023"].includes(O))throw N(O,"edition");l(";")}function E(L,b){switch(b){case"option":return Z(L,b),l(";"),!0;case"message":return Q(L,b),!0;case"enum":return Me(L,b),!0;case"service":return Do(L,b),!0;case"extend":return mi(L,b),!0}return!1}function C(L,b,x){var j=s.line;if(L&&(typeof L.comment!="string"&&(L.comment=c()),L.filename=vn.filename),l("{",!0)){for(var q;(q=a())!=="}";)b(q);l(";",!0)}else x&&x(),l(";"),L&&(typeof L.comment!="string"||o)&&(L.comment=c(j)||L.comment)}function Q(L,b){if(!Xr.test(b=a()))throw N(b,"type name");var x=new nq(b);C(x,function(q){if(!E(x,q))switch(q){case"map":ce(x,q);break;case"required":if(O!=="proto2")throw N(q);case"repeated":Y(x,q);break;case"optional":if(O==="proto3")Y(x,"proto3_optional");else{if(O!=="proto2")throw N(q);Y(x,"optional")}break;case"oneof":Ne(x,q);break;case"extensions":G(x.extensions||(x.extensions=[]));break;case"reserved":G(x.reserved||(x.reserved=[]),!0);break;default:if(O==="proto2"||!Wr.test(q))throw N(q);i(q),Y(x,"optional");break}}),L.add(x),L===y&&A.push(x)}function Y(L,b,x){var j=a();if(j==="group"){J(L,b);return}for(;j.endsWith(".")||n().startsWith(".");)j+=a();if(!Wr.test(j))throw N(j,"type");var q=a();if(!Xr.test(q))throw N(q,"name");q=M(q),l("=");var ne=new iq(q,$(a()),j,b,x);if(C(ne,function(Et){if(Et==="option")Z(ne,Et),l(";");else throw N(Et)},function(){We(ne)}),b==="proto3_optional"){var Le=new oq("_"+q);ne.setOption("proto3_optional",!0),Le.add(ne),L.add(Le)}else L.add(ne);L===y&&A.push(ne)}function J(L,b){if(O>=2023)throw N("group");var x=a();if(!Xr.test(x))throw N(x,"name");var j=wy.lcFirst(x);x===j&&(x=wy.ucFirst(x)),l("=");var q=$(a()),ne=new nq(x);ne.group=!0;var Le=new iq(j,q,x,b);Le.filename=vn.filename,C(ne,function(Et){switch(Et){case"option":Z(ne,Et),l(";");break;case"required":case"repeated":Y(ne,Et);break;case"optional":O==="proto3"?Y(ne,"proto3_optional"):Y(ne,"optional");break;case"message":Q(ne,Et);break;case"enum":Me(ne,Et);break;case"reserved":G(ne.reserved||(ne.reserved=[]),!0);break;default:throw N(Et)}}),L.add(ne).add(Le)}function ce(L){l("<");var b=a();if(_pe.mapKey[b]===void 0)throw N(b,"type");l(",");var x=a();if(!Wr.test(x))throw N(x,"type");l(">");var j=a();if(!Xr.test(j))throw N(j,"name");l("=");var q=new upe(M(j),$(a()),b,x);C(q,function(Le){if(Le==="option")Z(q,Le),l(";");else throw N(Le)},function(){We(q)}),L.add(q)}function Ne(L,b){if(!Xr.test(b=a()))throw N(b,"name");var x=new oq(M(b));C(x,function(q){q==="option"?(Z(x,q),l(";")):(i(q),Y(x,"optional"))}),L.add(x)}function Me(L,b){if(!Xr.test(b=a()))throw N(b,"name");var x=new fpe(b);C(x,function(q){switch(q){case"option":Z(x,q),l(";");break;case"reserved":G(x.reserved||(x.reserved=[]),!0),x.reserved===void 0&&(x.reserved=[]);break;default:Te(x,q)}}),L.add(x),L===y&&A.push(x)}function Te(L,b){if(!Xr.test(b))throw N(b,"name");l("=");var x=$(a(),!0),j={options:void 0};j.getOption=function(q){return this.options[q]},j.setOption=function(q,ne){hpe.prototype.setOption.call(j,q,ne)},j.setParsedOption=function(){},C(j,function(ne){if(ne==="option")Z(j,ne),l(";");else throw N(ne)},function(){We(j)}),L.add(b,x,j.comment,j.parsedOptions||j.options)}function Z(L,b){var x,j,q=!0;for(b==="option"&&(b=a());b!=="=";){if(b==="("){var ne=a();l(")"),b="("+ne+")"}if(q){if(q=!1,b.includes(".")&&!b.includes("(")){var Le=b.split(".");x=Le[0]+".",b=Le[1];continue}x=b}else j=j?j+=b:b;b=a()}var ut=j?x.concat(j):x,Et=je(L,ut);j=j&&j[0]==="."?j.slice(1):j,x=x&&x[x.length-1]==="."?x.slice(0,-1):x,we(L,x,Et,j)}function je(L,b){if(l("{",!0)){for(var x={};!l("}",!0);){if(!Xr.test(Ye=a()))throw N(Ye,"name");if(Ye===null)throw N(Ye,"end of input");var j,q=Ye;if(l(":",!0),n()==="{")j=je(L,b+"."+Ye);else if(n()==="["){j=[];var ne;if(l("[",!0)){do ne=B(!0),j.push(ne);while(l(",",!0));l("]"),typeof ne<"u"&&Ee(L,b+"."+Ye,ne)}}else j=B(!0),Ee(L,b+"."+Ye,j);var Le=x[q];Le&&(j=[].concat(Le).concat(j)),x[q]=j,l(",",!0),l(";",!0)}return x}var ut=B(!0);return Ee(L,b,ut),ut}function Ee(L,b,x){if(y===L&&/^features\./.test(b)){I[b]=x;return}L.setOption&&L.setOption(b,x)}function we(L,b,x,j){L.setParsedOption&&L.setParsedOption(b,x,j)}function We(L){if(l("[",!0)){do Z(L,"option");while(l(",",!0));l("]")}return L}function Do(L,b){if(!Xr.test(b=a()))throw N(b,"service name");var x=new ppe(b);C(x,function(q){if(!E(x,q))if(q==="rpc")Uo(x,q);else throw N(q)}),L.add(x),L===y&&A.push(x)}function Uo(L,b){var x=c(),j=b;if(!Xr.test(b=a()))throw N(b,"name");var q=b,ne,Le,ut,Et;if(l("("),l("stream",!0)&&(Le=!0),!Wr.test(b=a())||(ne=b,l(")"),l("returns"),l("("),l("stream",!0)&&(Et=!0),!Wr.test(b=a())))throw N(b);ut=b,l(")");var Iu=new dpe(q,j,ne,ut,Le,Et);Iu.comment=x,C(Iu,function(um){if(um==="option")Z(Iu,um),l(";");else throw N(um)}),L.add(Iu)}function mi(L,b){if(!Wr.test(b=a()))throw N(b,"reference");var x=b;C(null,function(q){switch(q){case"required":case"repeated":Y(L,q,x);break;case"optional":O==="proto3"?Y(L,"proto3_optional",x):Y(L,"optional",x);break;default:if(O==="proto2"||!Wr.test(q))throw N(q);i(q),Y(L,"optional",x);break}})}for(var Ye;(Ye=a())!==null;)switch(Ye){case"package":if(!u)throw N(Ye);le();break;case"import":if(!u)throw N(Ye);v();break;case"syntax":if(!u)throw N(Ye);W();break;case"edition":if(!u)throw N(Ye);R();break;case"option":Z(y,Ye),l(";",!0);break;default:if(E(y,Ye)){u=!1;continue}throw N(Ye)}return F(),vn.filename=null,{package:f,imports:_,weakImports:m,root:e}}});var uq=T((t2e,cq)=>{"use strict";cq.exports=Rr;var Ope=/\/|\./;function Rr(r,e){Ope.test(r)||(r="google/protobuf/"+r+".proto",e={nested:{google:{nested:{protobuf:{nested:e}}}}}),Rr[r]=e}Rr("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}});var lq;Rr("duration",{Duration:lq={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}});Rr("timestamp",{Timestamp:lq});Rr("empty",{Empty:{fields:{}}});Rr("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}});Rr("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}});Rr("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}});Rr.get=function(e){return Rr[e]||null}});var pq=T((r2e,fq)=>{"use strict";var si=fq.exports=QH();si.build="full";si.tokenize=My();si.parse=aq();si.common=uq();si.Root._configure(si.Type,si.parse,si.common)});var S_=T((n2e,dq)=>{"use strict";dq.exports=pq()});var Dy=T((i2e,Ape)=>{Ape.exports={nested:{google:{nested:{protobuf:{options:{go_package:"google.golang.org/protobuf/types/descriptorpb",java_package:"com.google.protobuf",java_outer_classname:"DescriptorProtos",csharp_namespace:"Google.Protobuf.Reflection",objc_class_prefix:"GPB",cc_enable_arenas:!0,optimize_for:"SPEED"},nested:{FileDescriptorSet:{edition:"proto2",fields:{file:{rule:"repeated",type:"FileDescriptorProto",id:1}},extensions:[[536e6,536e6]]},Edition:{edition:"proto2",values:{EDITION_UNKNOWN:0,EDITION_LEGACY:900,EDITION_PROTO2:998,EDITION_PROTO3:999,EDITION_2023:1e3,EDITION_2024:1001,EDITION_1_TEST_ONLY:1,EDITION_2_TEST_ONLY:2,EDITION_99997_TEST_ONLY:99997,EDITION_99998_TEST_ONLY:99998,EDITION_99999_TEST_ONLY:99999,EDITION_MAX:2147483647}},FileDescriptorProto:{edition:"proto2",fields:{name:{type:"string",id:1},package:{type:"string",id:2},dependency:{rule:"repeated",type:"string",id:3},publicDependency:{rule:"repeated",type:"int32",id:10},weakDependency:{rule:"repeated",type:"int32",id:11},optionDependency:{rule:"repeated",type:"string",id:15},messageType:{rule:"repeated",type:"DescriptorProto",id:4},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:5},service:{rule:"repeated",type:"ServiceDescriptorProto",id:6},extension:{rule:"repeated",type:"FieldDescriptorProto",id:7},options:{type:"FileOptions",id:8},sourceCodeInfo:{type:"SourceCodeInfo",id:9},syntax:{type:"string",id:12},edition:{type:"Edition",id:14}}},DescriptorProto:{edition:"proto2",fields:{name:{type:"string",id:1},field:{rule:"repeated",type:"FieldDescriptorProto",id:2},extension:{rule:"repeated",type:"FieldDescriptorProto",id:6},nestedType:{rule:"repeated",type:"DescriptorProto",id:3},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:4},extensionRange:{rule:"repeated",type:"ExtensionRange",id:5},oneofDecl:{rule:"repeated",type:"OneofDescriptorProto",id:8},options:{type:"MessageOptions",id:7},reservedRange:{rule:"repeated",type:"ReservedRange",id:9},reservedName:{rule:"repeated",type:"string",id:10},visibility:{type:"SymbolVisibility",id:11}},nested:{ExtensionRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2},options:{type:"ExtensionRangeOptions",id:3}}},ReservedRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}}}},ExtensionRangeOptions:{edition:"proto2",fields:{uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999},declaration:{rule:"repeated",type:"Declaration",id:2,options:{retention:"RETENTION_SOURCE"}},features:{type:"FeatureSet",id:50},verification:{type:"VerificationState",id:3,options:{default:"UNVERIFIED",retention:"RETENTION_SOURCE"}}},extensions:[[1e3,536870911]],nested:{Declaration:{fields:{number:{type:"int32",id:1},fullName:{type:"string",id:2},type:{type:"string",id:3},reserved:{type:"bool",id:5},repeated:{type:"bool",id:6}},reserved:[[4,4]]},VerificationState:{values:{DECLARATION:0,UNVERIFIED:1}}}},FieldDescriptorProto:{edition:"proto2",fields:{name:{type:"string",id:1},number:{type:"int32",id:3},label:{type:"Label",id:4},type:{type:"Type",id:5},typeName:{type:"string",id:6},extendee:{type:"string",id:2},defaultValue:{type:"string",id:7},oneofIndex:{type:"int32",id:9},jsonName:{type:"string",id:10},options:{type:"FieldOptions",id:8},proto3Optional:{type:"bool",id:17}},nested:{Type:{values:{TYPE_DOUBLE:1,TYPE_FLOAT:2,TYPE_INT64:3,TYPE_UINT64:4,TYPE_INT32:5,TYPE_FIXED64:6,TYPE_FIXED32:7,TYPE_BOOL:8,TYPE_STRING:9,TYPE_GROUP:10,TYPE_MESSAGE:11,TYPE_BYTES:12,TYPE_UINT32:13,TYPE_ENUM:14,TYPE_SFIXED32:15,TYPE_SFIXED64:16,TYPE_SINT32:17,TYPE_SINT64:18}},Label:{values:{LABEL_OPTIONAL:1,LABEL_REPEATED:3,LABEL_REQUIRED:2}}}},OneofDescriptorProto:{edition:"proto2",fields:{name:{type:"string",id:1},options:{type:"OneofOptions",id:2}}},EnumDescriptorProto:{edition:"proto2",fields:{name:{type:"string",id:1},value:{rule:"repeated",type:"EnumValueDescriptorProto",id:2},options:{type:"EnumOptions",id:3},reservedRange:{rule:"repeated",type:"EnumReservedRange",id:4},reservedName:{rule:"repeated",type:"string",id:5},visibility:{type:"SymbolVisibility",id:6}},nested:{EnumReservedRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}}}},EnumValueDescriptorProto:{edition:"proto2",fields:{name:{type:"string",id:1},number:{type:"int32",id:2},options:{type:"EnumValueOptions",id:3}}},ServiceDescriptorProto:{edition:"proto2",fields:{name:{type:"string",id:1},method:{rule:"repeated",type:"MethodDescriptorProto",id:2},options:{type:"ServiceOptions",id:3}}},MethodDescriptorProto:{edition:"proto2",fields:{name:{type:"string",id:1},inputType:{type:"string",id:2},outputType:{type:"string",id:3},options:{type:"MethodOptions",id:4},clientStreaming:{type:"bool",id:5},serverStreaming:{type:"bool",id:6}}},FileOptions:{edition:"proto2",fields:{javaPackage:{type:"string",id:1},javaOuterClassname:{type:"string",id:8},javaMultipleFiles:{type:"bool",id:10},javaGenerateEqualsAndHash:{type:"bool",id:20,options:{deprecated:!0}},javaStringCheckUtf8:{type:"bool",id:27},optimizeFor:{type:"OptimizeMode",id:9,options:{default:"SPEED"}},goPackage:{type:"string",id:11},ccGenericServices:{type:"bool",id:16},javaGenericServices:{type:"bool",id:17},pyGenericServices:{type:"bool",id:18},deprecated:{type:"bool",id:23},ccEnableArenas:{type:"bool",id:31,options:{default:!0}},objcClassPrefix:{type:"string",id:36},csharpNamespace:{type:"string",id:37},swiftPrefix:{type:"string",id:39},phpClassPrefix:{type:"string",id:40},phpNamespace:{type:"string",id:41},phpMetadataNamespace:{type:"string",id:44},rubyPackage:{type:"string",id:45},features:{type:"FeatureSet",id:50},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[42,42],"php_generic_services",[38,38]],nested:{OptimizeMode:{values:{SPEED:1,CODE_SIZE:2,LITE_RUNTIME:3}}}},MessageOptions:{edition:"proto2",fields:{messageSetWireFormat:{type:"bool",id:1},noStandardDescriptorAccessor:{type:"bool",id:2},deprecated:{type:"bool",id:3},mapEntry:{type:"bool",id:7},deprecatedLegacyJsonFieldConflicts:{type:"bool",id:11,options:{deprecated:!0}},features:{type:"FeatureSet",id:12},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[4,4],[5,5],[6,6],[8,8],[9,9]]},FieldOptions:{edition:"proto2",fields:{ctype:{type:"CType",id:1,options:{default:"STRING"}},packed:{type:"bool",id:2},jstype:{type:"JSType",id:6,options:{default:"JS_NORMAL"}},lazy:{type:"bool",id:5},unverifiedLazy:{type:"bool",id:15},deprecated:{type:"bool",id:3},weak:{type:"bool",id:10,options:{deprecated:!0}},debugRedact:{type:"bool",id:16},retention:{type:"OptionRetention",id:17},targets:{rule:"repeated",type:"OptionTargetType",id:19},editionDefaults:{rule:"repeated",type:"EditionDefault",id:20},features:{type:"FeatureSet",id:21},featureSupport:{type:"FeatureSupport",id:22},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[4,4],[18,18]],nested:{CType:{values:{STRING:0,CORD:1,STRING_PIECE:2}},JSType:{values:{JS_NORMAL:0,JS_STRING:1,JS_NUMBER:2}},OptionRetention:{values:{RETENTION_UNKNOWN:0,RETENTION_RUNTIME:1,RETENTION_SOURCE:2}},OptionTargetType:{values:{TARGET_TYPE_UNKNOWN:0,TARGET_TYPE_FILE:1,TARGET_TYPE_EXTENSION_RANGE:2,TARGET_TYPE_MESSAGE:3,TARGET_TYPE_FIELD:4,TARGET_TYPE_ONEOF:5,TARGET_TYPE_ENUM:6,TARGET_TYPE_ENUM_ENTRY:7,TARGET_TYPE_SERVICE:8,TARGET_TYPE_METHOD:9}},EditionDefault:{fields:{edition:{type:"Edition",id:3},value:{type:"string",id:2}}},FeatureSupport:{fields:{editionIntroduced:{type:"Edition",id:1},editionDeprecated:{type:"Edition",id:2},deprecationWarning:{type:"string",id:3},editionRemoved:{type:"Edition",id:4}}}}},OneofOptions:{edition:"proto2",fields:{features:{type:"FeatureSet",id:1},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},EnumOptions:{edition:"proto2",fields:{allowAlias:{type:"bool",id:2},deprecated:{type:"bool",id:3},deprecatedLegacyJsonFieldConflicts:{type:"bool",id:6,options:{deprecated:!0}},features:{type:"FeatureSet",id:7},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[5,5]]},EnumValueOptions:{edition:"proto2",fields:{deprecated:{type:"bool",id:1},features:{type:"FeatureSet",id:2},debugRedact:{type:"bool",id:3},featureSupport:{type:"FieldOptions.FeatureSupport",id:4},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},ServiceOptions:{edition:"proto2",fields:{features:{type:"FeatureSet",id:34},deprecated:{type:"bool",id:33},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},MethodOptions:{edition:"proto2",fields:{deprecated:{type:"bool",id:33},idempotencyLevel:{type:"IdempotencyLevel",id:34,options:{default:"IDEMPOTENCY_UNKNOWN"}},features:{type:"FeatureSet",id:35},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],nested:{IdempotencyLevel:{values:{IDEMPOTENCY_UNKNOWN:0,NO_SIDE_EFFECTS:1,IDEMPOTENT:2}}}},UninterpretedOption:{edition:"proto2",fields:{name:{rule:"repeated",type:"NamePart",id:2},identifierValue:{type:"string",id:3},positiveIntValue:{type:"uint64",id:4},negativeIntValue:{type:"int64",id:5},doubleValue:{type:"double",id:6},stringValue:{type:"bytes",id:7},aggregateValue:{type:"string",id:8}},nested:{NamePart:{fields:{namePart:{rule:"required",type:"string",id:1},isExtension:{rule:"required",type:"bool",id:2}}}}},FeatureSet:{edition:"proto2",fields:{fieldPresence:{type:"FieldPresence",id:1,options:{retention:"RETENTION_RUNTIME",targets:"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_2023","edition_defaults.value":"EXPLICIT"}},enumType:{type:"EnumType",id:2,options:{retention:"RETENTION_RUNTIME",targets:"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"OPEN"}},repeatedFieldEncoding:{type:"RepeatedFieldEncoding",id:3,options:{retention:"RETENTION_RUNTIME",targets:"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"PACKED"}},utf8Validation:{type:"Utf8Validation",id:4,options:{retention:"RETENTION_RUNTIME",targets:"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"VERIFY"}},messageEncoding:{type:"MessageEncoding",id:5,options:{retention:"RETENTION_RUNTIME",targets:"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_LEGACY","edition_defaults.value":"LENGTH_PREFIXED"}},jsonFormat:{type:"JsonFormat",id:6,options:{retention:"RETENTION_RUNTIME",targets:"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"ALLOW"}},enforceNamingStyle:{type:"EnforceNamingStyle",id:7,options:{retention:"RETENTION_SOURCE",targets:"TARGET_TYPE_METHOD","feature_support.edition_introduced":"EDITION_2024","edition_defaults.edition":"EDITION_2024","edition_defaults.value":"STYLE2024"}},defaultSymbolVisibility:{type:"VisibilityFeature.DefaultSymbolVisibility",id:8,options:{retention:"RETENTION_SOURCE",targets:"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2024","edition_defaults.edition":"EDITION_2024","edition_defaults.value":"EXPORT_TOP_LEVEL"}}},extensions:[[1e3,9994],[9995,9999],[1e4,1e4]],reserved:[[999,999]],nested:{FieldPresence:{values:{FIELD_PRESENCE_UNKNOWN:0,EXPLICIT:1,IMPLICIT:2,LEGACY_REQUIRED:3}},EnumType:{values:{ENUM_TYPE_UNKNOWN:0,OPEN:1,CLOSED:2}},RepeatedFieldEncoding:{values:{REPEATED_FIELD_ENCODING_UNKNOWN:0,PACKED:1,EXPANDED:2}},Utf8Validation:{values:{UTF8_VALIDATION_UNKNOWN:0,VERIFY:2,NONE:3}},MessageEncoding:{values:{MESSAGE_ENCODING_UNKNOWN:0,LENGTH_PREFIXED:1,DELIMITED:2}},JsonFormat:{values:{JSON_FORMAT_UNKNOWN:0,ALLOW:1,LEGACY_BEST_EFFORT:2}},EnforceNamingStyle:{values:{ENFORCE_NAMING_STYLE_UNKNOWN:0,STYLE2024:1,STYLE_LEGACY:2}},VisibilityFeature:{fields:{},reserved:[[1,536870911]],nested:{DefaultSymbolVisibility:{values:{DEFAULT_SYMBOL_VISIBILITY_UNKNOWN:0,EXPORT_ALL:1,EXPORT_TOP_LEVEL:2,LOCAL_ALL:3,STRICT:4}}}}}},FeatureSetDefaults:{edition:"proto2",fields:{defaults:{rule:"repeated",type:"FeatureSetEditionDefault",id:1},minimumEdition:{type:"Edition",id:4},maximumEdition:{type:"Edition",id:5}},nested:{FeatureSetEditionDefault:{fields:{edition:{type:"Edition",id:3},overridableFeatures:{type:"FeatureSet",id:4},fixedFeatures:{type:"FeatureSet",id:5}},reserved:[[1,1],[2,2],"features"]}}},SourceCodeInfo:{edition:"proto2",fields:{location:{rule:"repeated",type:"Location",id:1}},extensions:[[536e6,536e6]],nested:{Location:{fields:{path:{rule:"repeated",type:"int32",id:1,options:{packed:!0}},span:{rule:"repeated",type:"int32",id:2,options:{packed:!0}},leadingComments:{type:"string",id:3},trailingComments:{type:"string",id:4},leadingDetachedComments:{rule:"repeated",type:"string",id:6}}}}},GeneratedCodeInfo:{edition:"proto2",fields:{annotation:{rule:"repeated",type:"Annotation",id:1}},nested:{Annotation:{fields:{path:{rule:"repeated",type:"int32",id:1,options:{packed:!0}},sourceFile:{type:"string",id:2},begin:{type:"int32",id:3},end:{type:"int32",id:4},semantic:{type:"Semantic",id:5}},nested:{Semantic:{values:{NONE:0,SET:1,ALIAS:2}}}}}},SymbolVisibility:{edition:"proto2",values:{VISIBILITY_UNSET:0,VISIBILITY_LOCAL:1,VISIBILITY_EXPORT:2}}}}}}}}});var gq=T((ae,Sq)=>{"use strict";var Ht=S_();Sq.exports=ae=Ht.descriptor=Ht.Root.fromJSON(Dy()).lookup(".google.protobuf");var hq=Ht.Namespace,jc=Ht.Root,yn=Ht.Enum,Jr=Ht.Type,ai=Ht.Field,Rpe=Ht.MapField,g_=Ht.OneOf,Yc=Ht.Service,v_=Ht.Method;jc.fromDescriptor=function(e){typeof e.length=="number"&&(e=ae.FileDescriptorSet.decode(e));var t=new jc;if(e.file)for(var o,s,a=0,i;a<e.file.length;++a){s=t,(o=e.file[a]).package&&o.package.length&&(s=t.define(o.package));var n=Dpe(o);if(o.name&&o.name.length&&t.files.push(s.filename=o.name),o.messageType)for(i=0;i<o.messageType.length;++i)s.add(Jr.fromDescriptor(o.messageType[i],n));if(o.enumType)for(i=0;i<o.enumType.length;++i)s.add(yn.fromDescriptor(o.enumType[i],n));if(o.extension)for(i=0;i<o.extension.length;++i)s.add(ai.fromDescriptor(o.extension[i],n));if(o.service)for(i=0;i<o.service.length;++i)s.add(Yc.fromDescriptor(o.service[i],n));var l=da(o.options,ae.FileOptions);if(l){var c=Object.keys(l);for(i=0;i<c.length;++i)s.setOption(c[i],l[c[i]])}}return t.resolveAll()};jc.prototype.toDescriptor=function(e){var t=ae.FileDescriptorSet.create();return _q(this,t.file,e),t};function _q(r,e,t){var o=ae.FileDescriptorProto.create({name:r.filename||(r.fullName.substring(1).replace(/\./g,"_")||"root")+".proto"});Upe(t,o),r instanceof jc||(o.package=r.fullName.substring(1));for(var s=0,a;s<r.nestedArray.length;++s)(a=r._nestedArray[s])instanceof Jr?o.messageType.push(a.toDescriptor(t)):a instanceof yn?o.enumType.push(a.toDescriptor()):a instanceof ai?o.extension.push(a.toDescriptor(t)):a instanceof Yc?o.service.push(a.toDescriptor()):a instanceof hq&&_q(a,e,t);o.options=ha(r.options,ae.FileOptions),o.messageType.length+o.enumType.length+o.extension.length+o.service.length&&e.push(o)}var Npe=0;Jr.fromDescriptor=function(e,t,o){typeof e.length=="number"&&(e=ae.DescriptorProto.decode(e));var s=new Jr(e.name.length?e.name:"Type"+Npe++,da(e.options,ae.MessageOptions)),a;if(o||(s._edition=t),e.oneofDecl)for(a=0;a<e.oneofDecl.length;++a)s.add(g_.fromDescriptor(e.oneofDecl[a]));if(e.field)for(a=0;a<e.field.length;++a){var i=ai.fromDescriptor(e.field[a],t,!0);s.add(i),e.field[a].hasOwnProperty("oneofIndex")&&s.oneofsArray[e.field[a].oneofIndex].add(i)}if(e.extension)for(a=0;a<e.extension.length;++a)s.add(ai.fromDescriptor(e.extension[a],t,!0));if(e.nestedType)for(a=0;a<e.nestedType.length;++a)s.add(Jr.fromDescriptor(e.nestedType[a],t,!0)),e.nestedType[a].options&&e.nestedType[a].options.mapEntry&&s.setOption("map_entry",!0);if(e.enumType)for(a=0;a<e.enumType.length;++a)s.add(yn.fromDescriptor(e.enumType[a],t,!0));if(e.extensionRange&&e.extensionRange.length)for(s.extensions=[],a=0;a<e.extensionRange.length;++a)s.extensions.push([e.extensionRange[a].start,e.extensionRange[a].end]);if(e.reservedRange&&e.reservedRange.length||e.reservedName&&e.reservedName.length){if(s.reserved=[],e.reservedRange)for(a=0;a<e.reservedRange.length;++a)s.reserved.push([e.reservedRange[a].start,e.reservedRange[a].end]);if(e.reservedName)for(a=0;a<e.reservedName.length;++a)s.reserved.push(e.reservedName[a])}return s};Jr.prototype.toDescriptor=function(e){var t=ae.DescriptorProto.create({name:this.name}),o;for(o=0;o<this.fieldsArray.length;++o){var s;if(t.field.push(s=this._fieldsArray[o].toDescriptor(e)),this._fieldsArray[o]instanceof Rpe){var a=Uy(this._fieldsArray[o].keyType,this._fieldsArray[o].resolvedKeyType,!1),i=Uy(this._fieldsArray[o].type,this._fieldsArray[o].resolvedType,!1),n=i===11||i===14?this._fieldsArray[o].resolvedType&&Tq(this.parent,this._fieldsArray[o].resolvedType)||this._fieldsArray[o].type:void 0;t.nestedType.push(ae.DescriptorProto.create({name:s.typeName,field:[ae.FieldDescriptorProto.create({name:"key",number:1,label:1,type:a}),ae.FieldDescriptorProto.create({name:"value",number:2,label:1,type:i,typeName:n})],options:ae.MessageOptions.create({mapEntry:!0})}))}}for(o=0;o<this.oneofsArray.length;++o)t.oneofDecl.push(this._oneofsArray[o].toDescriptor());for(o=0;o<this.nestedArray.length;++o)this._nestedArray[o]instanceof ai?t.field.push(this._nestedArray[o].toDescriptor(e)):this._nestedArray[o]instanceof Jr?t.nestedType.push(this._nestedArray[o].toDescriptor(e)):this._nestedArray[o]instanceof yn&&t.enumType.push(this._nestedArray[o].toDescriptor());if(this.extensions)for(o=0;o<this.extensions.length;++o)t.extensionRange.push(ae.DescriptorProto.ExtensionRange.create({start:this.extensions[o][0],end:this.extensions[o][1]}));if(this.reserved)for(o=0;o<this.reserved.length;++o)typeof this.reserved[o]=="string"?t.reservedName.push(this.reserved[o]):t.reservedRange.push(ae.DescriptorProto.ReservedRange.create({start:this.reserved[o][0],end:this.reserved[o][1]}));return t.options=ha(this.options,ae.MessageOptions),t};var Cpe=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/;ai.fromDescriptor=function(e,t,o){if(typeof e.length=="number"&&(e=ae.DescriptorProto.decode(e)),typeof e.number!="number")throw Error("missing field id");var s;e.typeName&&e.typeName.length?s=e.typeName:s=xpe(e.type);var a;switch(e.label){case 1:a=void 0;break;case 2:a="required";break;case 3:a="repeated";break;default:throw Error("illegal label: "+e.label)}var i=e.extendee;e.extendee!==void 0&&(i=i.length?i:void 0);var n=new ai(e.name.length?e.name:"field"+e.number,e.number,s,a,i);if(o||(n._edition=t),n.options=da(e.options,ae.FieldOptions),e.proto3_optional&&(n.options.proto3_optional=!0),e.defaultValue&&e.defaultValue.length){var l=e.defaultValue;switch(l){case"true":case"TRUE":l=!0;break;case"false":case"FALSE":l=!1;break;default:var c=Cpe.exec(l);c&&(l=parseInt(l));break}n.setOption("default",l)}return Mpe(e.type)&&(t==="proto3"?e.options&&!e.options.packed&&n.setOption("packed",!1):(!t||t==="proto2")&&e.options&&e.options.packed&&n.setOption("packed",!0)),n};ai.prototype.toDescriptor=function(e){var t=ae.FieldDescriptorProto.create({name:this.name,number:this.id});if(this.map)t.type=11,t.typeName=Ht.util.ucFirst(this.name),t.label=3;else{switch(t.type=Uy(this.type,this.resolve().resolvedType,this.delimited)){case 10:case 11:case 14:t.typeName=this.resolvedType?Tq(this.parent,this.resolvedType):this.type;break}this.rule==="repeated"?t.label=3:this.required&&e==="proto2"?t.label=2:t.label=1}if(t.extendee=this.extensionField?this.extensionField.parent.fullName:this.extend,this.partOf&&(t.oneofIndex=this.parent.oneofsArray.indexOf(this.partOf))<0)throw Error("missing oneof");return this.options&&(t.options=ha(this.options,ae.FieldOptions),this.options.default!=null&&(t.defaultValue=String(this.options.default)),this.options.proto3_optional&&(t.proto3_optional=!0)),e==="proto3"?this.packed||((t.options||(t.options=ae.FieldOptions.create())).packed=!1):(!e||e==="proto2")&&this.packed&&((t.options||(t.options=ae.FieldOptions.create())).packed=!0),t};var Ppe=0;yn.fromDescriptor=function(e,t,o){typeof e.length=="number"&&(e=ae.EnumDescriptorProto.decode(e));var s={};if(e.value)for(var a=0;a<e.value.length;++a){var i=e.value[a].name,n=e.value[a].number||0;s[i&&i.length?i:"NAME"+n]=n}var l=new yn(e.name&&e.name.length?e.name:"Enum"+Ppe++,s,da(e.options,ae.EnumOptions));return o||(l._edition=t),l};yn.prototype.toDescriptor=function(){for(var e=[],t=0,o=Object.keys(this.values);t<o.length;++t)e.push(ae.EnumValueDescriptorProto.create({name:o[t],number:this.values[o[t]]}));return ae.EnumDescriptorProto.create({name:this.name,value:e,options:ha(this.options,ae.EnumOptions)})};var Ipe=0;g_.fromDescriptor=function(e){return typeof e.length=="number"&&(e=ae.OneofDescriptorProto.decode(e)),new g_(e.name&&e.name.length?e.name:"oneof"+Ipe++)};g_.prototype.toDescriptor=function(){return ae.OneofDescriptorProto.create({name:this.name})};var bpe=0;Yc.fromDescriptor=function(e,t,o){typeof e.length=="number"&&(e=ae.ServiceDescriptorProto.decode(e));var s=new Yc(e.name&&e.name.length?e.name:"Service"+bpe++,da(e.options,ae.ServiceOptions));if(o||(s._edition=t),e.method)for(var a=0;a<e.method.length;++a)s.add(v_.fromDescriptor(e.method[a]));return s};Yc.prototype.toDescriptor=function(){for(var e=[],t=0;t<this.methodsArray.length;++t)e.push(this._methodsArray[t].toDescriptor());return ae.ServiceDescriptorProto.create({name:this.name,method:e,options:ha(this.options,ae.ServiceOptions)})};var Lpe=0;v_.fromDescriptor=function(e){return typeof e.length=="number"&&(e=ae.MethodDescriptorProto.decode(e)),new v_(e.name&&e.name.length?e.name:"Method"+Lpe++,"rpc",e.inputType,e.outputType,!!e.clientStreaming,!!e.serverStreaming,da(e.options,ae.MethodOptions))};v_.prototype.toDescriptor=function(){return ae.MethodDescriptorProto.create({name:this.name,inputType:this.resolvedRequestType?this.resolvedRequestType.fullName:this.requestType,outputType:this.resolvedResponseType?this.resolvedResponseType.fullName:this.responseType,clientStreaming:this.requestStream,serverStreaming:this.responseStream,options:ha(this.options,ae.MethodOptions)})};function xpe(r){switch(r){case 1:return"double";case 2:return"float";case 3:return"int64";case 4:return"uint64";case 5:return"int32";case 6:return"fixed64";case 7:return"fixed32";case 8:return"bool";case 9:return"string";case 12:return"bytes";case 13:return"uint32";case 15:return"sfixed32";case 16:return"sfixed64";case 17:return"sint32";case 18:return"sint64"}throw Error("illegal type: "+r)}function Mpe(r){switch(r){case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 13:case 14:case 15:case 16:case 17:case 18:return!0}return!1}function Uy(r,e,t){switch(r){case"double":return 1;case"float":return 2;case"int64":return 3;case"uint64":return 4;case"int32":return 5;case"fixed64":return 6;case"fixed32":return 7;case"bool":return 8;case"string":return 9;case"bytes":return 12;case"uint32":return 13;case"sfixed32":return 15;case"sfixed64":return 16;case"sint32":return 17;case"sint64":return 18}if(e instanceof yn)return 14;if(e instanceof Jr)return t?10:11;throw Error("illegal type: "+r)}function Eq(r,e){for(var t={},o=0,s,a;o<e.fieldsArray.length;++o)if((a=(s=e._fieldsArray[o]).name)!=="uninterpretedOption"&&Object.prototype.hasOwnProperty.call(r,a)){var i=wpe(a);s.resolvedType instanceof Jr?t[i]=Eq(r[a],s.resolvedType):s.resolvedType instanceof yn?t[i]=s.resolvedType.valuesById[r[a]]:t[i]=r[a]}return t}function da(r,e){if(r)return Eq(e.toObject(r),e)}function mq(r,e){for(var t={},o=Object.keys(r),s=0;s<o.length;++s){var a=o[s],i=Ht.util.camelCase(a);if(Object.prototype.hasOwnProperty.call(e.fields,i)){var n=e.fields[i];n.resolvedType instanceof Jr?t[i]=mq(r[a],n.resolvedType):t[i]=r[a],n.repeated&&!Array.isArray(t[i])&&(t[i]=[t[i]])}}return t}function ha(r,e){if(r)return e.fromObject(mq(r,e))}function Tq(r,e){var t=r.fullName.split("."),o=e.fullName.split("."),s=0,a=0,i=o.length-1;if(!(r instanceof jc)&&e instanceof hq)for(;s<t.length&&a<i&&t[s]===o[a];){var n=e.lookup(t[s++],!0);if(n!==null&&n!==e)break;++a}else for(;s<t.length&&a<i&&t[s]===o[a];++s,++a);return o.slice(a).join(".")}function wpe(r){return r.substring(0,1)+r.substring(1).replace(/([A-Z])(?=[a-z]|$)/g,function(e,t){return"_"+t.toLowerCase()})}function Dpe(r){if(r.syntax==="editions")switch(r.edition){case ae.Edition.EDITION_2023:return"2023";default:throw new Error("Unsupported edition "+r.edition)}return r.syntax==="proto3"?"proto3":"proto2"}function Upe(r,e){if(r)if(r==="proto2"||r==="proto3")e.syntax=r;else switch(e.syntax="editions",r){case"2023":e.edition=ae.Edition.EDITION_2023;break;default:throw new Error("Unsupported edition "+r)}}});var vq=T((o2e,kpe)=>{kpe.exports={nested:{google:{nested:{protobuf:{nested:{Api:{fields:{name:{type:"string",id:1},methods:{rule:"repeated",type:"Method",id:2},options:{rule:"repeated",type:"Option",id:3},version:{type:"string",id:4},sourceContext:{type:"SourceContext",id:5},mixins:{rule:"repeated",type:"Mixin",id:6},syntax:{type:"Syntax",id:7}}},Method:{fields:{name:{type:"string",id:1},requestTypeUrl:{type:"string",id:2},requestStreaming:{type:"bool",id:3},responseTypeUrl:{type:"string",id:4},responseStreaming:{type:"bool",id:5},options:{rule:"repeated",type:"Option",id:6},syntax:{type:"Syntax",id:7}}},Mixin:{fields:{name:{type:"string",id:1},root:{type:"string",id:2}}},SourceContext:{fields:{fileName:{type:"string",id:1}}},Option:{fields:{name:{type:"string",id:1},value:{type:"Any",id:2}}},Syntax:{values:{SYNTAX_PROTO2:0,SYNTAX_PROTO3:1}}}}}}}}});var yq=T((s2e,Bpe)=>{Bpe.exports={nested:{google:{nested:{protobuf:{nested:{SourceContext:{fields:{fileName:{type:"string",id:1}}}}}}}}}});var Oq=T((a2e,Vpe)=>{Vpe.exports={nested:{google:{nested:{protobuf:{nested:{Type:{fields:{name:{type:"string",id:1},fields:{rule:"repeated",type:"Field",id:2},oneofs:{rule:"repeated",type:"string",id:3},options:{rule:"repeated",type:"Option",id:4},sourceContext:{type:"SourceContext",id:5},syntax:{type:"Syntax",id:6}}},Field:{fields:{kind:{type:"Kind",id:1},cardinality:{type:"Cardinality",id:2},number:{type:"int32",id:3},name:{type:"string",id:4},typeUrl:{type:"string",id:6},oneofIndex:{type:"int32",id:7},packed:{type:"bool",id:8},options:{rule:"repeated",type:"Option",id:9},jsonName:{type:"string",id:10},defaultValue:{type:"string",id:11}},nested:{Kind:{values:{TYPE_UNKNOWN:0,TYPE_DOUBLE:1,TYPE_FLOAT:2,TYPE_INT64:3,TYPE_UINT64:4,TYPE_INT32:5,TYPE_FIXED64:6,TYPE_FIXED32:7,TYPE_BOOL:8,TYPE_STRING:9,TYPE_GROUP:10,TYPE_MESSAGE:11,TYPE_BYTES:12,TYPE_UINT32:13,TYPE_ENUM:14,TYPE_SFIXED32:15,TYPE_SFIXED64:16,TYPE_SINT32:17,TYPE_SINT64:18}},Cardinality:{values:{CARDINALITY_UNKNOWN:0,CARDINALITY_OPTIONAL:1,CARDINALITY_REQUIRED:2,CARDINALITY_REPEATED:3}}}},Enum:{fields:{name:{type:"string",id:1},enumvalue:{rule:"repeated",type:"EnumValue",id:2},options:{rule:"repeated",type:"Option",id:3},sourceContext:{type:"SourceContext",id:4},syntax:{type:"Syntax",id:5}}},EnumValue:{fields:{name:{type:"string",id:1},number:{type:"int32",id:2},options:{rule:"repeated",type:"Option",id:3}}},Option:{fields:{name:{type:"string",id:1},value:{type:"Any",id:2}}},Syntax:{values:{SYNTAX_PROTO2:0,SYNTAX_PROTO3:1}},Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}},SourceContext:{fields:{fileName:{type:"string",id:1}}}}}}}}}});var Cq=T(li=>{"use strict";Object.defineProperty(li,"__esModule",{value:!0});li.addCommonProtos=li.loadProtosWithOptionsSync=li.loadProtosWithOptions=void 0;var Aq=V("fs"),Rq=V("path"),_a=S_();function Nq(r,e){let t=r.resolvePath;r.resolvePath=(o,s)=>{if(Rq.isAbsolute(s))return s;for(let a of e){let i=Rq.join(a,s);try{return Aq.accessSync(i,Aq.constants.R_OK),i}catch{continue}}return process.emitWarning(`${s} not found in any of the include paths ${e}`),t(o,s)}}async function Fpe(r,e){let t=new _a.Root;if(e=e||{},e.includeDirs){if(!Array.isArray(e.includeDirs))return Promise.reject(new Error("The includeDirs option must be an array"));Nq(t,e.includeDirs)}let o=await t.load(r,e);return o.resolveAll(),o}li.loadProtosWithOptions=Fpe;function Gpe(r,e){let t=new _a.Root;if(e=e||{},e.includeDirs){if(!Array.isArray(e.includeDirs))throw new Error("The includeDirs option must be an array");Nq(t,e.includeDirs)}let o=t.loadSync(r,e);return o.resolveAll(),o}li.loadProtosWithOptionsSync=Gpe;function Hpe(){let r=vq(),e=Dy(),t=yq(),o=Oq();_a.common("api",r.nested.google.nested.protobuf.nested),_a.common("descriptor",e.nested.google.nested.protobuf.nested),_a.common("source_context",t.nested.google.nested.protobuf.nested),_a.common("type",o.nested.google.nested.protobuf.nested)}li.addCommonProtos=Hpe});var Pq=T((Kc,ky)=>{(function(r,e){function t(o){return o.default||o}typeof define=="function"&&define.amd?define([],function(){var o={};return e(o),t(o)}):typeof Kc=="object"?(e(Kc),typeof ky=="object"&&(ky.exports=t(Kc))):(function(){var o={};e(o),r.Long=t(o)})()})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:Kc,function(r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var e=null;try{e=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function t(R,E,C){this.low=R|0,this.high=E|0,this.unsigned=!!C}t.prototype.__isLong__,Object.defineProperty(t.prototype,"__isLong__",{value:!0});function o(R){return(R&&R.__isLong__)===!0}function s(R){var E=Math.clz32(R&-R);return R?31-E:E}t.isLong=o;var a={},i={};function n(R,E){var C,Q,Y;return E?(R>>>=0,(Y=0<=R&&R<256)&&(Q=i[R],Q)?Q:(C=c(R,0,!0),Y&&(i[R]=C),C)):(R|=0,(Y=-128<=R&&R<128)&&(Q=a[R],Q)?Q:(C=c(R,R<0?-1:0,!1),Y&&(a[R]=C),C))}t.fromInt=n;function l(R,E){if(isNaN(R))return E?N:F;if(E){if(R<0)return N;if(R>=A)return $}else{if(R<=-I)return le;if(R+1>=I)return te}return R<0?l(-R,E).neg():c(R%y|0,R/y|0,E)}t.fromNumber=l;function c(R,E,C){return new t(R,E,C)}t.fromBits=c;var u=Math.pow;function f(R,E,C){if(R.length===0)throw Error("empty string");if(typeof E=="number"?(C=E,E=!1):E=!!E,R==="NaN"||R==="Infinity"||R==="+Infinity"||R==="-Infinity")return E?N:F;if(C=C||10,C<2||36<C)throw RangeError("radix");var Q;if((Q=R.indexOf("-"))>0)throw Error("interior hyphen");if(Q===0)return f(R.substring(1),E,C).neg();for(var Y=l(u(C,8)),J=F,ce=0;ce<R.length;ce+=8){var Ne=Math.min(8,R.length-ce),Me=parseInt(R.substring(ce,ce+Ne),C);if(Ne<8){var Te=l(u(C,Ne));J=J.mul(Te).add(l(Me))}else J=J.mul(Y),J=J.add(l(Me))}return J.unsigned=E,J}t.fromString=f;function _(R,E){return typeof R=="number"?l(R,E):typeof R=="string"?f(R,E):c(R.low,R.high,typeof E=="boolean"?E:R.unsigned)}t.fromValue=_;var m=65536,O=1<<24,y=m*m,A=y*y,I=A/2,M=n(O),F=n(0);t.ZERO=F;var N=n(0,!0);t.UZERO=N;var K=n(1);t.ONE=K;var B=n(1,!0);t.UONE=B;var G=n(-1);t.NEG_ONE=G;var te=c(-1,2147483647,!1);t.MAX_VALUE=te;var $=c(-1,-1,!0);t.MAX_UNSIGNED_VALUE=$;var le=c(0,-2147483648,!1);t.MIN_VALUE=le;var v=t.prototype;v.toInt=function(){return this.unsigned?this.low>>>0:this.low},v.toNumber=function(){return this.unsigned?(this.high>>>0)*y+(this.low>>>0):this.high*y+(this.low>>>0)},v.toString=function(E){if(E=E||10,E<2||36<E)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(le)){var C=l(E),Q=this.div(C),Y=Q.mul(C).sub(this);return Q.toString(E)+Y.toInt().toString(E)}else return"-"+this.neg().toString(E);for(var J=l(u(E,6),this.unsigned),ce=this,Ne="";;){var Me=ce.div(J),Te=ce.sub(Me.mul(J)).toInt()>>>0,Z=Te.toString(E);if(ce=Me,ce.isZero())return Z+Ne;for(;Z.length<6;)Z="0"+Z;Ne=""+Z+Ne}},v.getHighBits=function(){return this.high},v.getHighBitsUnsigned=function(){return this.high>>>0},v.getLowBits=function(){return this.low},v.getLowBitsUnsigned=function(){return this.low>>>0},v.getNumBitsAbs=function(){if(this.isNegative())return this.eq(le)?64:this.neg().getNumBitsAbs();for(var E=this.high!=0?this.high:this.low,C=31;C>0&&(E&1<<C)==0;C--);return this.high!=0?C+33:C+1},v.isSafeInteger=function(){var E=this.high>>21;return E?this.unsigned?!1:E===-1&&!(this.low===0&&this.high===-2097152):!0},v.isZero=function(){return this.high===0&&this.low===0},v.eqz=v.isZero,v.isNegative=function(){return!this.unsigned&&this.high<0},v.isPositive=function(){return this.unsigned||this.high>=0},v.isOdd=function(){return(this.low&1)===1},v.isEven=function(){return(this.low&1)===0},v.equals=function(E){return o(E)||(E=_(E)),this.unsigned!==E.unsigned&&this.high>>>31===1&&E.high>>>31===1?!1:this.high===E.high&&this.low===E.low},v.eq=v.equals,v.notEquals=function(E){return!this.eq(E)},v.neq=v.notEquals,v.ne=v.notEquals,v.lessThan=function(E){return this.comp(E)<0},v.lt=v.lessThan,v.lessThanOrEqual=function(E){return this.comp(E)<=0},v.lte=v.lessThanOrEqual,v.le=v.lessThanOrEqual,v.greaterThan=function(E){return this.comp(E)>0},v.gt=v.greaterThan,v.greaterThanOrEqual=function(E){return this.comp(E)>=0},v.gte=v.greaterThanOrEqual,v.ge=v.greaterThanOrEqual,v.compare=function(E){if(o(E)||(E=_(E)),this.eq(E))return 0;var C=this.isNegative(),Q=E.isNegative();return C&&!Q?-1:!C&&Q?1:this.unsigned?E.high>>>0>this.high>>>0||E.high===this.high&&E.low>>>0>this.low>>>0?-1:1:this.sub(E).isNegative()?-1:1},v.comp=v.compare,v.negate=function(){return!this.unsigned&&this.eq(le)?le:this.not().add(K)},v.neg=v.negate,v.add=function(E){o(E)||(E=_(E));var C=this.high>>>16,Q=this.high&65535,Y=this.low>>>16,J=this.low&65535,ce=E.high>>>16,Ne=E.high&65535,Me=E.low>>>16,Te=E.low&65535,Z=0,je=0,Ee=0,we=0;return we+=J+Te,Ee+=we>>>16,we&=65535,Ee+=Y+Me,je+=Ee>>>16,Ee&=65535,je+=Q+Ne,Z+=je>>>16,je&=65535,Z+=C+ce,Z&=65535,c(Ee<<16|we,Z<<16|je,this.unsigned)},v.subtract=function(E){return o(E)||(E=_(E)),this.add(E.neg())},v.sub=v.subtract,v.multiply=function(E){if(this.isZero())return this;if(o(E)||(E=_(E)),e){var C=e.mul(this.low,this.high,E.low,E.high);return c(C,e.get_high(),this.unsigned)}if(E.isZero())return this.unsigned?N:F;if(this.eq(le))return E.isOdd()?le:F;if(E.eq(le))return this.isOdd()?le:F;if(this.isNegative())return E.isNegative()?this.neg().mul(E.neg()):this.neg().mul(E).neg();if(E.isNegative())return this.mul(E.neg()).neg();if(this.lt(M)&&E.lt(M))return l(this.toNumber()*E.toNumber(),this.unsigned);var Q=this.high>>>16,Y=this.high&65535,J=this.low>>>16,ce=this.low&65535,Ne=E.high>>>16,Me=E.high&65535,Te=E.low>>>16,Z=E.low&65535,je=0,Ee=0,we=0,We=0;return We+=ce*Z,we+=We>>>16,We&=65535,we+=J*Z,Ee+=we>>>16,we&=65535,we+=ce*Te,Ee+=we>>>16,we&=65535,Ee+=Y*Z,je+=Ee>>>16,Ee&=65535,Ee+=J*Te,je+=Ee>>>16,Ee&=65535,Ee+=ce*Me,je+=Ee>>>16,Ee&=65535,je+=Q*Z+Y*Te+J*Me+ce*Ne,je&=65535,c(we<<16|We,je<<16|Ee,this.unsigned)},v.mul=v.multiply,v.divide=function(E){if(o(E)||(E=_(E)),E.isZero())throw Error("division by zero");if(e){if(!this.unsigned&&this.high===-2147483648&&E.low===-1&&E.high===-1)return this;var C=(this.unsigned?e.div_u:e.div_s)(this.low,this.high,E.low,E.high);return c(C,e.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?N:F;var Q,Y,J;if(this.unsigned){if(E.unsigned||(E=E.toUnsigned()),E.gt(this))return N;if(E.gt(this.shru(1)))return B;J=N}else{if(this.eq(le)){if(E.eq(K)||E.eq(G))return le;if(E.eq(le))return K;var ce=this.shr(1);return Q=ce.div(E).shl(1),Q.eq(F)?E.isNegative()?K:G:(Y=this.sub(E.mul(Q)),J=Q.add(Y.div(E)),J)}else if(E.eq(le))return this.unsigned?N:F;if(this.isNegative())return E.isNegative()?this.neg().div(E.neg()):this.neg().div(E).neg();if(E.isNegative())return this.div(E.neg()).neg();J=F}for(Y=this;Y.gte(E);){Q=Math.max(1,Math.floor(Y.toNumber()/E.toNumber()));for(var Ne=Math.ceil(Math.log(Q)/Math.LN2),Me=Ne<=48?1:u(2,Ne-48),Te=l(Q),Z=Te.mul(E);Z.isNegative()||Z.gt(Y);)Q-=Me,Te=l(Q,this.unsigned),Z=Te.mul(E);Te.isZero()&&(Te=K),J=J.add(Te),Y=Y.sub(Z)}return J},v.div=v.divide,v.modulo=function(E){if(o(E)||(E=_(E)),e){var C=(this.unsigned?e.rem_u:e.rem_s)(this.low,this.high,E.low,E.high);return c(C,e.get_high(),this.unsigned)}return this.sub(this.div(E).mul(E))},v.mod=v.modulo,v.rem=v.modulo,v.not=function(){return c(~this.low,~this.high,this.unsigned)},v.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},v.clz=v.countLeadingZeros,v.countTrailingZeros=function(){return this.low?s(this.low):s(this.high)+32},v.ctz=v.countTrailingZeros,v.and=function(E){return o(E)||(E=_(E)),c(this.low&E.low,this.high&E.high,this.unsigned)},v.or=function(E){return o(E)||(E=_(E)),c(this.low|E.low,this.high|E.high,this.unsigned)},v.xor=function(E){return o(E)||(E=_(E)),c(this.low^E.low,this.high^E.high,this.unsigned)},v.shiftLeft=function(E){return o(E)&&(E=E.toInt()),(E&=63)===0?this:E<32?c(this.low<<E,this.high<<E|this.low>>>32-E,this.unsigned):c(0,this.low<<E-32,this.unsigned)},v.shl=v.shiftLeft,v.shiftRight=function(E){return o(E)&&(E=E.toInt()),(E&=63)===0?this:E<32?c(this.low>>>E|this.high<<32-E,this.high>>E,this.unsigned):c(this.high>>E-32,this.high>=0?0:-1,this.unsigned)},v.shr=v.shiftRight,v.shiftRightUnsigned=function(E){return o(E)&&(E=E.toInt()),(E&=63)===0?this:E<32?c(this.low>>>E|this.high<<32-E,this.high>>>E,this.unsigned):E===32?c(this.high,0,this.unsigned):c(this.high>>>E-32,0,this.unsigned)},v.shru=v.shiftRightUnsigned,v.shr_u=v.shiftRightUnsigned,v.rotateLeft=function(E){var C;return o(E)&&(E=E.toInt()),(E&=63)===0?this:E===32?c(this.high,this.low,this.unsigned):E<32?(C=32-E,c(this.low<<E|this.high>>>C,this.high<<E|this.low>>>C,this.unsigned)):(E-=32,C=32-E,c(this.high<<E|this.low>>>C,this.low<<E|this.high>>>C,this.unsigned))},v.rotl=v.rotateLeft,v.rotateRight=function(E){var C;return o(E)&&(E=E.toInt()),(E&=63)===0?this:E===32?c(this.high,this.low,this.unsigned):E<32?(C=32-E,c(this.high<<C|this.low>>>E,this.low<<C|this.high>>>E,this.unsigned)):(E-=32,C=32-E,c(this.low<<C|this.high>>>E,this.high<<C|this.low>>>E,this.unsigned))},v.rotr=v.rotateRight,v.toSigned=function(){return this.unsigned?c(this.low,this.high,!1):this},v.toUnsigned=function(){return this.unsigned?this:c(this.low,this.high,!0)},v.toBytes=function(E){return E?this.toBytesLE():this.toBytesBE()},v.toBytesLE=function(){var E=this.high,C=this.low;return[C&255,C>>>8&255,C>>>16&255,C>>>24,E&255,E>>>8&255,E>>>16&255,E>>>24]},v.toBytesBE=function(){var E=this.high,C=this.low;return[E>>>24,E>>>16&255,E>>>8&255,E&255,C>>>24,C>>>16&255,C>>>8&255,C&255]},t.fromBytes=function(E,C,Q){return Q?t.fromBytesLE(E,C):t.fromBytesBE(E,C)},t.fromBytesLE=function(E,C){return new t(E[0]|E[1]<<8|E[2]<<16|E[3]<<24,E[4]|E[5]<<8|E[6]<<16|E[7]<<24,C)},t.fromBytesBE=function(E,C){return new t(E[4]<<24|E[5]<<16|E[6]<<8|E[7],E[0]<<24|E[1]<<16|E[2]<<8|E[3],C)},typeof BigInt=="function"&&(t.fromBigInt=function(E,C){var Q=Number(BigInt.asIntN(32,E)),Y=Number(BigInt.asIntN(32,E>>BigInt(32)));return c(Q,Y,C)},t.fromValue=function(E,C){return typeof E=="bigint"?t.fromBigInt(E,C):_(E,C)},v.toBigInt=function(){var E=BigInt(this.low>>>0),C=BigInt(this.unsigned?this.high>>>0:this.high);return C<<BigInt(32)|E});var W=r.default=t})});var Dq=T(Je=>{"use strict";Object.defineProperty(Je,"__esModule",{value:!0});Je.loadFileDescriptorSetFromObject=Je.loadFileDescriptorSetFromBuffer=Je.fromJSON=Je.loadSync=Je.load=Je.IdempotencyLevel=Je.isAnyExtension=Je.Long=void 0;var qpe=fH(),Qr=S_(),Vy=gq(),Fy=Cq(),jpe=Pq();Je.Long=jpe;function Ype(r){return"@type"in r&&typeof r["@type"]=="string"}Je.isAnyExtension=Ype;var Lq;(function(r){r.IDEMPOTENCY_UNKNOWN="IDEMPOTENCY_UNKNOWN",r.NO_SIDE_EFFECTS="NO_SIDE_EFFECTS",r.IDEMPOTENT="IDEMPOTENT"})(Lq=Je.IdempotencyLevel||(Je.IdempotencyLevel={}));var xq={longs:String,enums:String,bytes:String,defaults:!0,oneofs:!0,json:!0};function Kpe(r,e){return r===""?e:r+"."+e}function zpe(r){return r instanceof Qr.Service||r instanceof Qr.Type||r instanceof Qr.Enum}function $pe(r){return r instanceof Qr.Namespace||r instanceof Qr.Root}function Mq(r,e){let t=Kpe(e,r.name);return zpe(r)?[[t,r]]:$pe(r)&&typeof r.nested<"u"?Object.keys(r.nested).map(o=>Mq(r.nested[o],t)).reduce((o,s)=>o.concat(s),[]):[]}function Iq(r,e){return function(o){return r.toObject(r.decode(o),e)}}function bq(r){return function(t){if(Array.isArray(t))throw new Error(`Failed to serialize message: expected object with ${r.name} structure, got array instead`);let o=r.fromObject(t);return r.encode(o).finish()}}function Xpe(r){return(r||[]).reduce((e,t)=>{for(let[o,s]of Object.entries(t))switch(o){case"uninterpreted_option":e.uninterpreted_option.push(t.uninterpreted_option);break;default:e[o]=s}return e},{deprecated:!1,idempotency_level:Lq.IDEMPOTENCY_UNKNOWN,uninterpreted_option:[]})}function Wpe(r,e,t,o){let s=r.resolvedRequestType,a=r.resolvedResponseType;return{path:"/"+e+"/"+r.name,requestStream:!!r.requestStream,responseStream:!!r.responseStream,requestSerialize:bq(s),requestDeserialize:Iq(s,t),responseSerialize:bq(a),responseDeserialize:Iq(a,t),originalName:qpe(r.name),requestType:By(s,o),responseType:By(a,o),options:Xpe(r.parsedOptions)}}function Jpe(r,e,t,o){let s={};for(let a of r.methodsArray)s[a.name]=Wpe(a,e,t,o);return s}function By(r,e){let t=r.toDescriptor("proto3");return{format:"Protocol Buffer 3 DescriptorProto",type:t.$type.toObject(t,xq),fileDescriptorProtos:e}}function Qpe(r,e){let t=r.toDescriptor("proto3");return{format:"Protocol Buffer 3 EnumDescriptorProto",type:t.$type.toObject(t,xq),fileDescriptorProtos:e}}function Zpe(r,e,t,o){if(r instanceof Qr.Service)return Jpe(r,e,t,o);if(r instanceof Qr.Type)return By(r,o);if(r instanceof Qr.Enum)return Qpe(r,o);throw new Error("Type mismatch in reflection object handling")}function y_(r,e){let t={};r.resolveAll();let s=r.toDescriptor("proto3").file.map(a=>Buffer.from(Vy.FileDescriptorProto.encode(a).finish()));for(let[a,i]of Mq(r,""))t[a]=Zpe(i,a,e,s);return t}function wq(r,e){e=e||{};let t=Qr.Root.fromDescriptor(r);return t.resolveAll(),y_(t,e)}function ede(r,e){return(0,Fy.loadProtosWithOptions)(r,e).then(t=>y_(t,e))}Je.load=ede;function tde(r,e){let t=(0,Fy.loadProtosWithOptionsSync)(r,e);return y_(t,e)}Je.loadSync=tde;function rde(r,e){e=e||{};let t=Qr.Root.fromJSON(r);return t.resolveAll(),y_(t,e)}Je.fromJSON=rde;function nde(r,e){let t=Vy.FileDescriptorSet.decode(r);return wq(t,e)}Je.loadFileDescriptorSetFromBuffer=nde;function ide(r,e){let t=Vy.FileDescriptorSet.fromObject(r);return wq(t,e)}Je.loadFileDescriptorSetFromObject=ide;(0,Fy.addCommonProtos)()});var _o=T(Ie=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0});Ie.registerChannelzSocket=Ie.registerChannelzServer=Ie.registerChannelzSubchannel=Ie.registerChannelzChannel=Ie.ChannelzCallTrackerStub=Ie.ChannelzCallTracker=Ie.ChannelzChildrenTrackerStub=Ie.ChannelzChildrenTracker=Ie.ChannelzTrace=Ie.ChannelzTraceStub=void 0;Ie.unregisterChannelzRef=cde;Ie.getChannelzHandlers=qq;Ie.getChannelzServiceDefinition=jq;Ie.setup=gde;var A_=V("net"),ho=(M3(),ee(x3)),zc=tr(),$c=ue(),ode=rr(),sde=$h(),ade=Qv();function Gy(r){return{channel_id:r.id,name:r.name}}function Ky(r){return{subchannel_id:r.id,name:r.name}}function lde(r){return{server_id:r.id}}function C_(r){return{socket_id:r.id,name:r.name}}var Uq=32,zy=100,Hy=class{constructor(){this.events=[],this.creationTimestamp=new Date,this.eventsLogged=0}addTrace(){}getTraceMessage(){return{creation_timestamp:Zr(this.creationTimestamp),num_events_logged:this.eventsLogged,events:[]}}};Ie.ChannelzTraceStub=Hy;var qy=class{constructor(){this.events=[],this.eventsLogged=0,this.creationTimestamp=new Date}addTrace(e,t,o){let s=new Date;this.events.push({description:t,severity:e,timestamp:s,childChannel:(o==null?void 0:o.kind)==="channel"?o:void 0,childSubchannel:(o==null?void 0:o.kind)==="subchannel"?o:void 0}),this.events.length>=Uq*2&&(this.events=this.events.slice(Uq)),this.eventsLogged+=1}getTraceMessage(){return{creation_timestamp:Zr(this.creationTimestamp),num_events_logged:this.eventsLogged,events:this.events.map(e=>({description:e.description,severity:e.severity,timestamp:Zr(e.timestamp),channel_ref:e.childChannel?Gy(e.childChannel):null,subchannel_ref:e.childSubchannel?Ky(e.childSubchannel):null}))}}};Ie.ChannelzTrace=qy;var R_=class{constructor(){this.channelChildren=new ho.OrderedMap,this.subchannelChildren=new ho.OrderedMap,this.socketChildren=new ho.OrderedMap,this.trackerMap={channel:this.channelChildren,subchannel:this.subchannelChildren,socket:this.socketChildren}}refChild(e){let t=this.trackerMap[e.kind],o=t.find(e.id);o.equals(t.end())?t.setElement(e.id,{ref:e,count:1},o):o.pointer[1].count+=1}unrefChild(e){let t=this.trackerMap[e.kind],o=t.getElementByKey(e.id);o!==void 0&&(o.count-=1,o.count===0&&t.eraseElementByKey(e.id))}getChildLists(){return{channels:this.channelChildren,subchannels:this.subchannelChildren,sockets:this.socketChildren}}};Ie.ChannelzChildrenTracker=R_;var jy=class extends R_{refChild(){}unrefChild(){}};Ie.ChannelzChildrenTrackerStub=jy;var N_=class{constructor(){this.callsStarted=0,this.callsSucceeded=0,this.callsFailed=0,this.lastCallStartedTimestamp=null}addCallStarted(){this.callsStarted+=1,this.lastCallStartedTimestamp=new Date}addCallSucceeded(){this.callsSucceeded+=1}addCallFailed(){this.callsFailed+=1}};Ie.ChannelzCallTracker=N_;var Yy=class extends N_{addCallStarted(){}addCallSucceeded(){}addCallFailed(){}};Ie.ChannelzCallTrackerStub=Yy;var On={channel:new ho.OrderedMap,subchannel:new ho.OrderedMap,server:new ho.OrderedMap,socket:new ho.OrderedMap},P_=r=>{let e=1;function t(){return e++}let o=On[r];return(s,a,i)=>{let n=t(),l={id:n,name:s,kind:r};return i&&o.setElement(n,{ref:l,getInfo:a}),l}};Ie.registerChannelzChannel=P_("channel");Ie.registerChannelzSubchannel=P_("subchannel");Ie.registerChannelzServer=P_("server");Ie.registerChannelzSocket=P_("socket");function cde(r){On[r.kind].eraseElementByKey(r.id)}function ude(r){let e=Number.parseInt(r,16);return[e/256|0,e%256]}function kq(r){if(r==="")return[];let e=r.split(":").map(o=>ude(o));return[].concat(...e)}function fde(r){return(0,A_.isIPv6)(r)&&r.toLowerCase().startsWith("::ffff:")&&(0,A_.isIPv4)(r.substring(7))}function Bq(r){return Buffer.from(Uint8Array.from(r.split(".").map(e=>Number.parseInt(e))))}function pde(r){if((0,A_.isIPv4)(r))return Bq(r);if(fde(r))return Bq(r.substring(7));if((0,A_.isIPv6)(r)){let e,t,o=r.indexOf("::");o===-1?(e=r,t=""):(e=r.substring(0,o),t=r.substring(o+2));let s=Buffer.from(kq(e)),a=Buffer.from(kq(t)),i=Buffer.alloc(16-s.length-a.length,0);return Buffer.concat([s,i,a])}else return null}function Fq(r){switch(r){case zc.ConnectivityState.CONNECTING:return{state:"CONNECTING"};case zc.ConnectivityState.IDLE:return{state:"IDLE"};case zc.ConnectivityState.READY:return{state:"READY"};case zc.ConnectivityState.SHUTDOWN:return{state:"SHUTDOWN"};case zc.ConnectivityState.TRANSIENT_FAILURE:return{state:"TRANSIENT_FAILURE"};default:return{state:"UNKNOWN"}}}function Zr(r){if(!r)return null;let e=r.getTime();return{seconds:e/1e3|0,nanos:e%1e3*1e6}}function Gq(r){let e=r.getInfo(),t=[],o=[];return e.children.channels.forEach(s=>{t.push(Gy(s[1].ref))}),e.children.subchannels.forEach(s=>{o.push(Ky(s[1].ref))}),{ref:Gy(r.ref),data:{target:e.target,state:Fq(e.state),calls_started:e.callTracker.callsStarted,calls_succeeded:e.callTracker.callsSucceeded,calls_failed:e.callTracker.callsFailed,last_call_started_timestamp:Zr(e.callTracker.lastCallStartedTimestamp),trace:e.trace.getTraceMessage()},channel_ref:t,subchannel_ref:o}}function dde(r,e){let t=parseInt(r.request.channel_id,10),o=On.channel.getElementByKey(t);if(o===void 0){e({code:$c.Status.NOT_FOUND,details:"No channel data found for id "+t});return}e(null,{channel:Gq(o)})}function hde(r,e){let t=parseInt(r.request.max_results,10)||zy,o=[],s=parseInt(r.request.start_channel_id,10),a=On.channel,i;for(i=a.lowerBound(s);!i.equals(a.end())&&o.length<t;i=i.next())o.push(Gq(i.pointer[1]));e(null,{channel:o,end:i.equals(a.end())})}function Hq(r){let e=r.getInfo(),t=[];return e.listenerChildren.sockets.forEach(o=>{t.push(C_(o[1].ref))}),{ref:lde(r.ref),data:{calls_started:e.callTracker.callsStarted,calls_succeeded:e.callTracker.callsSucceeded,calls_failed:e.callTracker.callsFailed,last_call_started_timestamp:Zr(e.callTracker.lastCallStartedTimestamp),trace:e.trace.getTraceMessage()},listen_socket:t}}function _de(r,e){let t=parseInt(r.request.server_id,10),s=On.server.getElementByKey(t);if(s===void 0){e({code:$c.Status.NOT_FOUND,details:"No server data found for id "+t});return}e(null,{server:Hq(s)})}function Ede(r,e){let t=parseInt(r.request.max_results,10)||zy,o=parseInt(r.request.start_server_id,10),s=On.server,a=[],i;for(i=s.lowerBound(o);!i.equals(s.end())&&a.length<t;i=i.next())a.push(Hq(i.pointer[1]));e(null,{server:a,end:i.equals(s.end())})}function mde(r,e){let t=parseInt(r.request.subchannel_id,10),o=On.subchannel.getElementByKey(t);if(o===void 0){e({code:$c.Status.NOT_FOUND,details:"No subchannel data found for id "+t});return}let s=o.getInfo(),a=[];s.children.sockets.forEach(n=>{a.push(C_(n[1].ref))});let i={ref:Ky(o.ref),data:{target:s.target,state:Fq(s.state),calls_started:s.callTracker.callsStarted,calls_succeeded:s.callTracker.callsSucceeded,calls_failed:s.callTracker.callsFailed,last_call_started_timestamp:Zr(s.callTracker.lastCallStartedTimestamp),trace:s.trace.getTraceMessage()},socket_ref:a};e(null,{subchannel:i})}function Vq(r){var e;return(0,ode.isTcpSubchannelAddress)(r)?{address:"tcpip_address",tcpip_address:{ip_address:(e=pde(r.host))!==null&&e!==void 0?e:void 0,port:r.port}}:{address:"uds_address",uds_address:{filename:r.path}}}function Tde(r,e){var t,o,s,a,i;let n=parseInt(r.request.socket_id,10),l=On.socket.getElementByKey(n);if(l===void 0){e({code:$c.Status.NOT_FOUND,details:"No socket data found for id "+n});return}let c=l.getInfo(),u=c.security?{model:"tls",tls:{cipher_suite:c.security.cipherSuiteStandardName?"standard_name":"other_name",standard_name:(t=c.security.cipherSuiteStandardName)!==null&&t!==void 0?t:void 0,other_name:(o=c.security.cipherSuiteOtherName)!==null&&o!==void 0?o:void 0,local_certificate:(s=c.security.localCertificate)!==null&&s!==void 0?s:void 0,remote_certificate:(a=c.security.remoteCertificate)!==null&&a!==void 0?a:void 0}}:null,f={ref:C_(l.ref),local:c.localAddress?Vq(c.localAddress):null,remote:c.remoteAddress?Vq(c.remoteAddress):null,remote_name:(i=c.remoteName)!==null&&i!==void 0?i:void 0,security:u,data:{keep_alives_sent:c.keepAlivesSent,streams_started:c.streamsStarted,streams_succeeded:c.streamsSucceeded,streams_failed:c.streamsFailed,last_local_stream_created_timestamp:Zr(c.lastLocalStreamCreatedTimestamp),last_remote_stream_created_timestamp:Zr(c.lastRemoteStreamCreatedTimestamp),messages_received:c.messagesReceived,messages_sent:c.messagesSent,last_message_received_timestamp:Zr(c.lastMessageReceivedTimestamp),last_message_sent_timestamp:Zr(c.lastMessageSentTimestamp),local_flow_control_window:c.localFlowControlWindow?{value:c.localFlowControlWindow}:null,remote_flow_control_window:c.remoteFlowControlWindow?{value:c.remoteFlowControlWindow}:null}};e(null,{socket:f})}function Sde(r,e){let t=parseInt(r.request.server_id,10),o=On.server.getElementByKey(t);if(o===void 0){e({code:$c.Status.NOT_FOUND,details:"No server data found for id "+t});return}let s=parseInt(r.request.start_socket_id,10),a=parseInt(r.request.max_results,10)||zy,n=o.getInfo().sessionChildren.sockets,l=[],c;for(c=n.lowerBound(s);!c.equals(n.end())&&l.length<a;c=c.next())l.push(C_(c.pointer[1].ref));e(null,{socket_ref:l,end:c.equals(n.end())})}function qq(){return{GetChannel:dde,GetTopChannels:hde,GetServer:_de,GetServers:Ede,GetSubchannel:mde,GetSocket:Tde,GetServerSockets:Sde}}var O_=null;function jq(){if(O_)return O_;let r=Dq().loadSync,e=r("channelz.proto",{keepCase:!0,longs:String,enums:String,defaults:!0,oneofs:!0,includeDirs:[`${__dirname}/../../proto`]});return O_=(0,ade.loadPackageDefinition)(e).grpc.channelz.v1.Channelz.service,O_}function gde(){(0,sde.registerAdminService)(jq,qq)}});var Yq=T(b_=>{"use strict";Object.defineProperty(b_,"__esModule",{value:!0});b_.Subchannel=void 0;var ye=tr(),vde=Ac(),$y=Pe(),I_=ue(),yde=Pt(),Ode=rr(),en=_o(),Ade="subchannel",Rde=~(1<<31),Xy=class{constructor(e,t,o,s,a){var i;this.channelTarget=e,this.subchannelAddress=t,this.options=o,this.connector=a,this.connectivityState=ye.ConnectivityState.IDLE,this.transport=null,this.continueConnecting=!1,this.stateListeners=new Set,this.refcount=0,this.channelzEnabled=!0;let n={initialDelay:o["grpc.initial_reconnect_backoff_ms"],maxDelay:o["grpc.max_reconnect_backoff_ms"]};this.backoffTimeout=new vde.BackoffTimeout(()=>{this.handleBackoffTimer()},n),this.backoffTimeout.unref(),this.subchannelAddressString=(0,Ode.subchannelAddressToString)(t),this.keepaliveTime=(i=o["grpc.keepalive_time_ms"])!==null&&i!==void 0?i:-1,o["grpc.enable_channelz"]===0?(this.channelzEnabled=!1,this.channelzTrace=new en.ChannelzTraceStub,this.callTracker=new en.ChannelzCallTrackerStub,this.childrenTracker=new en.ChannelzChildrenTrackerStub,this.streamTracker=new en.ChannelzCallTrackerStub):(this.channelzTrace=new en.ChannelzTrace,this.callTracker=new en.ChannelzCallTracker,this.childrenTracker=new en.ChannelzChildrenTracker,this.streamTracker=new en.ChannelzCallTracker),this.channelzRef=(0,en.registerChannelzSubchannel)(this.subchannelAddressString,()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzTrace.addTrace("CT_INFO","Subchannel created"),this.trace("Subchannel constructed with options "+JSON.stringify(o,void 0,2)),this.secureConnector=s._createSecureConnector(e,o)}getChannelzInfo(){return{state:this.connectivityState,trace:this.channelzTrace,callTracker:this.callTracker,children:this.childrenTracker.getChildLists(),target:this.subchannelAddressString}}trace(e){$y.trace(I_.LogVerbosity.DEBUG,Ade,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}refTrace(e){$y.trace(I_.LogVerbosity.DEBUG,"subchannel_refcount","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}handleBackoffTimer(){this.continueConnecting?this.transitionToState([ye.ConnectivityState.TRANSIENT_FAILURE],ye.ConnectivityState.CONNECTING):this.transitionToState([ye.ConnectivityState.TRANSIENT_FAILURE],ye.ConnectivityState.IDLE)}startBackoff(){this.backoffTimeout.runOnce()}stopBackoff(){this.backoffTimeout.stop(),this.backoffTimeout.reset()}startConnectingInternal(){let e=this.options;if(e["grpc.keepalive_time_ms"]){let t=Math.min(this.keepaliveTime,Rde);e=Object.assign(Object.assign({},e),{"grpc.keepalive_time_ms":t})}this.connector.connect(this.subchannelAddress,this.secureConnector,e).then(t=>{this.transitionToState([ye.ConnectivityState.CONNECTING],ye.ConnectivityState.READY)?(this.transport=t,this.channelzEnabled&&this.childrenTracker.refChild(t.getChannelzRef()),t.addDisconnectListener(o=>{this.transitionToState([ye.ConnectivityState.READY],ye.ConnectivityState.IDLE),o&&this.keepaliveTime>0&&(this.keepaliveTime*=2,$y.log(I_.LogVerbosity.ERROR,`Connection to ${(0,yde.uriToString)(this.channelTarget)} at ${this.subchannelAddressString} rejected by server because of excess pings. Increasing ping interval to ${this.keepaliveTime} ms`))})):t.shutdown()},t=>{this.transitionToState([ye.ConnectivityState.CONNECTING],ye.ConnectivityState.TRANSIENT_FAILURE,`${t}`)})}transitionToState(e,t,o){var s,a;if(e.indexOf(this.connectivityState)===-1)return!1;o?this.trace(ye.ConnectivityState[this.connectivityState]+" -> "+ye.ConnectivityState[t]+' with error "'+o+'"'):this.trace(ye.ConnectivityState[this.connectivityState]+" -> "+ye.ConnectivityState[t]),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connectivity state change to "+ye.ConnectivityState[t]);let i=this.connectivityState;switch(this.connectivityState=t,t){case ye.ConnectivityState.READY:this.stopBackoff();break;case ye.ConnectivityState.CONNECTING:this.startBackoff(),this.startConnectingInternal(),this.continueConnecting=!1;break;case ye.ConnectivityState.TRANSIENT_FAILURE:this.channelzEnabled&&this.transport&&this.childrenTracker.unrefChild(this.transport.getChannelzRef()),(s=this.transport)===null||s===void 0||s.shutdown(),this.transport=null,this.backoffTimeout.isRunning()||process.nextTick(()=>{this.handleBackoffTimer()});break;case ye.ConnectivityState.IDLE:this.channelzEnabled&&this.transport&&this.childrenTracker.unrefChild(this.transport.getChannelzRef()),(a=this.transport)===null||a===void 0||a.shutdown(),this.transport=null;break;default:throw new Error(`Invalid state: unknown ConnectivityState ${t}`)}for(let n of this.stateListeners)n(this,i,t,this.keepaliveTime,o);return!0}ref(){this.refTrace("refcount "+this.refcount+" -> "+(this.refcount+1)),this.refcount+=1}unref(){this.refTrace("refcount "+this.refcount+" -> "+(this.refcount-1)),this.refcount-=1,this.refcount===0&&(this.channelzTrace.addTrace("CT_INFO","Shutting down"),(0,en.unregisterChannelzRef)(this.channelzRef),this.secureConnector.destroy(),process.nextTick(()=>{this.transitionToState([ye.ConnectivityState.CONNECTING,ye.ConnectivityState.READY],ye.ConnectivityState.IDLE)}))}unrefIfOneRef(){return this.refcount===1?(this.unref(),!0):!1}createCall(e,t,o,s){if(!this.transport)throw new Error("Cannot create call, subchannel not READY");let a;return this.channelzEnabled?(this.callTracker.addCallStarted(),this.streamTracker.addCallStarted(),a={onCallEnd:i=>{i.code===I_.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()}}):a={},this.transport.createCall(e,t,o,s,a)}startConnecting(){process.nextTick(()=>{this.transitionToState([ye.ConnectivityState.IDLE],ye.ConnectivityState.CONNECTING)||this.connectivityState===ye.ConnectivityState.TRANSIENT_FAILURE&&(this.continueConnecting=!0)})}getConnectivityState(){return this.connectivityState}addConnectivityStateListener(e){this.stateListeners.add(e)}removeConnectivityStateListener(e){this.stateListeners.delete(e)}resetBackoff(){process.nextTick(()=>{this.backoffTimeout.reset(),this.transitionToState([ye.ConnectivityState.TRANSIENT_FAILURE],ye.ConnectivityState.CONNECTING)})}getAddress(){return this.subchannelAddressString}getChannelzRef(){return this.channelzRef}isHealthy(){return!0}addHealthStateWatcher(e){}removeHealthStateWatcher(e){}getRealSubchannel(){return this}realSubchannelEquals(e){return e.getRealSubchannel()===this}throttleKeepalive(e){e>this.keepaliveTime&&(this.keepaliveTime=e)}getCallCredentials(){return this.secureConnector.getCallCredentials()}};b_.Subchannel=Xy});var Kq=T(L_=>{"use strict";var Wy;Object.defineProperty(L_,"__esModule",{value:!0});L_.GRPC_NODE_USE_ALTERNATIVE_RESOLVER=void 0;L_.GRPC_NODE_USE_ALTERNATIVE_RESOLVER=((Wy=process.env.GRPC_NODE_USE_ALTERNATIVE_RESOLVER)!==null&&Wy!==void 0?Wy:"false")==="true"});var tO=T(Eo=>{"use strict";Object.defineProperty(Eo,"__esModule",{value:!0});Eo.DEFAULT_PORT=void 0;Eo.setup=xde;var zq=jr(),Jy=V("dns"),Nde=Nv(),Qy=ue(),Zy=ht(),Cde=Pe(),Pde=ue(),ci=Pt(),$q=V("net"),Ide=Ac(),Xq=Kq(),bde="dns_resolver";function tn(r){Cde.trace(Pde.LogVerbosity.DEBUG,bde,r)}Eo.DEFAULT_PORT=443;var Lde=3e4,eO=class{constructor(e,t,o){var s,a,i;this.target=e,this.listener=t,this.pendingLookupPromise=null,this.pendingTxtPromise=null,this.latestLookupResult=null,this.latestServiceConfig=null,this.latestServiceConfigError=null,this.continueResolving=!1,this.isNextResolutionTimerRunning=!1,this.isServiceConfigEnabled=!0,this.returnedIpResult=!1,this.alternativeResolver=new Jy.promises.Resolver,tn("Resolver constructed for target "+(0,ci.uriToString)(e)),e.authority&&this.alternativeResolver.setServers([e.authority]);let n=(0,ci.splitHostPort)(e.path);n===null?(this.ipResult=null,this.dnsHostname=null,this.port=null):(0,$q.isIPv4)(n.host)||(0,$q.isIPv6)(n.host)?(this.ipResult=[{addresses:[{host:n.host,port:(s=n.port)!==null&&s!==void 0?s:Eo.DEFAULT_PORT}]}],this.dnsHostname=null,this.port=null):(this.ipResult=null,this.dnsHostname=n.host,this.port=(a=n.port)!==null&&a!==void 0?a:Eo.DEFAULT_PORT),this.percentage=Math.random()*100,o["grpc.service_config_disable_resolution"]===1&&(this.isServiceConfigEnabled=!1),this.defaultResolutionError={code:Qy.Status.UNAVAILABLE,details:`Name resolution failed for target ${(0,ci.uriToString)(this.target)}`,metadata:new Zy.Metadata};let l={initialDelay:o["grpc.initial_reconnect_backoff_ms"],maxDelay:o["grpc.max_reconnect_backoff_ms"]};this.backoff=new Ide.BackoffTimeout(()=>{this.continueResolving&&this.startResolutionWithBackoff()},l),this.backoff.unref(),this.minTimeBetweenResolutionsMs=(i=o["grpc.dns_min_time_between_resolutions_ms"])!==null&&i!==void 0?i:Lde,this.nextResolutionTimer=setTimeout(()=>{},0),clearTimeout(this.nextResolutionTimer)}startResolution(){if(this.ipResult!==null){this.returnedIpResult||(tn("Returning IP address for target "+(0,ci.uriToString)(this.target)),setImmediate(()=>{this.listener.onSuccessfulResolution(this.ipResult,null,null,null,{})}),this.returnedIpResult=!0),this.backoff.stop(),this.backoff.reset(),this.stopNextResolutionTimer();return}if(this.dnsHostname===null)tn("Failed to parse DNS address "+(0,ci.uriToString)(this.target)),setImmediate(()=>{this.listener.onError({code:Qy.Status.UNAVAILABLE,details:`Failed to parse DNS address ${(0,ci.uriToString)(this.target)}`,metadata:new Zy.Metadata})}),this.stopNextResolutionTimer();else{if(this.pendingLookupPromise!==null)return;tn("Looking up DNS hostname "+this.dnsHostname),this.latestLookupResult=null;let e=this.dnsHostname;this.pendingLookupPromise=this.lookup(e),this.pendingLookupPromise.then(t=>{if(this.pendingLookupPromise===null)return;this.pendingLookupPromise=null,this.backoff.reset(),this.backoff.stop(),this.latestLookupResult=t.map(s=>({addresses:[s]}));let o="["+t.map(s=>s.host+":"+s.port).join(",")+"]";if(tn("Resolved addresses for target "+(0,ci.uriToString)(this.target)+": "+o),this.latestLookupResult.length===0){this.listener.onError(this.defaultResolutionError);return}this.listener.onSuccessfulResolution(this.latestLookupResult,this.latestServiceConfig,this.latestServiceConfigError,null,{})},t=>{this.pendingLookupPromise!==null&&(tn("Resolution error for target "+(0,ci.uriToString)(this.target)+": "+t.message),this.pendingLookupPromise=null,this.stopNextResolutionTimer(),this.listener.onError(this.defaultResolutionError))}),this.isServiceConfigEnabled&&this.pendingTxtPromise===null&&(this.pendingTxtPromise=this.resolveTxt(e),this.pendingTxtPromise.then(t=>{if(this.pendingTxtPromise!==null){this.pendingTxtPromise=null;try{this.latestServiceConfig=(0,Nde.extractAndSelectServiceConfig)(t,this.percentage)}catch(o){this.latestServiceConfigError={code:Qy.Status.UNAVAILABLE,details:`Parsing service config failed with error ${o.message}`,metadata:new Zy.Metadata}}this.latestLookupResult!==null&&this.listener.onSuccessfulResolution(this.latestLookupResult,this.latestServiceConfig,this.latestServiceConfigError,null,{})}},t=>{}))}}async lookup(e){if(Xq.GRPC_NODE_USE_ALTERNATIVE_RESOLVER){tn("Using alternative DNS resolver.");let o=await Promise.allSettled([this.alternativeResolver.resolve4(e),this.alternativeResolver.resolve6(e)]);if(o.every(s=>s.status==="rejected"))throw new Error(o[0].reason);return o.reduce((s,a)=>a.status==="fulfilled"?[...s,...a.value]:s,[]).map(s=>({host:s,port:+this.port}))}return(await Jy.promises.lookup(e,{all:!0})).map(o=>({host:o.address,port:+this.port}))}async resolveTxt(e){return Xq.GRPC_NODE_USE_ALTERNATIVE_RESOLVER?(tn("Using alternative DNS resolver."),this.alternativeResolver.resolveTxt(e)):Jy.promises.resolveTxt(e)}startNextResolutionTimer(){var e,t;clearTimeout(this.nextResolutionTimer),this.nextResolutionTimer=setTimeout(()=>{this.stopNextResolutionTimer(),this.continueResolving&&this.startResolutionWithBackoff()},this.minTimeBetweenResolutionsMs),(t=(e=this.nextResolutionTimer).unref)===null||t===void 0||t.call(e),this.isNextResolutionTimerRunning=!0}stopNextResolutionTimer(){clearTimeout(this.nextResolutionTimer),this.isNextResolutionTimerRunning=!1}startResolutionWithBackoff(){this.pendingLookupPromise===null&&(this.continueResolving=!1,this.backoff.runOnce(),this.startNextResolutionTimer(),this.startResolution())}updateResolution(){this.pendingLookupPromise===null&&(this.isNextResolutionTimerRunning||this.backoff.isRunning()?(this.isNextResolutionTimerRunning?tn('resolution update delayed by "min time between resolutions" rate limit'):tn("resolution update delayed by backoff timer until "+this.backoff.getEndTime().toISOString()),this.continueResolving=!0):this.startResolutionWithBackoff())}destroy(){this.continueResolving=!1,this.backoff.reset(),this.backoff.stop(),this.stopNextResolutionTimer(),this.pendingLookupPromise=null,this.pendingTxtPromise=null,this.latestLookupResult=null,this.latestServiceConfig=null,this.latestServiceConfigError=null,this.returnedIpResult=!1}static getDefaultAuthority(e){return e.path}};function xde(){(0,zq.registerResolver)("dns",eO),(0,zq.registerDefaultScheme)("dns")}});var rO=T(Jc=>{"use strict";Object.defineProperty(Jc,"__esModule",{value:!0});Jc.parseCIDR=Qq;Jc.mapProxyName=Hde;Jc.getProxiedConnection=qde;var Xc=Pe(),Ea=ue(),Jq=V("net"),Mde=V("http"),wde=Pe(),Wq=rr(),Wc=Pt(),Dde=V("url"),Ude=tO(),kde="proxy";function ma(r){wde.trace(Ea.LogVerbosity.DEBUG,kde,r)}function Bde(){let r="",e="";if(process.env.grpc_proxy)e="grpc_proxy",r=process.env.grpc_proxy;else if(process.env.https_proxy)e="https_proxy",r=process.env.https_proxy;else if(process.env.http_proxy)e="http_proxy",r=process.env.http_proxy;else return{};let t;try{t=new Dde.URL(r)}catch{return(0,Xc.log)(Ea.LogVerbosity.ERROR,`cannot parse value of "${e}" env var`),{}}if(t.protocol!=="http:")return(0,Xc.log)(Ea.LogVerbosity.ERROR,`"${t.protocol}" scheme not supported in proxy URI`),{};let o=null;t.username&&(t.password?((0,Xc.log)(Ea.LogVerbosity.INFO,"userinfo found in proxy URI"),o=decodeURIComponent(`${t.username}:${t.password}`)):o=t.username);let s=t.hostname,a=t.port;a===""&&(a="80");let i={address:`${s}:${a}`};return o&&(i.creds=o),ma("Proxy server "+i.address+" set by environment variable "+e),i}function Vde(){let r=process.env.no_grpc_proxy,e="no_grpc_proxy";return r||(r=process.env.no_proxy,e="no_proxy"),r?(ma("No proxy server list set by environment variable "+e),r.split(",")):[]}function Qq(r){let e=r.split("/");if(e.length!==2)return null;let t=parseInt(e[1],10);return!(0,Jq.isIPv4)(e[0])||Number.isNaN(t)||t<0||t>32?null:{ip:Zq(e[0]),prefixLength:t}}function Zq(r){return r.split(".").reduce((e,t)=>(e<<8)+parseInt(t,10),0)}function Fde(r,e){let t=r.ip,o=-1<<32-r.prefixLength;return(Zq(e)&o)===(t&o)}function Gde(r){for(let e of Vde()){let t=Qq(e);if((0,Jq.isIPv4)(r)&&t&&Fde(t,r))return!0;if(r.endsWith(e))return!0}return!1}function Hde(r,e){var t;let o={target:r,extraOptions:{}};if(((t=e["grpc.enable_http_proxy"])!==null&&t!==void 0?t:1)===0||r.scheme==="unix")return o;let s=Bde();if(!s.address)return o;let a=(0,Wc.splitHostPort)(r.path);if(!a)return o;let i=a.host;if(Gde(i))return ma("Not using proxy for target in no_proxy list: "+(0,Wc.uriToString)(r)),o;let n={"grpc.http_connect_target":(0,Wc.uriToString)(r)};return s.creds&&(n["grpc.http_connect_creds"]=s.creds),{target:{scheme:"dns",path:s.address},extraOptions:n}}function qde(r,e){var t;if(!("grpc.http_connect_target"in e))return Promise.resolve(null);let o=e["grpc.http_connect_target"],s=(0,Wc.parseUri)(o);if(s===null)return Promise.resolve(null);let a=(0,Wc.splitHostPort)(s.path);if(a===null)return Promise.resolve(null);let i=`${a.host}:${(t=a.port)!==null&&t!==void 0?t:Ude.DEFAULT_PORT}`,n={method:"CONNECT",path:i},l={Host:i};(0,Wq.isTcpSubchannelAddress)(r)?(n.host=r.host,n.port=r.port):n.socketPath=r.path,"grpc.http_connect_creds"in e&&(l["Proxy-Authorization"]="Basic "+Buffer.from(e["grpc.http_connect_creds"]).toString("base64")),n.headers=l;let c=(0,Wq.subchannelAddressToString)(r);return ma("Using proxy "+c+" to connect to "+n.path),new Promise((u,f)=>{let _=Mde.request(n);_.once("connect",(m,O,y)=>{_.removeAllListeners(),O.removeAllListeners(),m.statusCode===200?(ma("Successfully connected to "+n.path+" through proxy "+c),y.length>0&&O.unshift(y),ma("Successfully established a plaintext connection to "+n.path+" through proxy "+c),u(O)):((0,Xc.log)(Ea.LogVerbosity.ERROR,"Failed to connect to "+n.path+" through proxy "+c+" with status "+m.statusCode),f())}),_.once("error",m=>{_.removeAllListeners(),(0,Xc.log)(Ea.LogVerbosity.ERROR,"Failed to connect to proxy "+c+" with error "+m.message),f()}),_.end()})}});var iO=T(x_=>{"use strict";Object.defineProperty(x_,"__esModule",{value:!0});x_.StreamDecoder=void 0;var rn;(function(r){r[r.NO_DATA=0]="NO_DATA",r[r.READING_SIZE=1]="READING_SIZE",r[r.READING_MESSAGE=2]="READING_MESSAGE"})(rn||(rn={}));var nO=class{constructor(e){this.maxReadMessageLength=e,this.readState=rn.NO_DATA,this.readCompressFlag=Buffer.alloc(1),this.readPartialSize=Buffer.alloc(4),this.readSizeRemaining=4,this.readMessageSize=0,this.readPartialMessage=[],this.readMessageRemaining=0}write(e){let t=0,o,s=[];for(;t<e.length;)switch(this.readState){case rn.NO_DATA:this.readCompressFlag=e.slice(t,t+1),t+=1,this.readState=rn.READING_SIZE,this.readPartialSize.fill(0),this.readSizeRemaining=4,this.readMessageSize=0,this.readMessageRemaining=0,this.readPartialMessage=[];break;case rn.READING_SIZE:if(o=Math.min(e.length-t,this.readSizeRemaining),e.copy(this.readPartialSize,4-this.readSizeRemaining,t,t+o),this.readSizeRemaining-=o,t+=o,this.readSizeRemaining===0){if(this.readMessageSize=this.readPartialSize.readUInt32BE(0),this.maxReadMessageLength!==-1&&this.readMessageSize>this.maxReadMessageLength)throw new Error(`Received message larger than max (${this.readMessageSize} vs ${this.maxReadMessageLength})`);if(this.readMessageRemaining=this.readMessageSize,this.readMessageRemaining>0)this.readState=rn.READING_MESSAGE;else{let a=Buffer.concat([this.readCompressFlag,this.readPartialSize],5);this.readState=rn.NO_DATA,s.push(a)}}break;case rn.READING_MESSAGE:if(o=Math.min(e.length-t,this.readMessageRemaining),this.readPartialMessage.push(e.slice(t,t+o)),this.readMessageRemaining-=o,t+=o,this.readMessageRemaining===0){let a=[this.readCompressFlag,this.readPartialSize].concat(this.readPartialMessage),i=Buffer.concat(a,this.readMessageSize+5);this.readState=rn.NO_DATA,s.push(i)}break;default:throw new Error("Unexpected read state")}return s}};x_.StreamDecoder=nO});var ej=T(M_=>{"use strict";Object.defineProperty(M_,"__esModule",{value:!0});M_.Http2SubchannelCall=void 0;var An=V("http2"),jde=V("os"),Oe=ue(),Rn=ht(),Yde=iO(),Kde=Pe(),zde=ue(),$de="subchannel_call";function Xde(r){for(let[e,t]of Object.entries(jde.constants.errno))if(t===r)return e;return"Unknown system error "+r}function oO(r){let e=`Received HTTP status code ${r}`,t;switch(r){case 400:t=Oe.Status.INTERNAL;break;case 401:t=Oe.Status.UNAUTHENTICATED;break;case 403:t=Oe.Status.PERMISSION_DENIED;break;case 404:t=Oe.Status.UNIMPLEMENTED;break;case 429:case 502:case 503:case 504:t=Oe.Status.UNAVAILABLE;break;default:t=Oe.Status.UNKNOWN}return{code:t,details:e,metadata:new Rn.Metadata}}var sO=class{constructor(e,t,o,s,a){var i;this.http2Stream=e,this.callEventTracker=t,this.listener=o,this.transport=s,this.callId=a,this.isReadFilterPending=!1,this.isPushPending=!1,this.canPush=!1,this.readsClosed=!1,this.statusOutput=!1,this.unpushedReadMessages=[],this.finalStatus=null,this.internalError=null,this.serverEndedCall=!1,this.connectionDropped=!1;let n=(i=s.getOptions()["grpc.max_receive_message_length"])!==null&&i!==void 0?i:Oe.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH;this.decoder=new Yde.StreamDecoder(n),e.on("response",(l,c)=>{let u="";for(let f of Object.keys(l))u+="		"+f+": "+l[f]+`
`;if(this.trace(`Received server headers:
`+u),this.httpStatusCode=l[":status"],c&An.constants.NGHTTP2_FLAG_END_STREAM)this.handleTrailers(l);else{let f;try{f=Rn.Metadata.fromHttp2Headers(l)}catch(_){this.endCall({code:Oe.Status.UNKNOWN,details:_.message,metadata:new Rn.Metadata});return}this.listener.onReceiveMetadata(f)}}),e.on("trailers",l=>{this.handleTrailers(l)}),e.on("data",l=>{if(this.statusOutput)return;this.trace("receive HTTP/2 data frame of length "+l.length);let c;try{c=this.decoder.write(l)}catch(u){if(this.httpStatusCode!==void 0&&this.httpStatusCode!==200){let f=oO(this.httpStatusCode);this.cancelWithStatus(f.code,f.details)}else this.cancelWithStatus(Oe.Status.RESOURCE_EXHAUSTED,u.message);return}for(let u of c)this.trace("parsed message of length "+u.length),this.callEventTracker.addMessageReceived(),this.tryPush(u)}),e.on("end",()=>{this.readsClosed=!0,this.maybeOutputStatus()}),e.on("close",()=>{this.serverEndedCall=!0,process.nextTick(()=>{var l;if(this.trace("HTTP/2 stream closed with code "+e.rstCode),((l=this.finalStatus)===null||l===void 0?void 0:l.code)===Oe.Status.OK)return;let c,u="";switch(e.rstCode){case An.constants.NGHTTP2_NO_ERROR:if(this.finalStatus!==null)return;if(this.httpStatusCode&&this.httpStatusCode!==200){let f=oO(this.httpStatusCode);c=f.code,u=f.details}else c=Oe.Status.INTERNAL,u=`Received RST_STREAM with code ${e.rstCode} (Call ended without gRPC status)`;break;case An.constants.NGHTTP2_REFUSED_STREAM:c=Oe.Status.UNAVAILABLE,u="Stream refused by server";break;case An.constants.NGHTTP2_CANCEL:this.connectionDropped?(c=Oe.Status.UNAVAILABLE,u="Connection dropped"):(c=Oe.Status.CANCELLED,u="Call cancelled");break;case An.constants.NGHTTP2_ENHANCE_YOUR_CALM:c=Oe.Status.RESOURCE_EXHAUSTED,u="Bandwidth exhausted or memory limit exceeded";break;case An.constants.NGHTTP2_INADEQUATE_SECURITY:c=Oe.Status.PERMISSION_DENIED,u="Protocol not secure enough";break;case An.constants.NGHTTP2_INTERNAL_ERROR:c=Oe.Status.INTERNAL,this.internalError===null?u=`Received RST_STREAM with code ${e.rstCode} (Internal server error)`:this.internalError.code==="ECONNRESET"||this.internalError.code==="ETIMEDOUT"?(c=Oe.Status.UNAVAILABLE,u=this.internalError.message):u=`Received RST_STREAM with code ${e.rstCode} triggered by internal client error: ${this.internalError.message}`;break;default:c=Oe.Status.INTERNAL,u=`Received RST_STREAM with code ${e.rstCode}`}this.endCall({code:c,details:u,metadata:new Rn.Metadata,rstCode:e.rstCode})})}),e.on("error",l=>{l.code!=="ERR_HTTP2_STREAM_ERROR"&&(this.trace("Node error event: message="+l.message+" code="+l.code+" errno="+Xde(l.errno)+" syscall="+l.syscall),this.internalError=l),this.callEventTracker.onStreamEnd(!1)})}getDeadlineInfo(){return[`remote_addr=${this.getPeer()}`]}onDisconnect(){this.connectionDropped=!0,setImmediate(()=>{this.endCall({code:Oe.Status.UNAVAILABLE,details:"Connection dropped",metadata:new Rn.Metadata})})}outputStatus(){this.statusOutput||(this.statusOutput=!0,this.trace("ended with status: code="+this.finalStatus.code+' details="'+this.finalStatus.details+'"'),this.callEventTracker.onCallEnd(this.finalStatus),process.nextTick(()=>{this.listener.onReceiveStatus(this.finalStatus)}),this.http2Stream.resume())}trace(e){Kde.trace(zde.LogVerbosity.DEBUG,$de,"["+this.callId+"] "+e)}endCall(e){(this.finalStatus===null||this.finalStatus.code===Oe.Status.OK)&&(this.finalStatus=e,this.maybeOutputStatus()),this.destroyHttp2Stream()}maybeOutputStatus(){this.finalStatus!==null&&(this.finalStatus.code!==Oe.Status.OK||this.readsClosed&&this.unpushedReadMessages.length===0&&!this.isReadFilterPending&&!this.isPushPending)&&this.outputStatus()}push(e){this.trace("pushing to reader message of length "+(e instanceof Buffer?e.length:null)),this.canPush=!1,this.isPushPending=!0,process.nextTick(()=>{this.isPushPending=!1,!this.statusOutput&&(this.listener.onReceiveMessage(e),this.maybeOutputStatus())})}tryPush(e){this.canPush?(this.http2Stream.pause(),this.push(e)):(this.trace("unpushedReadMessages.push message of length "+e.length),this.unpushedReadMessages.push(e))}handleTrailers(e){this.serverEndedCall=!0,this.callEventTracker.onStreamEnd(!0);let t="";for(let i of Object.keys(e))t+="		"+i+": "+e[i]+`
`;this.trace(`Received server trailers:
`+t);let o;try{o=Rn.Metadata.fromHttp2Headers(e)}catch{o=new Rn.Metadata}let s=o.getMap(),a;if(typeof s["grpc-status"]=="string"){let i=Number(s["grpc-status"]);this.trace("received status code "+i+" from server"),o.remove("grpc-status");let n="";if(typeof s["grpc-message"]=="string"){try{n=decodeURI(s["grpc-message"])}catch{n=s["grpc-message"]}o.remove("grpc-message"),this.trace('received status details string "'+n+'" from server')}a={code:i,details:n,metadata:o}}else this.httpStatusCode?(a=oO(this.httpStatusCode),a.metadata=o):a={code:Oe.Status.UNKNOWN,details:"No status information received",metadata:o};this.endCall(a)}destroyHttp2Stream(){var e;if(!this.http2Stream.destroyed)if(this.serverEndedCall)this.http2Stream.end();else{let t;((e=this.finalStatus)===null||e===void 0?void 0:e.code)===Oe.Status.OK?t=An.constants.NGHTTP2_NO_ERROR:t=An.constants.NGHTTP2_CANCEL,this.trace("close http2 stream with code "+t),this.http2Stream.close(t)}}cancelWithStatus(e,t){this.trace("cancelWithStatus code: "+e+' details: "'+t+'"'),this.endCall({code:e,details:t,metadata:new Rn.Metadata})}getStatus(){return this.finalStatus}getPeer(){return this.transport.getPeerName()}getCallNumber(){return this.callId}startRead(){if(this.finalStatus!==null&&this.finalStatus.code!==Oe.Status.OK){this.readsClosed=!0,this.maybeOutputStatus();return}if(this.canPush=!0,this.unpushedReadMessages.length>0){let e=this.unpushedReadMessages.shift();this.push(e);return}this.http2Stream.resume()}sendMessageWithContext(e,t){this.trace("write() called with message of length "+t.length);let o=s=>{process.nextTick(()=>{var a;let i=Oe.Status.UNAVAILABLE;(s==null?void 0:s.code)==="ERR_STREAM_WRITE_AFTER_END"&&(i=Oe.Status.INTERNAL),s&&this.cancelWithStatus(i,`Write error: ${s.message}`),(a=e.callback)===null||a===void 0||a.call(e)})};this.trace("sending data chunk of length "+t.length),this.callEventTracker.addMessageSent();try{this.http2Stream.write(t,o)}catch(s){this.endCall({code:Oe.Status.UNAVAILABLE,details:`Write failed with error ${s.message}`,metadata:new Rn.Metadata})}}halfClose(){this.trace("end() called"),this.trace("calling end() on HTTP/2 stream"),this.http2Stream.end()}};M_.Http2SubchannelCall=sO});var lO=T(aO=>{"use strict";Object.defineProperty(aO,"__esModule",{value:!0});aO.getNextCallNumber=Jde;var Wde=0;function Jde(){return Wde++}});var tj=T(U_=>{"use strict";Object.defineProperty(U_,"__esModule",{value:!0});U_.Http2SubchannelConnector=void 0;var dO=V("http2"),w_=_o(),Qc=ue(),Qde=rO(),Ta=Pe(),Zde=jr(),D_=rr(),cO=Pt(),ehe=V("net"),the=ej(),rhe=lO(),uO="transport",nhe="transport_flowctrl",ihe=sv().version,{HTTP2_HEADER_AUTHORITY:ohe,HTTP2_HEADER_CONTENT_TYPE:she,HTTP2_HEADER_METHOD:ahe,HTTP2_HEADER_PATH:lhe,HTTP2_HEADER_TE:che,HTTP2_HEADER_USER_AGENT:uhe}=dO.constants,fhe=2e4,phe=Buffer.from("too_many_pings","ascii"),fO=class{constructor(e,t,o,s){this.session=e,this.options=o,this.remoteName=s,this.keepaliveTimer=null,this.pendingSendKeepalivePing=!1,this.activeCalls=new Set,this.disconnectListeners=[],this.disconnectHandled=!1,this.channelzEnabled=!0,this.keepalivesSent=0,this.messagesSent=0,this.messagesReceived=0,this.lastMessageSentTimestamp=null,this.lastMessageReceivedTimestamp=null,this.subchannelAddressString=(0,D_.subchannelAddressToString)(t),o["grpc.enable_channelz"]===0?(this.channelzEnabled=!1,this.streamTracker=new w_.ChannelzCallTrackerStub):this.streamTracker=new w_.ChannelzCallTracker,this.channelzRef=(0,w_.registerChannelzSocket)(this.subchannelAddressString,()=>this.getChannelzInfo(),this.channelzEnabled),this.userAgent=[o["grpc.primary_user_agent"],`grpc-node-js/${ihe}`,o["grpc.secondary_user_agent"]].filter(a=>a).join(" "),"grpc.keepalive_time_ms"in o?this.keepaliveTimeMs=o["grpc.keepalive_time_ms"]:this.keepaliveTimeMs=-1,"grpc.keepalive_timeout_ms"in o?this.keepaliveTimeoutMs=o["grpc.keepalive_timeout_ms"]:this.keepaliveTimeoutMs=fhe,"grpc.keepalive_permit_without_calls"in o?this.keepaliveWithoutCalls=o["grpc.keepalive_permit_without_calls"]===1:this.keepaliveWithoutCalls=!1,e.once("close",()=>{this.trace("session closed"),this.handleDisconnect()}),e.once("goaway",(a,i,n)=>{let l=!1;a===dO.constants.NGHTTP2_ENHANCE_YOUR_CALM&&n&&n.equals(phe)&&(l=!0),this.trace("connection closed by GOAWAY with code "+a+" and data "+(n==null?void 0:n.toString())),this.reportDisconnectToOwner(l)}),e.once("error",a=>{this.trace("connection closed with error "+a.message),this.handleDisconnect()}),e.socket.once("close",a=>{this.trace("connection closed. hadError="+a),this.handleDisconnect()}),Ta.isTracerEnabled(uO)&&(e.on("remoteSettings",a=>{this.trace("new settings received"+(this.session!==e?" on the old connection":"")+": "+JSON.stringify(a))}),e.on("localSettings",a=>{this.trace("local settings acknowledged by remote"+(this.session!==e?" on the old connection":"")+": "+JSON.stringify(a))})),this.keepaliveWithoutCalls&&this.maybeStartKeepalivePingTimer()}getChannelzInfo(){var e,t,o;let s=this.session.socket,a=s.remoteAddress?(0,D_.stringToSubchannelAddress)(s.remoteAddress,s.remotePort):null,i=s.localAddress?(0,D_.stringToSubchannelAddress)(s.localAddress,s.localPort):null,n;if(this.session.encrypted){let c=s,u=c.getCipher(),f=c.getCertificate(),_=c.getPeerCertificate();n={cipherSuiteStandardName:(e=u.standardName)!==null&&e!==void 0?e:null,cipherSuiteOtherName:u.standardName?null:u.name,localCertificate:f&&"raw"in f?f.raw:null,remoteCertificate:_&&"raw"in _?_.raw:null}}else n=null;return{remoteAddress:a,localAddress:i,security:n,remoteName:this.remoteName,streamsStarted:this.streamTracker.callsStarted,streamsSucceeded:this.streamTracker.callsSucceeded,streamsFailed:this.streamTracker.callsFailed,messagesSent:this.messagesSent,messagesReceived:this.messagesReceived,keepAlivesSent:this.keepalivesSent,lastLocalStreamCreatedTimestamp:this.streamTracker.lastCallStartedTimestamp,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:this.lastMessageSentTimestamp,lastMessageReceivedTimestamp:this.lastMessageReceivedTimestamp,localFlowControlWindow:(t=this.session.state.localWindowSize)!==null&&t!==void 0?t:null,remoteFlowControlWindow:(o=this.session.state.remoteWindowSize)!==null&&o!==void 0?o:null}}trace(e){Ta.trace(Qc.LogVerbosity.DEBUG,uO,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}keepaliveTrace(e){Ta.trace(Qc.LogVerbosity.DEBUG,"keepalive","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}flowControlTrace(e){Ta.trace(Qc.LogVerbosity.DEBUG,nhe,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}internalsTrace(e){Ta.trace(Qc.LogVerbosity.DEBUG,"transport_internals","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}reportDisconnectToOwner(e){this.disconnectHandled||(this.disconnectHandled=!0,this.disconnectListeners.forEach(t=>t(e)))}handleDisconnect(){this.clearKeepaliveTimeout(),this.reportDisconnectToOwner(!1);for(let e of this.activeCalls)e.onDisconnect();setImmediate(()=>{this.session.destroy()})}addDisconnectListener(e){this.disconnectListeners.push(e)}canSendPing(){return!this.session.destroyed&&this.keepaliveTimeMs>0&&(this.keepaliveWithoutCalls||this.activeCalls.size>0)}maybeSendPing(){var e,t;if(!this.canSendPing()){this.pendingSendKeepalivePing=!0;return}if(this.keepaliveTimer){console.error("keepaliveTimeout is not null");return}this.channelzEnabled&&(this.keepalivesSent+=1),this.keepaliveTrace("Sending ping with timeout "+this.keepaliveTimeoutMs+"ms"),this.keepaliveTimer=setTimeout(()=>{this.keepaliveTimer=null,this.keepaliveTrace("Ping timeout passed without response"),this.handleDisconnect()},this.keepaliveTimeoutMs),(t=(e=this.keepaliveTimer).unref)===null||t===void 0||t.call(e);let o="";try{this.session.ping((a,i,n)=>{this.clearKeepaliveTimeout(),a?(this.keepaliveTrace("Ping failed with error "+a.message),this.handleDisconnect()):(this.keepaliveTrace("Received ping response"),this.maybeStartKeepalivePingTimer())})||(o="Ping returned false")}catch(s){o=(s instanceof Error?s.message:"")||"Unknown error"}o&&(this.keepaliveTrace("Ping send failed: "+o),this.handleDisconnect())}maybeStartKeepalivePingTimer(){var e,t;this.canSendPing()&&(this.pendingSendKeepalivePing?(this.pendingSendKeepalivePing=!1,this.maybeSendPing()):this.keepaliveTimer||(this.keepaliveTrace("Starting keepalive timer for "+this.keepaliveTimeMs+"ms"),this.keepaliveTimer=setTimeout(()=>{this.keepaliveTimer=null,this.maybeSendPing()},this.keepaliveTimeMs),(t=(e=this.keepaliveTimer).unref)===null||t===void 0||t.call(e)))}clearKeepaliveTimeout(){this.keepaliveTimer&&(clearTimeout(this.keepaliveTimer),this.keepaliveTimer=null)}removeActiveCall(e){this.activeCalls.delete(e),this.activeCalls.size===0&&this.session.unref()}addActiveCall(e){this.activeCalls.add(e),this.activeCalls.size===1&&(this.session.ref(),this.keepaliveWithoutCalls||this.maybeStartKeepalivePingTimer())}createCall(e,t,o,s,a){let i=e.toHttp2Headers();i[ohe]=t,i[uhe]=this.userAgent,i[she]="application/grpc",i[ahe]="POST",i[lhe]=o,i[che]="trailers";let n;try{n=this.session.request(i)}catch(u){throw this.handleDisconnect(),u}this.flowControlTrace("local window size: "+this.session.state.localWindowSize+" remote window size: "+this.session.state.remoteWindowSize),this.internalsTrace("session.closed="+this.session.closed+" session.destroyed="+this.session.destroyed+" session.socket.destroyed="+this.session.socket.destroyed);let l,c;return this.channelzEnabled?(this.streamTracker.addCallStarted(),l={addMessageSent:()=>{var u;this.messagesSent+=1,this.lastMessageSentTimestamp=new Date,(u=a.addMessageSent)===null||u===void 0||u.call(a)},addMessageReceived:()=>{var u;this.messagesReceived+=1,this.lastMessageReceivedTimestamp=new Date,(u=a.addMessageReceived)===null||u===void 0||u.call(a)},onCallEnd:u=>{var f;(f=a.onCallEnd)===null||f===void 0||f.call(a,u),this.removeActiveCall(c)},onStreamEnd:u=>{var f;u?this.streamTracker.addCallSucceeded():this.streamTracker.addCallFailed(),(f=a.onStreamEnd)===null||f===void 0||f.call(a,u)}}):l={addMessageSent:()=>{var u;(u=a.addMessageSent)===null||u===void 0||u.call(a)},addMessageReceived:()=>{var u;(u=a.addMessageReceived)===null||u===void 0||u.call(a)},onCallEnd:u=>{var f;(f=a.onCallEnd)===null||f===void 0||f.call(a,u),this.removeActiveCall(c)},onStreamEnd:u=>{var f;(f=a.onStreamEnd)===null||f===void 0||f.call(a,u)}},c=new the.Http2SubchannelCall(n,l,s,this,(0,rhe.getNextCallNumber)()),this.addActiveCall(c),c}getChannelzRef(){return this.channelzRef}getPeerName(){return this.subchannelAddressString}getOptions(){return this.options}shutdown(){this.session.close(),(0,w_.unregisterChannelzRef)(this.channelzRef)}},pO=class{constructor(e){this.channelTarget=e,this.session=null,this.isShutdown=!1}trace(e){Ta.trace(Qc.LogVerbosity.DEBUG,uO,(0,cO.uriToString)(this.channelTarget)+" "+e)}createSession(e,t,o){return this.isShutdown?Promise.reject():e.socket.closed?Promise.reject("Connection closed before starting HTTP/2 handshake"):new Promise((s,a)=>{let i=null,n=this.channelTarget;if("grpc.http_connect_target"in o){let A=(0,cO.parseUri)(o["grpc.http_connect_target"]);A&&(n=A,i=(0,cO.uriToString)(A))}let l=e.secure?"https":"http",c=(0,Zde.getDefaultAuthority)(n),u=()=>{var A;(A=this.session)===null||A===void 0||A.destroy(),this.session=null,setImmediate(()=>{y||(y=!0,a(`${O.trim()} (${new Date().toISOString()})`))})},f=A=>{var I;(I=this.session)===null||I===void 0||I.destroy(),O=A.message,this.trace("connection failed with error "+O),y||(y=!0,a(`${O} (${new Date().toISOString()})`))},_={createConnection:(A,I)=>e.socket};o["grpc-node.flow_control_window"]!==void 0&&(_.settings={initialWindowSize:o["grpc-node.flow_control_window"]});let m=dO.connect(`${l}://${c}`,_);this.session=m;let O="Failed to connect",y=!1;m.unref(),m.once("remoteSettings",()=>{m.removeAllListeners(),e.socket.removeListener("close",u),e.socket.removeListener("error",f),s(new fO(m,t,o,i)),this.session=null}),m.once("close",u),m.once("error",f),e.socket.once("close",u),e.socket.once("error",f)})}tcpConnect(e,t){return(0,Qde.getProxiedConnection)(e,t).then(o=>o||new Promise((s,a)=>{let i=()=>{a(new Error("Socket closed"))},n=c=>{a(c)},l=ehe.connect(e,()=>{l.removeListener("close",i),l.removeListener("error",n),s(l)});l.once("close",i),l.once("error",n)}))}async connect(e,t,o){if(this.isShutdown)return Promise.reject();let s=null,a=null,i=(0,D_.subchannelAddressToString)(e);try{return this.trace(i+" Waiting for secureConnector to be ready"),await t.waitForReady(),this.trace(i+" secureConnector is ready"),s=await this.tcpConnect(e,o),s.setNoDelay(),this.trace(i+" Established TCP connection"),a=await t.connect(s),this.trace(i+" Established secure connection"),this.createSession(a,e,o)}catch(n){throw s==null||s.destroy(),a==null||a.socket.destroy(),n}}shutdown(){var e;this.isShutdown=!0,(e=this.session)===null||e===void 0||e.close(),this.session=null}};U_.Http2SubchannelConnector=pO});var rj=T(eu=>{"use strict";Object.defineProperty(eu,"__esModule",{value:!0});eu.SubchannelPool=void 0;eu.getSubchannelPool=ghe;var dhe=C3(),hhe=Yq(),_he=rr(),Ehe=Pt(),mhe=tj(),The=1e4,Zc=class{constructor(){this.pool=Object.create(null),this.cleanupTimer=null}unrefUnusedSubchannels(){let e=!0;for(let t in this.pool){let s=this.pool[t].filter(a=>!a.subchannel.unrefIfOneRef());s.length>0&&(e=!1),this.pool[t]=s}e&&this.cleanupTimer!==null&&(clearInterval(this.cleanupTimer),this.cleanupTimer=null)}ensureCleanupTask(){var e,t;this.cleanupTimer===null&&(this.cleanupTimer=setInterval(()=>{this.unrefUnusedSubchannels()},The),(t=(e=this.cleanupTimer).unref)===null||t===void 0||t.call(e))}getOrCreateSubchannel(e,t,o,s){this.ensureCleanupTask();let a=(0,Ehe.uriToString)(e);if(a in this.pool){let n=this.pool[a];for(let l of n)if((0,_he.subchannelAddressEqual)(t,l.subchannelAddress)&&(0,dhe.channelOptionsEqual)(o,l.channelArguments)&&s._equals(l.channelCredentials))return l.subchannel}let i=new hhe.Subchannel(e,t,o,s,new mhe.Http2SubchannelConnector(e));return a in this.pool||(this.pool[a]=[]),this.pool[a].push({subchannelAddress:t,channelArguments:o,channelCredentials:s,subchannel:i}),i.ref(),i}};eu.SubchannelPool=Zc;var She=new Zc;function ghe(r){return r?She:new Zc}});var _O=T(Sa=>{"use strict";Object.defineProperty(Sa,"__esModule",{value:!0});Sa.FilterStackFactory=Sa.FilterStack=void 0;var k_=class{constructor(e){this.filters=e}sendMetadata(e){let t=e;for(let o=0;o<this.filters.length;o++)t=this.filters[o].sendMetadata(t);return t}receiveMetadata(e){let t=e;for(let o=this.filters.length-1;o>=0;o--)t=this.filters[o].receiveMetadata(t);return t}sendMessage(e){let t=e;for(let o=0;o<this.filters.length;o++)t=this.filters[o].sendMessage(t);return t}receiveMessage(e){let t=e;for(let o=this.filters.length-1;o>=0;o--)t=this.filters[o].receiveMessage(t);return t}receiveTrailers(e){let t=e;for(let o=this.filters.length-1;o>=0;o--)t=this.filters[o].receiveTrailers(t);return t}push(e){this.filters.unshift(...e)}getFilters(){return this.filters}};Sa.FilterStack=k_;var hO=class r{constructor(e){this.factories=e}push(e){this.factories.unshift(...e)}clone(){return new r([...this.factories])}createFilter(){return new k_(this.factories.map(e=>e.createFilter()))}};Sa.FilterStackFactory=hO});var EO=T(B_=>{"use strict";Object.defineProperty(B_,"__esModule",{value:!0});B_.CompressionAlgorithms=void 0;var nj;(function(r){r[r.identity=0]="identity",r[r.deflate=1]="deflate",r[r.gzip=2]="gzip"})(nj||(B_.CompressionAlgorithms=nj={}))});var TO=T(V_=>{"use strict";Object.defineProperty(V_,"__esModule",{value:!0});V_.BaseFilter=void 0;var mO=class{async sendMetadata(e){return e}receiveMetadata(e){return e}async sendMessage(e){return e}async receiveMessage(e){return e}receiveTrailers(e){return e}};V_.BaseFilter=mO});var sj=T(ya=>{"use strict";Object.defineProperty(ya,"__esModule",{value:!0});ya.CompressionFilterFactory=ya.CompressionFilter=void 0;var F_=V("zlib"),oj=EO(),ga=ue(),vhe=TO(),yhe=Pe(),Ohe=r=>typeof r=="number"&&typeof oj.CompressionAlgorithms[r]=="string",va=class{async writeMessage(e,t){let o=e;t&&(o=await this.compressMessage(o));let s=Buffer.allocUnsafe(o.length+5);return s.writeUInt8(t?1:0,0),s.writeUInt32BE(o.length,1),o.copy(s,5),s}async readMessage(e){let t=e.readUInt8(0)===1,o=e.slice(5);return t&&(o=await this.decompressMessage(o)),o}},mo=class extends va{async compressMessage(e){return e}async writeMessage(e,t){let o=Buffer.allocUnsafe(e.length+5);return o.writeUInt8(0,0),o.writeUInt32BE(e.length,1),e.copy(o,5),o}decompressMessage(e){return Promise.reject(new Error('Received compressed message but "grpc-encoding" header was identity'))}},SO=class extends va{constructor(e){super(),this.maxRecvMessageLength=e}compressMessage(e){return new Promise((t,o)=>{F_.deflate(e,(s,a)=>{s?o(s):t(a)})})}decompressMessage(e){return new Promise((t,o)=>{let s=0,a=[],i=F_.createInflate();i.on("data",n=>{a.push(n),s+=n.byteLength,this.maxRecvMessageLength!==-1&&s>this.maxRecvMessageLength&&(i.destroy(),o({code:ga.Status.RESOURCE_EXHAUSTED,details:`Received message that decompresses to a size larger than ${this.maxRecvMessageLength}`}))}),i.on("end",()=>{t(Buffer.concat(a))}),i.write(e),i.end()})}},gO=class extends va{constructor(e){super(),this.maxRecvMessageLength=e}compressMessage(e){return new Promise((t,o)=>{F_.gzip(e,(s,a)=>{s?o(s):t(a)})})}decompressMessage(e){return new Promise((t,o)=>{let s=0,a=[],i=F_.createGunzip();i.on("data",n=>{a.push(n),s+=n.byteLength,this.maxRecvMessageLength!==-1&&s>this.maxRecvMessageLength&&(i.destroy(),o({code:ga.Status.RESOURCE_EXHAUSTED,details:`Received message that decompresses to a size larger than ${this.maxRecvMessageLength}`}))}),i.on("end",()=>{t(Buffer.concat(a))}),i.write(e),i.end()})}},vO=class extends va{constructor(e){super(),this.compressionName=e}compressMessage(e){return Promise.reject(new Error(`Received message compressed with unsupported compression method ${this.compressionName}`))}decompressMessage(e){return Promise.reject(new Error(`Compression method not supported: ${this.compressionName}`))}};function ij(r,e){switch(r){case"identity":return new mo;case"deflate":return new SO(e);case"gzip":return new gO(e);default:return new vO(r)}}var G_=class extends vhe.BaseFilter{constructor(e,t){var o,s,a;super(),this.sharedFilterConfig=t,this.sendCompression=new mo,this.receiveCompression=new mo,this.currentCompressionAlgorithm="identity";let i=e["grpc.default_compression_algorithm"];if(this.maxReceiveMessageLength=(o=e["grpc.max_receive_message_length"])!==null&&o!==void 0?o:ga.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH,this.maxSendMessageLength=(s=e["grpc.max_send_message_length"])!==null&&s!==void 0?s:ga.DEFAULT_MAX_SEND_MESSAGE_LENGTH,i!==void 0)if(Ohe(i)){let n=oj.CompressionAlgorithms[i],l=(a=t.serverSupportedEncodingHeader)===null||a===void 0?void 0:a.split(",");(!l||l.includes(n))&&(this.currentCompressionAlgorithm=n,this.sendCompression=ij(this.currentCompressionAlgorithm,-1))}else yhe.log(ga.LogVerbosity.ERROR,`Invalid value provided for grpc.default_compression_algorithm option: ${i}`)}async sendMetadata(e){let t=await e;return t.set("grpc-accept-encoding","identity,deflate,gzip"),t.set("accept-encoding","identity"),this.currentCompressionAlgorithm==="identity"?t.remove("grpc-encoding"):t.set("grpc-encoding",this.currentCompressionAlgorithm),t}receiveMetadata(e){let t=e.get("grpc-encoding");if(t.length>0){let s=t[0];typeof s=="string"&&(this.receiveCompression=ij(s,this.maxReceiveMessageLength))}e.remove("grpc-encoding");let o=e.get("grpc-accept-encoding")[0];return o&&(this.sharedFilterConfig.serverSupportedEncodingHeader=o,o.split(",").includes(this.currentCompressionAlgorithm)||(this.sendCompression=new mo,this.currentCompressionAlgorithm="identity")),e.remove("grpc-accept-encoding"),e}async sendMessage(e){var t;let o=await e;if(this.maxSendMessageLength!==-1&&o.message.length>this.maxSendMessageLength)throw{code:ga.Status.RESOURCE_EXHAUSTED,details:`Attempted to send message with a size larger than ${this.maxSendMessageLength}`};let s;return this.sendCompression instanceof mo?s=!1:s=(((t=o.flags)!==null&&t!==void 0?t:0)&2)===0,{message:await this.sendCompression.writeMessage(o.message,s),flags:o.flags}}async receiveMessage(e){return this.receiveCompression.readMessage(await e)}};ya.CompressionFilter=G_;var yO=class{constructor(e,t){this.options=t,this.sharedFilterConfig={}}createFilter(){return new G_(this.options,this.sharedFilterConfig)}};ya.CompressionFilterFactory=yO});var tu=T(To=>{"use strict";Object.defineProperty(To,"__esModule",{value:!0});To.minDeadline=Ahe;To.getDeadlineTimeoutString=Nhe;To.getRelativeTimeout=Phe;To.deadlineToString=Ihe;To.formatDateDifference=bhe;function Ahe(...r){let e=1/0;for(let t of r){let o=t instanceof Date?t.getTime():t;o<e&&(e=o)}return e}var Rhe=[["m",1],["S",1e3],["M",60*1e3],["H",3600*1e3]];function Nhe(r){let e=new Date().getTime();r instanceof Date&&(r=r.getTime());let t=Math.max(r-e,0);for(let[o,s]of Rhe){let a=t/s;if(a<1e8)return String(Math.ceil(a))+o}throw new Error("Deadline is too far in the future")}var Che=2147483647;function Phe(r){let e=r instanceof Date?r.getTime():r,t=new Date().getTime(),o=e-t;return o<0?0:o>Che?1/0:o}function Ihe(r){if(r instanceof Date)return r.toISOString();{let e=new Date(r);return Number.isNaN(e.getTime())?""+r:e.toISOString()}}function bhe(r,e){return((e.getTime()-r.getTime())/1e3).toFixed(3)+"s"}});var H_=T(OO=>{"use strict";Object.defineProperty(OO,"__esModule",{value:!0});OO.restrictControlPlaneStatusCode=xhe;var nn=ue(),Lhe=[nn.Status.OK,nn.Status.INVALID_ARGUMENT,nn.Status.NOT_FOUND,nn.Status.ALREADY_EXISTS,nn.Status.FAILED_PRECONDITION,nn.Status.ABORTED,nn.Status.OUT_OF_RANGE,nn.Status.DATA_LOSS];function xhe(r,e){return Lhe.includes(r)?{code:nn.Status.INTERNAL,details:`Invalid status from control plane: ${r} ${nn.Status[r]} ${e}`}:{code:r,details:e}}});var cj=T(Y_=>{"use strict";Object.defineProperty(Y_,"__esModule",{value:!0});Y_.LoadBalancingCall=void 0;var aj=tr(),q_=ue(),lj=tu(),j_=ht(),ru=ti(),Mhe=Pt(),whe=Pe(),AO=H_(),Dhe=V("http2"),Uhe="load_balancing_call",RO=class{constructor(e,t,o,s,a,i,n){var l,c;this.channel=e,this.callConfig=t,this.methodName=o,this.host=s,this.credentials=a,this.deadline=i,this.callNumber=n,this.child=null,this.readPending=!1,this.pendingMessage=null,this.pendingHalfClose=!1,this.ended=!1,this.metadata=null,this.listener=null,this.onCallEnded=null,this.childStartTime=null;let u=this.methodName.split("/"),f="";u.length>=2&&(f=u[1]);let _=(c=(l=(0,Mhe.splitHostPort)(this.host))===null||l===void 0?void 0:l.host)!==null&&c!==void 0?c:"localhost";this.serviceUrl=`https://${_}/${f}`,this.startTime=new Date}getDeadlineInfo(){var e,t;let o=[];return this.childStartTime?(this.childStartTime>this.startTime&&(!((e=this.metadata)===null||e===void 0)&&e.getOptions().waitForReady&&o.push("wait_for_ready"),o.push(`LB pick: ${(0,lj.formatDateDifference)(this.startTime,this.childStartTime)}`)),o.push(...this.child.getDeadlineInfo()),o):(!((t=this.metadata)===null||t===void 0)&&t.getOptions().waitForReady&&o.push("wait_for_ready"),o.push("Waiting for LB pick"),o)}trace(e){whe.trace(q_.LogVerbosity.DEBUG,Uhe,"["+this.callNumber+"] "+e)}outputStatus(e,t){var o,s;if(!this.ended){this.ended=!0,this.trace("ended with status: code="+e.code+' details="'+e.details+'" start time='+this.startTime.toISOString());let a=Object.assign(Object.assign({},e),{progress:t});(o=this.listener)===null||o===void 0||o.onReceiveStatus(a),(s=this.onCallEnded)===null||s===void 0||s.call(this,a.code)}}doPick(){var e,t;if(this.ended)return;if(!this.metadata)throw new Error("doPick called before start");this.trace("Pick called");let o=this.metadata.clone(),s=this.channel.doPick(o,this.callConfig.pickInformation),a=s.subchannel?"("+s.subchannel.getChannelzRef().id+") "+s.subchannel.getAddress():""+s.subchannel;switch(this.trace("Pick result: "+ru.PickResultType[s.pickResultType]+" subchannel: "+a+" status: "+((e=s.status)===null||e===void 0?void 0:e.code)+" "+((t=s.status)===null||t===void 0?void 0:t.details)),s.pickResultType){case ru.PickResultType.COMPLETE:this.credentials.compose(s.subchannel.getCallCredentials()).generateMetadata({method_name:this.methodName,service_url:this.serviceUrl}).then(c=>{var u;if(this.ended){this.trace("Credentials metadata generation finished after call ended");return}if(o.merge(c),o.get("authorization").length>1&&this.outputStatus({code:q_.Status.INTERNAL,details:'"authorization" metadata cannot have multiple values',metadata:new j_.Metadata},"PROCESSED"),s.subchannel.getConnectivityState()!==aj.ConnectivityState.READY){this.trace("Picked subchannel "+a+" has state "+aj.ConnectivityState[s.subchannel.getConnectivityState()]+" after getting credentials metadata. Retrying pick"),this.doPick();return}this.deadline!==1/0&&o.set("grpc-timeout",(0,lj.getDeadlineTimeoutString)(this.deadline));try{this.child=s.subchannel.getRealSubchannel().createCall(o,this.host,this.methodName,{onReceiveMetadata:f=>{this.trace("Received metadata"),this.listener.onReceiveMetadata(f)},onReceiveMessage:f=>{this.trace("Received message"),this.listener.onReceiveMessage(f)},onReceiveStatus:f=>{this.trace("Received status"),f.rstCode===Dhe.constants.NGHTTP2_REFUSED_STREAM?this.outputStatus(f,"REFUSED"):this.outputStatus(f,"PROCESSED")}}),this.childStartTime=new Date}catch(f){this.trace("Failed to start call on picked subchannel "+a+" with error "+f.message),this.outputStatus({code:q_.Status.INTERNAL,details:"Failed to start HTTP/2 stream with error "+f.message,metadata:new j_.Metadata},"NOT_STARTED");return}(u=s.onCallStarted)===null||u===void 0||u.call(s),this.onCallEnded=s.onCallEnded,this.trace("Created child call ["+this.child.getCallNumber()+"]"),this.readPending&&this.child.startRead(),this.pendingMessage&&this.child.sendMessageWithContext(this.pendingMessage.context,this.pendingMessage.message),this.pendingHalfClose&&this.child.halfClose()},c=>{let{code:u,details:f}=(0,AO.restrictControlPlaneStatusCode)(typeof c.code=="number"?c.code:q_.Status.UNKNOWN,`Getting metadata from plugin failed with error: ${c.message}`);this.outputStatus({code:u,details:f,metadata:new j_.Metadata},"PROCESSED")});break;case ru.PickResultType.DROP:let{code:n,details:l}=(0,AO.restrictControlPlaneStatusCode)(s.status.code,s.status.details);setImmediate(()=>{this.outputStatus({code:n,details:l,metadata:s.status.metadata},"DROP")});break;case ru.PickResultType.TRANSIENT_FAILURE:if(this.metadata.getOptions().waitForReady)this.channel.queueCallForPick(this);else{let{code:c,details:u}=(0,AO.restrictControlPlaneStatusCode)(s.status.code,s.status.details);setImmediate(()=>{this.outputStatus({code:c,details:u,metadata:s.status.metadata},"PROCESSED")})}break;case ru.PickResultType.QUEUE:this.channel.queueCallForPick(this)}}cancelWithStatus(e,t){var o;this.trace("cancelWithStatus code: "+e+' details: "'+t+'"'),(o=this.child)===null||o===void 0||o.cancelWithStatus(e,t),this.outputStatus({code:e,details:t,metadata:new j_.Metadata},"PROCESSED")}getPeer(){var e,t;return(t=(e=this.child)===null||e===void 0?void 0:e.getPeer())!==null&&t!==void 0?t:this.channel.getTarget()}start(e,t){this.trace("start called"),this.listener=t,this.metadata=e,this.doPick()}sendMessageWithContext(e,t){this.trace("write() called with message of length "+t.length),this.child?this.child.sendMessageWithContext(e,t):this.pendingMessage={context:e,message:t}}startRead(){this.trace("startRead called"),this.child?this.child.startRead():this.readPending=!0}halfClose(){this.trace("halfClose called"),this.child?this.child.halfClose():this.pendingHalfClose=!0}setCredentials(e){throw new Error("Method not implemented.")}getCallNumber(){return this.callNumber}};Y_.LoadBalancingCall=RO});var fj=T(K_=>{"use strict";Object.defineProperty(K_,"__esModule",{value:!0});K_.ResolvingCall=void 0;var khe=Mh(),So=ue(),go=tu(),uj=ht(),Bhe=Pe(),Vhe=H_(),Fhe="resolving_call",NO=class{constructor(e,t,o,s,a){this.channel=e,this.method=t,this.filterStackFactory=s,this.callNumber=a,this.child=null,this.readPending=!1,this.pendingMessage=null,this.pendingHalfClose=!1,this.ended=!1,this.readFilterPending=!1,this.writeFilterPending=!1,this.pendingChildStatus=null,this.metadata=null,this.listener=null,this.statusWatchers=[],this.deadlineTimer=setTimeout(()=>{},0),this.filterStack=null,this.deadlineStartTime=null,this.configReceivedTime=null,this.childStartTime=null,this.credentials=khe.CallCredentials.createEmpty(),this.deadline=o.deadline,this.host=o.host,o.parentCall&&(o.flags&So.Propagate.CANCELLATION&&o.parentCall.on("cancelled",()=>{this.cancelWithStatus(So.Status.CANCELLED,"Cancelled by parent call")}),o.flags&So.Propagate.DEADLINE&&(this.trace("Propagating deadline from parent: "+o.parentCall.getDeadline()),this.deadline=(0,go.minDeadline)(this.deadline,o.parentCall.getDeadline()))),this.trace("Created"),this.runDeadlineTimer()}trace(e){Bhe.trace(So.LogVerbosity.DEBUG,Fhe,"["+this.callNumber+"] "+e)}runDeadlineTimer(){clearTimeout(this.deadlineTimer),this.deadlineStartTime=new Date,this.trace("Deadline: "+(0,go.deadlineToString)(this.deadline));let e=(0,go.getRelativeTimeout)(this.deadline);if(e!==1/0){this.trace("Deadline will be reached in "+e+"ms");let t=()=>{if(!this.deadlineStartTime){this.cancelWithStatus(So.Status.DEADLINE_EXCEEDED,"Deadline exceeded");return}let o=[],s=new Date;o.push(`Deadline exceeded after ${(0,go.formatDateDifference)(this.deadlineStartTime,s)}`),this.configReceivedTime?(this.configReceivedTime>this.deadlineStartTime&&o.push(`name resolution: ${(0,go.formatDateDifference)(this.deadlineStartTime,this.configReceivedTime)}`),this.childStartTime?this.childStartTime>this.configReceivedTime&&o.push(`metadata filters: ${(0,go.formatDateDifference)(this.configReceivedTime,this.childStartTime)}`):o.push("waiting for metadata filters")):o.push("waiting for name resolution"),this.child&&o.push(...this.child.getDeadlineInfo()),this.cancelWithStatus(So.Status.DEADLINE_EXCEEDED,o.join(","))};e<=0?process.nextTick(t):this.deadlineTimer=setTimeout(t,e)}}outputStatus(e){if(!this.ended){this.ended=!0,this.filterStack||(this.filterStack=this.filterStackFactory.createFilter()),clearTimeout(this.deadlineTimer);let t=this.filterStack.receiveTrailers(e);this.trace("ended with status: code="+t.code+' details="'+t.details+'"'),this.statusWatchers.forEach(o=>o(t)),process.nextTick(()=>{var o;(o=this.listener)===null||o===void 0||o.onReceiveStatus(t)})}}sendMessageOnChild(e,t){if(!this.child)throw new Error("sendMessageonChild called with child not populated");let o=this.child;this.writeFilterPending=!0,this.filterStack.sendMessage(Promise.resolve({message:t,flags:e.flags})).then(s=>{this.writeFilterPending=!1,o.sendMessageWithContext(e,s.message),this.pendingHalfClose&&o.halfClose()},s=>{this.cancelWithStatus(s.code,s.details)})}getConfig(){if(this.ended)return;if(!this.metadata||!this.listener)throw new Error("getConfig called before start");let e=this.channel.getConfig(this.method,this.metadata);if(e.type==="NONE"){this.channel.queueCallForConfig(this);return}else if(e.type==="ERROR"){this.metadata.getOptions().waitForReady?this.channel.queueCallForConfig(this):this.outputStatus(e.error);return}this.configReceivedTime=new Date;let t=e.config;if(t.status!==So.Status.OK){let{code:o,details:s}=(0,Vhe.restrictControlPlaneStatusCode)(t.status,"Failed to route call to method "+this.method);this.outputStatus({code:o,details:s,metadata:new uj.Metadata});return}if(t.methodConfig.timeout){let o=new Date;o.setSeconds(o.getSeconds()+t.methodConfig.timeout.seconds),o.setMilliseconds(o.getMilliseconds()+t.methodConfig.timeout.nanos/1e6),this.deadline=(0,go.minDeadline)(this.deadline,o),this.runDeadlineTimer()}this.filterStackFactory.push(t.dynamicFilterFactories),this.filterStack=this.filterStackFactory.createFilter(),this.filterStack.sendMetadata(Promise.resolve(this.metadata)).then(o=>{this.child=this.channel.createRetryingCall(t,this.method,this.host,this.credentials,this.deadline),this.trace("Created child ["+this.child.getCallNumber()+"]"),this.childStartTime=new Date,this.child.start(o,{onReceiveMetadata:s=>{this.trace("Received metadata"),this.listener.onReceiveMetadata(this.filterStack.receiveMetadata(s))},onReceiveMessage:s=>{this.trace("Received message"),this.readFilterPending=!0,this.filterStack.receiveMessage(s).then(a=>{this.trace("Finished filtering received message"),this.readFilterPending=!1,this.listener.onReceiveMessage(a),this.pendingChildStatus&&this.outputStatus(this.pendingChildStatus)},a=>{this.cancelWithStatus(a.code,a.details)})},onReceiveStatus:s=>{this.trace("Received status"),this.readFilterPending?this.pendingChildStatus=s:this.outputStatus(s)}}),this.readPending&&this.child.startRead(),this.pendingMessage?this.sendMessageOnChild(this.pendingMessage.context,this.pendingMessage.message):this.pendingHalfClose&&this.child.halfClose()},o=>{this.outputStatus(o)})}reportResolverError(e){var t;!((t=this.metadata)===null||t===void 0)&&t.getOptions().waitForReady?this.channel.queueCallForConfig(this):this.outputStatus(e)}cancelWithStatus(e,t){var o;this.trace("cancelWithStatus code: "+e+' details: "'+t+'"'),(o=this.child)===null||o===void 0||o.cancelWithStatus(e,t),this.outputStatus({code:e,details:t,metadata:new uj.Metadata})}getPeer(){var e,t;return(t=(e=this.child)===null||e===void 0?void 0:e.getPeer())!==null&&t!==void 0?t:this.channel.getTarget()}start(e,t){this.trace("start called"),this.metadata=e.clone(),this.listener=t,this.getConfig()}sendMessageWithContext(e,t){this.trace("write() called with message of length "+t.length),this.child?this.sendMessageOnChild(e,t):this.pendingMessage={context:e,message:t}}startRead(){this.trace("startRead called"),this.child?this.child.startRead():this.readPending=!0}halfClose(){this.trace("halfClose called"),this.child&&!this.writeFilterPending?this.child.halfClose():this.pendingHalfClose=!0}setCredentials(e){this.credentials=e}addStatusWatcher(e){this.statusWatchers.push(e)}getCallNumber(){return this.callNumber}};K_.ResolvingCall=NO});var pj=T(ui=>{"use strict";Object.defineProperty(ui,"__esModule",{value:!0});ui.RetryingCall=ui.MessageBufferTracker=ui.RetryThrottler=void 0;var z_=ue(),Ghe=tu(),Hhe=ht(),qhe=Pe(),jhe="retrying_call",PO=class{constructor(e,t,o){this.maxTokens=e,this.tokenRatio=t,o?this.tokens=o.tokens*(e/o.maxTokens):this.tokens=e}addCallSucceeded(){this.tokens=Math.min(this.tokens+this.tokenRatio,this.maxTokens)}addCallFailed(){this.tokens=Math.max(this.tokens-1,0)}canRetryCall(){return this.tokens>this.maxTokens/2}};ui.RetryThrottler=PO;var IO=class{constructor(e,t){this.totalLimit=e,this.limitPerCall=t,this.totalAllocated=0,this.allocatedPerCall=new Map}allocate(e,t){var o;let s=(o=this.allocatedPerCall.get(t))!==null&&o!==void 0?o:0;return this.limitPerCall-s<e||this.totalLimit-this.totalAllocated<e?!1:(this.allocatedPerCall.set(t,s+e),this.totalAllocated+=e,!0)}free(e,t){var o;if(this.totalAllocated<e)throw new Error(`Invalid buffer allocation state: call ${t} freed ${e} > total allocated ${this.totalAllocated}`);this.totalAllocated-=e;let s=(o=this.allocatedPerCall.get(t))!==null&&o!==void 0?o:0;if(s<e)throw new Error(`Invalid buffer allocation state: call ${t} freed ${e} > allocated for call ${s}`);this.allocatedPerCall.set(t,s-e)}freeAll(e){var t;let o=(t=this.allocatedPerCall.get(e))!==null&&t!==void 0?t:0;if(this.totalAllocated<o)throw new Error(`Invalid buffer allocation state: call ${e} allocated ${o} > total allocated ${this.totalAllocated}`);this.totalAllocated-=o,this.allocatedPerCall.delete(e)}};ui.MessageBufferTracker=IO;var CO="grpc-previous-rpc-attempts",Yhe=5,bO=class{constructor(e,t,o,s,a,i,n,l,c){var u;this.channel=e,this.callConfig=t,this.methodName=o,this.host=s,this.credentials=a,this.deadline=i,this.callNumber=n,this.bufferTracker=l,this.retryThrottler=c,this.listener=null,this.initialMetadata=null,this.underlyingCalls=[],this.writeBuffer=[],this.writeBufferOffset=0,this.readStarted=!1,this.transparentRetryUsed=!1,this.attempts=0,this.hedgingTimer=null,this.committedCallIndex=null,this.initialRetryBackoffSec=0,this.nextRetryBackoffSec=0;let f=(u=e.getOptions()["grpc-node.retry_max_attempts_limit"])!==null&&u!==void 0?u:Yhe;if(e.getOptions()["grpc.enable_retries"]===0)this.state="NO_RETRY",this.maxAttempts=1;else if(t.methodConfig.retryPolicy){this.state="RETRY";let _=t.methodConfig.retryPolicy;this.nextRetryBackoffSec=this.initialRetryBackoffSec=Number(_.initialBackoff.substring(0,_.initialBackoff.length-1)),this.maxAttempts=Math.min(_.maxAttempts,f)}else t.methodConfig.hedgingPolicy?(this.state="HEDGING",this.maxAttempts=Math.min(t.methodConfig.hedgingPolicy.maxAttempts,f)):(this.state="TRANSPARENT_ONLY",this.maxAttempts=1);this.startTime=new Date}getDeadlineInfo(){if(this.underlyingCalls.length===0)return[];let e=[],t=this.underlyingCalls[this.underlyingCalls.length-1];return this.underlyingCalls.length>1&&e.push(`previous attempts: ${this.underlyingCalls.length-1}`),t.startTime>this.startTime&&e.push(`time to current attempt start: ${(0,Ghe.formatDateDifference)(this.startTime,t.startTime)}`),e.push(...t.call.getDeadlineInfo()),e}getCallNumber(){return this.callNumber}trace(e){qhe.trace(z_.LogVerbosity.DEBUG,jhe,"["+this.callNumber+"] "+e)}reportStatus(e){this.trace("ended with status: code="+e.code+' details="'+e.details+'" start time='+this.startTime.toISOString()),this.bufferTracker.freeAll(this.callNumber),this.writeBufferOffset=this.writeBufferOffset+this.writeBuffer.length,this.writeBuffer=[],process.nextTick(()=>{var t;(t=this.listener)===null||t===void 0||t.onReceiveStatus({code:e.code,details:e.details,metadata:e.metadata})})}cancelWithStatus(e,t){this.trace("cancelWithStatus code: "+e+' details: "'+t+'"'),this.reportStatus({code:e,details:t,metadata:new Hhe.Metadata});for(let{call:o}of this.underlyingCalls)o.cancelWithStatus(e,t)}getPeer(){return this.committedCallIndex!==null?this.underlyingCalls[this.committedCallIndex].call.getPeer():"unknown"}getBufferEntry(e){var t;return(t=this.writeBuffer[e-this.writeBufferOffset])!==null&&t!==void 0?t:{entryType:"FREED",allocated:!1}}getNextBufferIndex(){return this.writeBufferOffset+this.writeBuffer.length}clearSentMessages(){if(this.state!=="COMMITTED")return;let e;this.underlyingCalls[this.committedCallIndex].state==="COMPLETED"?e=this.getNextBufferIndex():e=this.underlyingCalls[this.committedCallIndex].nextMessageToSend;for(let t=this.writeBufferOffset;t<e;t++){let o=this.getBufferEntry(t);o.allocated&&this.bufferTracker.free(o.message.message.length,this.callNumber)}this.writeBuffer=this.writeBuffer.slice(e-this.writeBufferOffset),this.writeBufferOffset=e}commitCall(e){var t,o;if(this.state!=="COMMITTED"){this.trace("Committing call ["+this.underlyingCalls[e].call.getCallNumber()+"] at index "+e),this.state="COMMITTED",(o=(t=this.callConfig).onCommitted)===null||o===void 0||o.call(t),this.committedCallIndex=e;for(let s=0;s<this.underlyingCalls.length;s++)s!==e&&this.underlyingCalls[s].state!=="COMPLETED"&&(this.underlyingCalls[s].state="COMPLETED",this.underlyingCalls[s].call.cancelWithStatus(z_.Status.CANCELLED,"Discarded in favor of other hedged attempt"));this.clearSentMessages()}}commitCallWithMostMessages(){if(this.state==="COMMITTED")return;let e=-1,t=-1;for(let[o,s]of this.underlyingCalls.entries())s.state==="ACTIVE"&&s.nextMessageToSend>e&&(e=s.nextMessageToSend,t=o);t===-1?this.state="TRANSPARENT_ONLY":this.commitCall(t)}isStatusCodeInList(e,t){return e.some(o=>{var s;return o===t||o.toString().toLowerCase()===((s=z_.Status[t])===null||s===void 0?void 0:s.toLowerCase())})}getNextRetryBackoffMs(){var e;let t=(e=this.callConfig)===null||e===void 0?void 0:e.methodConfig.retryPolicy;if(!t)return 0;let o=Math.random()*this.nextRetryBackoffSec*1e3,s=Number(t.maxBackoff.substring(0,t.maxBackoff.length-1));return this.nextRetryBackoffSec=Math.min(this.nextRetryBackoffSec*t.backoffMultiplier,s),o}maybeRetryCall(e,t){if(this.state!=="RETRY"){t(!1);return}if(this.attempts>=this.maxAttempts){t(!1);return}let o;if(e===null)o=this.getNextRetryBackoffMs();else if(e<0){this.state="TRANSPARENT_ONLY",t(!1);return}else o=e,this.nextRetryBackoffSec=this.initialRetryBackoffSec;setTimeout(()=>{var s,a;if(this.state!=="RETRY"){t(!1);return}!((a=(s=this.retryThrottler)===null||s===void 0?void 0:s.canRetryCall())!==null&&a!==void 0)||a?(t(!0),this.attempts+=1,this.startNewAttempt()):(this.trace("Retry attempt denied by throttling policy"),t(!1))},o)}countActiveCalls(){let e=0;for(let t of this.underlyingCalls)(t==null?void 0:t.state)==="ACTIVE"&&(e+=1);return e}handleProcessedStatus(e,t,o){var s,a,i;switch(this.state){case"COMMITTED":case"NO_RETRY":case"TRANSPARENT_ONLY":this.commitCall(t),this.reportStatus(e);break;case"HEDGING":if(this.isStatusCodeInList((s=this.callConfig.methodConfig.hedgingPolicy.nonFatalStatusCodes)!==null&&s!==void 0?s:[],e.code)){(a=this.retryThrottler)===null||a===void 0||a.addCallFailed();let n;if(o===null)n=0;else if(o<0){this.state="TRANSPARENT_ONLY",this.commitCall(t),this.reportStatus(e);return}else n=o;setTimeout(()=>{this.maybeStartHedgingAttempt(),this.countActiveCalls()===0&&(this.commitCall(t),this.reportStatus(e))},n)}else this.commitCall(t),this.reportStatus(e);break;case"RETRY":this.isStatusCodeInList(this.callConfig.methodConfig.retryPolicy.retryableStatusCodes,e.code)?((i=this.retryThrottler)===null||i===void 0||i.addCallFailed(),this.maybeRetryCall(o,n=>{n||(this.commitCall(t),this.reportStatus(e))})):(this.commitCall(t),this.reportStatus(e));break}}getPushback(e){let t=e.get("grpc-retry-pushback-ms");if(t.length===0)return null;try{return parseInt(t[0])}catch{return-1}}handleChildStatus(e,t){var o;if(this.underlyingCalls[t].state==="COMPLETED")return;if(this.trace("state="+this.state+" handling status with progress "+e.progress+" from child ["+this.underlyingCalls[t].call.getCallNumber()+"] in state "+this.underlyingCalls[t].state),this.underlyingCalls[t].state="COMPLETED",e.code===z_.Status.OK){(o=this.retryThrottler)===null||o===void 0||o.addCallSucceeded(),this.commitCall(t),this.reportStatus(e);return}if(this.state==="NO_RETRY"){this.commitCall(t),this.reportStatus(e);return}if(this.state==="COMMITTED"){this.reportStatus(e);return}let s=this.getPushback(e.metadata);switch(e.progress){case"NOT_STARTED":this.startNewAttempt();break;case"REFUSED":this.transparentRetryUsed?this.handleProcessedStatus(e,t,s):(this.transparentRetryUsed=!0,this.startNewAttempt());break;case"DROP":this.commitCall(t),this.reportStatus(e);break;case"PROCESSED":this.handleProcessedStatus(e,t,s);break}}maybeStartHedgingAttempt(){this.state==="HEDGING"&&this.callConfig.methodConfig.hedgingPolicy&&(this.attempts>=this.maxAttempts||(this.attempts+=1,this.startNewAttempt(),this.maybeStartHedgingTimer()))}maybeStartHedgingTimer(){var e,t,o;if(this.hedgingTimer&&clearTimeout(this.hedgingTimer),this.state!=="HEDGING"||!this.callConfig.methodConfig.hedgingPolicy)return;let s=this.callConfig.methodConfig.hedgingPolicy;if(this.attempts>=this.maxAttempts)return;let a=(e=s.hedgingDelay)!==null&&e!==void 0?e:"0s",i=Number(a.substring(0,a.length-1));this.hedgingTimer=setTimeout(()=>{this.maybeStartHedgingAttempt()},i*1e3),(o=(t=this.hedgingTimer).unref)===null||o===void 0||o.call(t)}startNewAttempt(){let e=this.channel.createLoadBalancingCall(this.callConfig,this.methodName,this.host,this.credentials,this.deadline);this.trace("Created child call ["+e.getCallNumber()+"] for attempt "+this.attempts);let t=this.underlyingCalls.length;this.underlyingCalls.push({state:"ACTIVE",call:e,nextMessageToSend:0,startTime:new Date});let o=this.attempts-1,s=this.initialMetadata.clone();o>0&&s.set(CO,`${o}`);let a=!1;e.start(s,{onReceiveMetadata:i=>{this.trace("Received metadata from child ["+e.getCallNumber()+"]"),this.commitCall(t),a=!0,o>0&&i.set(CO,`${o}`),this.underlyingCalls[t].state==="ACTIVE"&&this.listener.onReceiveMetadata(i)},onReceiveMessage:i=>{this.trace("Received message from child ["+e.getCallNumber()+"]"),this.commitCall(t),this.underlyingCalls[t].state==="ACTIVE"&&this.listener.onReceiveMessage(i)},onReceiveStatus:i=>{this.trace("Received status from child ["+e.getCallNumber()+"]"),!a&&o>0&&i.metadata.set(CO,`${o}`),this.handleChildStatus(i,t)}}),this.sendNextChildMessage(t),this.readStarted&&e.startRead()}start(e,t){this.trace("start called"),this.listener=t,this.initialMetadata=e,this.attempts+=1,this.startNewAttempt(),this.maybeStartHedgingTimer()}handleChildWriteCompleted(e){var t,o;let s=this.underlyingCalls[e],a=s.nextMessageToSend;(o=(t=this.getBufferEntry(a)).callback)===null||o===void 0||o.call(t),this.clearSentMessages(),s.nextMessageToSend+=1,this.sendNextChildMessage(e)}sendNextChildMessage(e){let t=this.underlyingCalls[e];if(t.state!=="COMPLETED"&&this.getBufferEntry(t.nextMessageToSend)){let o=this.getBufferEntry(t.nextMessageToSend);switch(o.entryType){case"MESSAGE":t.call.sendMessageWithContext({callback:s=>{this.handleChildWriteCompleted(e)}},o.message.message);break;case"HALF_CLOSE":t.nextMessageToSend+=1,t.call.halfClose();break;case"FREED":break}}}sendMessageWithContext(e,t){var o;this.trace("write() called with message of length "+t.length);let s={message:t,flags:e.flags},a=this.getNextBufferIndex(),i={entryType:"MESSAGE",message:s,allocated:this.bufferTracker.allocate(t.length,this.callNumber)};if(this.writeBuffer.push(i),i.allocated){(o=e.callback)===null||o===void 0||o.call(e);for(let[n,l]of this.underlyingCalls.entries())l.state==="ACTIVE"&&l.nextMessageToSend===a&&l.call.sendMessageWithContext({callback:c=>{this.handleChildWriteCompleted(n)}},t)}else{if(this.commitCallWithMostMessages(),this.committedCallIndex===null)return;let n=this.underlyingCalls[this.committedCallIndex];i.callback=e.callback,n.state==="ACTIVE"&&n.nextMessageToSend===a&&n.call.sendMessageWithContext({callback:l=>{this.handleChildWriteCompleted(this.committedCallIndex)}},t)}}startRead(){this.trace("startRead called"),this.readStarted=!0;for(let e of this.underlyingCalls)(e==null?void 0:e.state)==="ACTIVE"&&e.call.startRead()}halfClose(){this.trace("halfClose called");let e=this.getNextBufferIndex();this.writeBuffer.push({entryType:"HALF_CLOSE",allocated:!1});for(let t of this.underlyingCalls)(t==null?void 0:t.state)==="ACTIVE"&&t.nextMessageToSend===e&&(t.nextMessageToSend+=1,t.call.halfClose())}setCredentials(e){throw new Error("Method not implemented.")}getMethod(){return this.methodName}getHost(){return this.host}};ui.RetryingCall=bO});var X_=T($_=>{"use strict";Object.defineProperty($_,"__esModule",{value:!0});$_.BaseSubchannelWrapper=void 0;var LO=class{constructor(e){this.child=e,this.healthy=!0,this.healthListeners=new Set,e.addHealthStateWatcher(t=>{this.healthy&&this.updateHealthListeners()})}updateHealthListeners(){for(let e of this.healthListeners)e(this.isHealthy())}getConnectivityState(){return this.child.getConnectivityState()}addConnectivityStateListener(e){this.child.addConnectivityStateListener(e)}removeConnectivityStateListener(e){this.child.removeConnectivityStateListener(e)}startConnecting(){this.child.startConnecting()}getAddress(){return this.child.getAddress()}throttleKeepalive(e){this.child.throttleKeepalive(e)}ref(){this.child.ref()}unref(){this.child.unref()}getChannelzRef(){return this.child.getChannelzRef()}isHealthy(){return this.healthy&&this.child.isHealthy()}addHealthStateWatcher(e){this.healthListeners.add(e)}removeHealthStateWatcher(e){this.healthListeners.delete(e)}setHealthy(e){e!==this.healthy&&(this.healthy=e,this.child.isHealthy()&&this.updateHealthListeners())}getRealSubchannel(){return this.child.getRealSubchannel()}realSubchannelEquals(e){return this.getRealSubchannel()===e.getRealSubchannel()}getCallCredentials(){return this.child.getCallCredentials()}};$_.BaseSubchannelWrapper=LO});var VO=T(vo=>{"use strict";Object.defineProperty(vo,"__esModule",{value:!0});vo.InternalChannel=vo.SUBCHANNEL_ARGS_EXCLUDE_KEY_PREFIX=void 0;var Khe=vc(),zhe=N3(),$he=rj(),wO=ti(),Xhe=ht(),fi=ue(),Whe=_O(),Jhe=sj(),dj=jr(),W_=Pe(),Qhe=rO(),J_=Pt(),or=tr(),nu=_o(),Zhe=cj(),e_e=tu(),t_e=fj(),xO=lO(),r_e=H_(),MO=pj(),n_e=X_(),i_e=2147483647,o_e=1e3,s_e=1800*1e3,Q_=new Map,a_e=1<<24,l_e=1<<20,DO=class extends n_e.BaseSubchannelWrapper{constructor(e,t){super(e),this.channel=t,this.refCount=0,this.subchannelStateListener=(o,s,a,i)=>{t.throttleKeepalive(i)}}ref(){this.refCount===0&&(this.child.addConnectivityStateListener(this.subchannelStateListener),this.channel.addWrappedSubchannel(this)),this.child.ref(),this.refCount+=1}unref(){this.child.unref(),this.refCount-=1,this.refCount<=0&&(this.child.removeConnectivityStateListener(this.subchannelStateListener),this.channel.removeWrappedSubchannel(this))}},UO=class{pick(e){return{pickResultType:wO.PickResultType.DROP,status:{code:fi.Status.UNAVAILABLE,details:"Channel closed before call started",metadata:new Xhe.Metadata},subchannel:null,onCallStarted:null,onCallEnded:null}}};vo.SUBCHANNEL_ARGS_EXCLUDE_KEY_PREFIX="grpc.internal.no_subchannel";var kO=class{constructor(e){this.target=e,this.trace=new nu.ChannelzTrace,this.callTracker=new nu.ChannelzCallTracker,this.childrenTracker=new nu.ChannelzChildrenTracker,this.state=or.ConnectivityState.IDLE}getChannelzInfoCallback(){return()=>({target:this.target,state:this.state,trace:this.trace,callTracker:this.callTracker,children:this.childrenTracker.getChildLists()})}},BO=class{constructor(e,t,o){var s,a,i,n,l,c;if(this.credentials=t,this.options=o,this.connectivityState=or.ConnectivityState.IDLE,this.currentPicker=new wO.UnavailablePicker,this.configSelectionQueue=[],this.pickQueue=[],this.connectivityStateWatchers=[],this.callRefTimer=null,this.configSelector=null,this.currentResolutionError=null,this.wrappedSubchannels=new Set,this.callCount=0,this.idleTimer=null,this.channelzEnabled=!0,this.randomChannelId=Math.floor(Math.random()*Number.MAX_SAFE_INTEGER),typeof e!="string")throw new TypeError("Channel target must be a string");if(!(t instanceof Khe.ChannelCredentials))throw new TypeError("Channel credentials must be a ChannelCredentials object");if(o&&typeof o!="object")throw new TypeError("Channel options must be an object");this.channelzInfoTracker=new kO(e);let u=(0,J_.parseUri)(e);if(u===null)throw new Error(`Could not parse target name "${e}"`);let f=(0,dj.mapUriDefaultScheme)(u);if(f===null)throw new Error(`Could not find a default scheme for target name "${e}"`);this.options["grpc.enable_channelz"]===0&&(this.channelzEnabled=!1),this.channelzRef=(0,nu.registerChannelzChannel)(e,this.channelzInfoTracker.getChannelzInfoCallback(),this.channelzEnabled),this.channelzEnabled&&this.channelzInfoTracker.trace.addTrace("CT_INFO","Channel created"),this.options["grpc.default_authority"]?this.defaultAuthority=this.options["grpc.default_authority"]:this.defaultAuthority=(0,dj.getDefaultAuthority)(f);let _=(0,Qhe.mapProxyName)(f,o);this.target=_.target,this.options=Object.assign({},this.options,_.extraOptions),this.subchannelPool=(0,$he.getSubchannelPool)(((s=this.options["grpc.use_local_subchannel_pool"])!==null&&s!==void 0?s:0)===0),this.retryBufferTracker=new MO.MessageBufferTracker((a=this.options["grpc.retry_buffer_size"])!==null&&a!==void 0?a:a_e,(i=this.options["grpc.per_rpc_retry_buffer_size"])!==null&&i!==void 0?i:l_e),this.keepaliveTime=(n=this.options["grpc.keepalive_time_ms"])!==null&&n!==void 0?n:-1,this.idleTimeoutMs=Math.max((l=this.options["grpc.client_idle_timeout_ms"])!==null&&l!==void 0?l:s_e,o_e);let m={createSubchannel:(y,A)=>{let I={};for(let[N,K]of Object.entries(A))N.startsWith(vo.SUBCHANNEL_ARGS_EXCLUDE_KEY_PREFIX)||(I[N]=K);let M=this.subchannelPool.getOrCreateSubchannel(this.target,y,I,this.credentials);return M.throttleKeepalive(this.keepaliveTime),this.channelzEnabled&&this.channelzInfoTracker.trace.addTrace("CT_INFO","Created subchannel or used existing subchannel",M.getChannelzRef()),new DO(M,this)},updateState:(y,A)=>{this.currentPicker=A;let I=this.pickQueue.slice();this.pickQueue=[],I.length>0&&this.callRefTimerUnref();for(let M of I)M.doPick();this.updateState(y)},requestReresolution:()=>{throw new Error("Resolving load balancer should never call requestReresolution")},addChannelzChild:y=>{this.channelzEnabled&&this.channelzInfoTracker.childrenTracker.refChild(y)},removeChannelzChild:y=>{this.channelzEnabled&&this.channelzInfoTracker.childrenTracker.unrefChild(y)}};this.resolvingLoadBalancer=new zhe.ResolvingLoadBalancer(this.target,m,this.options,(y,A)=>{var I;y.retryThrottling?Q_.set(this.getTarget(),new MO.RetryThrottler(y.retryThrottling.maxTokens,y.retryThrottling.tokenRatio,Q_.get(this.getTarget()))):Q_.delete(this.getTarget()),this.channelzEnabled&&this.channelzInfoTracker.trace.addTrace("CT_INFO","Address resolution succeeded"),(I=this.configSelector)===null||I===void 0||I.unref(),this.configSelector=A,this.currentResolutionError=null,process.nextTick(()=>{let M=this.configSelectionQueue;this.configSelectionQueue=[],M.length>0&&this.callRefTimerUnref();for(let F of M)F.getConfig()})},y=>{this.channelzEnabled&&this.channelzInfoTracker.trace.addTrace("CT_WARNING","Address resolution failed with code "+y.code+' and details "'+y.details+'"'),this.configSelectionQueue.length>0&&this.trace("Name resolution failed with calls queued for config selection"),this.configSelector===null&&(this.currentResolutionError=Object.assign(Object.assign({},(0,r_e.restrictControlPlaneStatusCode)(y.code,y.details)),{metadata:y.metadata}));let A=this.configSelectionQueue;this.configSelectionQueue=[],A.length>0&&this.callRefTimerUnref();for(let I of A)I.reportResolverError(y)}),this.filterStackFactory=new Whe.FilterStackFactory([new Jhe.CompressionFilterFactory(this,this.options)]),this.trace("Channel constructed with options "+JSON.stringify(o,void 0,2));let O=new Error;(0,W_.isTracerEnabled)("channel_stacktrace")&&(0,W_.trace)(fi.LogVerbosity.DEBUG,"channel_stacktrace","("+this.channelzRef.id+`) Channel constructed 
`+((c=O.stack)===null||c===void 0?void 0:c.substring(O.stack.indexOf(`
`)+1))),this.lastActivityTimestamp=new Date}trace(e,t){(0,W_.trace)(t??fi.LogVerbosity.DEBUG,"channel","("+this.channelzRef.id+") "+(0,J_.uriToString)(this.target)+" "+e)}callRefTimerRef(){var e,t,o,s;this.callRefTimer||(this.callRefTimer=setInterval(()=>{},i_e)),!((t=(e=this.callRefTimer).hasRef)===null||t===void 0)&&t.call(e)||(this.trace("callRefTimer.ref | configSelectionQueue.length="+this.configSelectionQueue.length+" pickQueue.length="+this.pickQueue.length),(s=(o=this.callRefTimer).ref)===null||s===void 0||s.call(o))}callRefTimerUnref(){var e,t,o;(!(!((e=this.callRefTimer)===null||e===void 0)&&e.hasRef)||this.callRefTimer.hasRef())&&(this.trace("callRefTimer.unref | configSelectionQueue.length="+this.configSelectionQueue.length+" pickQueue.length="+this.pickQueue.length),(o=(t=this.callRefTimer)===null||t===void 0?void 0:t.unref)===null||o===void 0||o.call(t))}removeConnectivityStateWatcher(e){let t=this.connectivityStateWatchers.findIndex(o=>o===e);t>=0&&this.connectivityStateWatchers.splice(t,1)}updateState(e){(0,W_.trace)(fi.LogVerbosity.DEBUG,"connectivity_state","("+this.channelzRef.id+") "+(0,J_.uriToString)(this.target)+" "+or.ConnectivityState[this.connectivityState]+" -> "+or.ConnectivityState[e]),this.channelzEnabled&&this.channelzInfoTracker.trace.addTrace("CT_INFO","Connectivity state change to "+or.ConnectivityState[e]),this.connectivityState=e,this.channelzInfoTracker.state=e;let t=this.connectivityStateWatchers.slice();for(let o of t)e!==o.currentState&&(o.timer&&clearTimeout(o.timer),this.removeConnectivityStateWatcher(o),o.callback());e!==or.ConnectivityState.TRANSIENT_FAILURE&&(this.currentResolutionError=null)}throttleKeepalive(e){if(e>this.keepaliveTime){this.keepaliveTime=e;for(let t of this.wrappedSubchannels)t.throttleKeepalive(e)}}addWrappedSubchannel(e){this.wrappedSubchannels.add(e)}removeWrappedSubchannel(e){this.wrappedSubchannels.delete(e)}doPick(e,t){return this.currentPicker.pick({metadata:e,extraPickInfo:t})}queueCallForPick(e){this.pickQueue.push(e),this.callRefTimerRef()}getConfig(e,t){return this.connectivityState!==or.ConnectivityState.SHUTDOWN&&this.resolvingLoadBalancer.exitIdle(),this.configSelector?{type:"SUCCESS",config:this.configSelector.invoke(e,t,this.randomChannelId)}:this.currentResolutionError?{type:"ERROR",error:this.currentResolutionError}:{type:"NONE"}}queueCallForConfig(e){this.configSelectionQueue.push(e),this.callRefTimerRef()}enterIdle(){this.resolvingLoadBalancer.destroy(),this.updateState(or.ConnectivityState.IDLE),this.currentPicker=new wO.QueuePicker(this.resolvingLoadBalancer),this.idleTimer&&(clearTimeout(this.idleTimer),this.idleTimer=null),this.callRefTimer&&(clearInterval(this.callRefTimer),this.callRefTimer=null)}startIdleTimeout(e){var t,o;this.idleTimer=setTimeout(()=>{if(this.callCount>0){this.startIdleTimeout(this.idleTimeoutMs);return}let a=new Date().valueOf()-this.lastActivityTimestamp.valueOf();a>=this.idleTimeoutMs?(this.trace("Idle timer triggered after "+this.idleTimeoutMs+"ms of inactivity"),this.enterIdle()):this.startIdleTimeout(this.idleTimeoutMs-a)},e),(o=(t=this.idleTimer).unref)===null||o===void 0||o.call(t)}maybeStartIdleTimer(){this.connectivityState!==or.ConnectivityState.SHUTDOWN&&!this.idleTimer&&this.startIdleTimeout(this.idleTimeoutMs)}onCallStart(){this.channelzEnabled&&this.channelzInfoTracker.callTracker.addCallStarted(),this.callCount+=1}onCallEnd(e){this.channelzEnabled&&(e.code===fi.Status.OK?this.channelzInfoTracker.callTracker.addCallSucceeded():this.channelzInfoTracker.callTracker.addCallFailed()),this.callCount-=1,this.lastActivityTimestamp=new Date,this.maybeStartIdleTimer()}createLoadBalancingCall(e,t,o,s,a){let i=(0,xO.getNextCallNumber)();return this.trace("createLoadBalancingCall ["+i+'] method="'+t+'"'),new Zhe.LoadBalancingCall(this,e,t,o,s,a,i)}createRetryingCall(e,t,o,s,a){let i=(0,xO.getNextCallNumber)();return this.trace("createRetryingCall ["+i+'] method="'+t+'"'),new MO.RetryingCall(this,e,t,o,s,a,i,this.retryBufferTracker,Q_.get(this.getTarget()))}createResolvingCall(e,t,o,s,a){let i=(0,xO.getNextCallNumber)();this.trace("createResolvingCall ["+i+'] method="'+e+'", deadline='+(0,e_e.deadlineToString)(t));let n={deadline:t,flags:a??fi.Propagate.DEFAULTS,host:o??this.defaultAuthority,parentCall:s},l=new t_e.ResolvingCall(this,e,n,this.filterStackFactory.clone(),i);return this.onCallStart(),l.addStatusWatcher(c=>{this.onCallEnd(c)}),l}close(){var e;this.resolvingLoadBalancer.destroy(),this.updateState(or.ConnectivityState.SHUTDOWN),this.currentPicker=new UO;for(let t of this.configSelectionQueue)t.cancelWithStatus(fi.Status.UNAVAILABLE,"Channel closed before call started");this.configSelectionQueue=[];for(let t of this.pickQueue)t.cancelWithStatus(fi.Status.UNAVAILABLE,"Channel closed before call started");this.pickQueue=[],this.callRefTimer&&clearInterval(this.callRefTimer),this.idleTimer&&clearTimeout(this.idleTimer),this.channelzEnabled&&(0,nu.unregisterChannelzRef)(this.channelzRef),this.subchannelPool.unrefUnusedSubchannels(),(e=this.configSelector)===null||e===void 0||e.unref(),this.configSelector=null}getTarget(){return(0,J_.uriToString)(this.target)}getConnectivityState(e){let t=this.connectivityState;return e&&(this.resolvingLoadBalancer.exitIdle(),this.lastActivityTimestamp=new Date,this.maybeStartIdleTimer()),t}watchConnectivityState(e,t,o){if(this.connectivityState===or.ConnectivityState.SHUTDOWN)throw new Error("Channel has been shut down");let s=null;if(t!==1/0){let i=t instanceof Date?t:new Date(t),n=new Date;if(t===-1/0||i<=n){process.nextTick(o,new Error("Deadline passed without connectivity state change"));return}s=setTimeout(()=>{this.removeConnectivityStateWatcher(a),o(new Error("Deadline passed without connectivity state change"))},i.getTime()-n.getTime())}let a={currentState:e,callback:o,timer:s};this.connectivityStateWatchers.push(a)}getChannelzRef(){return this.channelzRef}createCall(e,t,o,s,a){if(typeof e!="string")throw new TypeError("Channel#createCall: method must be a string");if(!(typeof t=="number"||t instanceof Date))throw new TypeError("Channel#createCall: deadline must be a number or Date");if(this.connectivityState===or.ConnectivityState.SHUTDOWN)throw new Error("Channel has been shut down");return this.createResolvingCall(e,t,o,s,a)}getOptions(){return this.options}};vo.InternalChannel=BO});var Wv=T(Z_=>{"use strict";Object.defineProperty(Z_,"__esModule",{value:!0});Z_.ChannelImplementation=void 0;var c_e=vc(),u_e=VO(),FO=class{constructor(e,t,o){if(typeof e!="string")throw new TypeError("Channel target must be a string");if(!(t instanceof c_e.ChannelCredentials))throw new TypeError("Channel credentials must be a ChannelCredentials object");if(o&&typeof o!="object")throw new TypeError("Channel options must be an object");this.internalChannel=new u_e.InternalChannel(e,t,o)}close(){this.internalChannel.close()}getTarget(){return this.internalChannel.getTarget()}getConnectivityState(e){return this.internalChannel.getConnectivityState(e)}watchConnectivityState(e,t,o){this.internalChannel.watchConnectivityState(e,t,o)}getChannelzRef(){return this.internalChannel.getChannelzRef()}createCall(e,t,o,s,a){if(typeof e!="string")throw new TypeError("Channel#createCall: method must be a string");if(!(typeof t=="number"||t instanceof Date))throw new TypeError("Channel#createCall: deadline must be a number or Date");return this.internalChannel.createCall(e,t,o,s,a)}};Z_.ChannelImplementation=FO});var _j=T(Nr=>{"use strict";Object.defineProperty(Nr,"__esModule",{value:!0});Nr.ServerDuplexStreamImpl=Nr.ServerWritableStreamImpl=Nr.ServerReadableStreamImpl=Nr.ServerUnaryCallImpl=void 0;Nr.serverErrorToStatus=zO;var f_e=V("events"),YO=V("stream"),KO=ue(),hj=ht();function zO(r,e){var t;let o={code:KO.Status.UNKNOWN,details:"message"in r?r.message:"Unknown Error",metadata:(t=e??r.metadata)!==null&&t!==void 0?t:null};return"code"in r&&typeof r.code=="number"&&Number.isInteger(r.code)&&(o.code=r.code,"details"in r&&typeof r.details=="string"&&(o.details=r.details)),o}var GO=class extends f_e.EventEmitter{constructor(e,t,o,s){super(),this.path=e,this.call=t,this.metadata=o,this.request=s,this.cancelled=!1}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.path}getHost(){return this.call.getHost()}};Nr.ServerUnaryCallImpl=GO;var HO=class extends YO.Readable{constructor(e,t,o){super({objectMode:!0}),this.path=e,this.call=t,this.metadata=o,this.cancelled=!1}_read(e){this.call.startRead()}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.path}getHost(){return this.call.getHost()}};Nr.ServerReadableStreamImpl=HO;var qO=class extends YO.Writable{constructor(e,t,o,s){super({objectMode:!0}),this.path=e,this.call=t,this.metadata=o,this.request=s,this.pendingStatus={code:KO.Status.OK,details:"OK"},this.cancelled=!1,this.trailingMetadata=new hj.Metadata,this.on("error",a=>{this.pendingStatus=zO(a),this.end()})}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.path}getHost(){return this.call.getHost()}_write(e,t,o){this.call.sendMessage(e,o)}_final(e){var t;e(null),this.call.sendStatus(Object.assign(Object.assign({},this.pendingStatus),{metadata:(t=this.pendingStatus.metadata)!==null&&t!==void 0?t:this.trailingMetadata}))}end(e){return e&&(this.trailingMetadata=e),super.end()}};Nr.ServerWritableStreamImpl=qO;var jO=class extends YO.Duplex{constructor(e,t,o){super({objectMode:!0}),this.path=e,this.call=t,this.metadata=o,this.pendingStatus={code:KO.Status.OK,details:"OK"},this.cancelled=!1,this.trailingMetadata=new hj.Metadata,this.on("error",s=>{this.pendingStatus=zO(s),this.end()})}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.path}getHost(){return this.call.getHost()}_read(e){this.call.startRead()}_write(e,t,o){this.call.sendMessage(e,o)}_final(e){var t;e(null),this.call.sendStatus(Object.assign(Object.assign({},this.pendingStatus),{metadata:(t=this.pendingStatus.metadata)!==null&&t!==void 0?t:this.trailingMetadata}))}end(e){return e&&(this.trailingMetadata=e),super.end()}};Nr.ServerDuplexStreamImpl=jO});var eE=T(Oa=>{"use strict";Object.defineProperty(Oa,"__esModule",{value:!0});Oa.ServerCredentials=void 0;Oa.createCertificateProviderServerCredentials=p_e;Oa.createServerCredentialsWithInterceptors=d_e;var $O=Tv(),yo=class{constructor(e,t){this.serverConstructorOptions=e,this.watchers=new Set,this.latestContextOptions=null,this.latestContextOptions=t??null}_addWatcher(e){this.watchers.add(e)}_removeWatcher(e){this.watchers.delete(e)}getWatcherCount(){return this.watchers.size}updateSecureContextOptions(e){this.latestContextOptions=e;for(let t of this.watchers)t(this.latestContextOptions)}_isSecure(){return this.serverConstructorOptions!==null}_getSecureContextOptions(){return this.latestContextOptions}_getConstructorOptions(){return this.serverConstructorOptions}_getInterceptors(){return[]}static createInsecure(){return new XO}static createSsl(e,t,o=!1){var s;if(e!==null&&!Buffer.isBuffer(e))throw new TypeError("rootCerts must be null or a Buffer");if(!Array.isArray(t))throw new TypeError("keyCertPairs must be an array");if(typeof o!="boolean")throw new TypeError("checkClientCertificate must be a boolean");let a=[],i=[];for(let n=0;n<t.length;n++){let l=t[n];if(l===null||typeof l!="object")throw new TypeError(`keyCertPair[${n}] must be an object`);if(!Buffer.isBuffer(l.private_key))throw new TypeError(`keyCertPair[${n}].private_key must be a Buffer`);if(!Buffer.isBuffer(l.cert_chain))throw new TypeError(`keyCertPair[${n}].cert_chain must be a Buffer`);a.push(l.cert_chain),i.push(l.private_key)}return new WO({requestCert:o,ciphers:$O.CIPHER_SUITES},{ca:(s=e??(0,$O.getDefaultRootsData)())!==null&&s!==void 0?s:void 0,cert:a,key:i})}};Oa.ServerCredentials=yo;var XO=class r extends yo{constructor(){super(null)}_getSettings(){return null}_equals(e){return e instanceof r}},WO=class r extends yo{constructor(e,t){super(e,t),this.options=Object.assign(Object.assign({},e),t)}_equals(e){if(this===e)return!0;if(!(e instanceof r))return!1;if(Buffer.isBuffer(this.options.ca)&&Buffer.isBuffer(e.options.ca)){if(!this.options.ca.equals(e.options.ca))return!1}else if(this.options.ca!==e.options.ca)return!1;if(Array.isArray(this.options.cert)&&Array.isArray(e.options.cert)){if(this.options.cert.length!==e.options.cert.length)return!1;for(let t=0;t<this.options.cert.length;t++){let o=this.options.cert[t],s=e.options.cert[t];if(Buffer.isBuffer(o)&&Buffer.isBuffer(s)){if(!o.equals(s))return!1}else if(o!==s)return!1}}else if(this.options.cert!==e.options.cert)return!1;if(Array.isArray(this.options.key)&&Array.isArray(e.options.key)){if(this.options.key.length!==e.options.key.length)return!1;for(let t=0;t<this.options.key.length;t++){let o=this.options.key[t],s=e.options.key[t];if(Buffer.isBuffer(o)&&Buffer.isBuffer(s)){if(!o.equals(s))return!1}else if(o!==s)return!1}}else if(this.options.key!==e.options.key)return!1;return this.options.requestCert===e.options.requestCert}},JO=class r extends yo{constructor(e,t,o){super({requestCert:t!==null,rejectUnauthorized:o,ciphers:$O.CIPHER_SUITES}),this.identityCertificateProvider=e,this.caCertificateProvider=t,this.requireClientCertificate=o,this.latestCaUpdate=null,this.latestIdentityUpdate=null,this.caCertificateUpdateListener=this.handleCaCertificateUpdate.bind(this),this.identityCertificateUpdateListener=this.handleIdentityCertitificateUpdate.bind(this)}_addWatcher(e){var t;this.getWatcherCount()===0&&((t=this.caCertificateProvider)===null||t===void 0||t.addCaCertificateListener(this.caCertificateUpdateListener),this.identityCertificateProvider.addIdentityCertificateListener(this.identityCertificateUpdateListener)),super._addWatcher(e)}_removeWatcher(e){var t;super._removeWatcher(e),this.getWatcherCount()===0&&((t=this.caCertificateProvider)===null||t===void 0||t.removeCaCertificateListener(this.caCertificateUpdateListener),this.identityCertificateProvider.removeIdentityCertificateListener(this.identityCertificateUpdateListener))}_equals(e){return this===e?!0:e instanceof r?this.caCertificateProvider===e.caCertificateProvider&&this.identityCertificateProvider===e.identityCertificateProvider&&this.requireClientCertificate===e.requireClientCertificate:!1}calculateSecureContextOptions(){var e;return this.latestIdentityUpdate===null||this.caCertificateProvider!==null&&this.latestCaUpdate===null?null:{ca:(e=this.latestCaUpdate)===null||e===void 0?void 0:e.caCertificate,cert:[this.latestIdentityUpdate.certificate],key:[this.latestIdentityUpdate.privateKey]}}finalizeUpdate(){let e=this.calculateSecureContextOptions();this.updateSecureContextOptions(e)}handleCaCertificateUpdate(e){this.latestCaUpdate=e,this.finalizeUpdate()}handleIdentityCertitificateUpdate(e){this.latestIdentityUpdate=e,this.finalizeUpdate()}};function p_e(r,e,t){return new JO(r,e,t)}var QO=class r extends yo{constructor(e,t){super({}),this.childCredentials=e,this.interceptors=t}_isSecure(){return this.childCredentials._isSecure()}_equals(e){if(!(e instanceof r)||!this.childCredentials._equals(e.childCredentials)||this.interceptors.length!==e.interceptors.length)return!1;for(let t=0;t<this.interceptors.length;t++)if(this.interceptors[t]!==e.interceptors[t])return!1;return!0}_getInterceptors(){return this.interceptors}_addWatcher(e){this.childCredentials._addWatcher(e)}_removeWatcher(e){this.childCredentials._removeWatcher(e)}_getConstructorOptions(){return this.childCredentials._getConstructorOptions()}_getSecureContextOptions(){return this.childCredentials._getSecureContextOptions()}};function d_e(r,e){return new QO(r,e)}});var sA=T(sr=>{"use strict";Object.defineProperty(sr,"__esModule",{value:!0});sr.BaseServerInterceptingCall=sr.ServerInterceptingCall=sr.ResponderBuilder=sr.ServerListenerBuilder=void 0;sr.isInterceptingServerListener=__e;sr.getServerInterceptingCall=g_e;var eA=ht(),bt=ue(),Aa=V("http2"),Ej=Ih(),mj=V("zlib"),h_e=iO(),vj=Pe(),yj="server_call";function Oo(r){vj.trace(bt.LogVerbosity.DEBUG,yj,r)}var tA=class{constructor(){this.metadata=void 0,this.message=void 0,this.halfClose=void 0,this.cancel=void 0}withOnReceiveMetadata(e){return this.metadata=e,this}withOnReceiveMessage(e){return this.message=e,this}withOnReceiveHalfClose(e){return this.halfClose=e,this}withOnCancel(e){return this.cancel=e,this}build(){return{onReceiveMetadata:this.metadata,onReceiveMessage:this.message,onReceiveHalfClose:this.halfClose,onCancel:this.cancel}}};sr.ServerListenerBuilder=tA;function __e(r){return r.onReceiveMetadata!==void 0&&r.onReceiveMetadata.length===1}var rA=class{constructor(e,t){this.listener=e,this.nextListener=t,this.cancelled=!1,this.processingMetadata=!1,this.hasPendingMessage=!1,this.pendingMessage=null,this.processingMessage=!1,this.hasPendingHalfClose=!1}processPendingMessage(){this.hasPendingMessage&&(this.nextListener.onReceiveMessage(this.pendingMessage),this.pendingMessage=null,this.hasPendingMessage=!1)}processPendingHalfClose(){this.hasPendingHalfClose&&(this.nextListener.onReceiveHalfClose(),this.hasPendingHalfClose=!1)}onReceiveMetadata(e){this.cancelled||(this.processingMetadata=!0,this.listener.onReceiveMetadata(e,t=>{this.processingMetadata=!1,!this.cancelled&&(this.nextListener.onReceiveMetadata(t),this.processPendingMessage(),this.processPendingHalfClose())}))}onReceiveMessage(e){this.cancelled||(this.processingMessage=!0,this.listener.onReceiveMessage(e,t=>{this.processingMessage=!1,!this.cancelled&&(this.processingMetadata?(this.pendingMessage=t,this.hasPendingMessage=!0):(this.nextListener.onReceiveMessage(t),this.processPendingHalfClose()))}))}onReceiveHalfClose(){this.cancelled||this.listener.onReceiveHalfClose(()=>{this.cancelled||(this.processingMetadata||this.processingMessage?this.hasPendingHalfClose=!0:this.nextListener.onReceiveHalfClose())})}onCancel(){this.cancelled=!0,this.listener.onCancel(),this.nextListener.onCancel()}},nA=class{constructor(){this.start=void 0,this.metadata=void 0,this.message=void 0,this.status=void 0}withStart(e){return this.start=e,this}withSendMetadata(e){return this.metadata=e,this}withSendMessage(e){return this.message=e,this}withSendStatus(e){return this.status=e,this}build(){return{start:this.start,sendMetadata:this.metadata,sendMessage:this.message,sendStatus:this.status}}};sr.ResponderBuilder=nA;var tE={onReceiveMetadata:(r,e)=>{e(r)},onReceiveMessage:(r,e)=>{e(r)},onReceiveHalfClose:r=>{r()},onCancel:()=>{}},rE={start:r=>{r()},sendMetadata:(r,e)=>{e(r)},sendMessage:(r,e)=>{e(r)},sendStatus:(r,e)=>{e(r)}},iA=class{constructor(e,t){var o,s,a,i;this.nextCall=e,this.processingMetadata=!1,this.sentMetadata=!1,this.processingMessage=!1,this.pendingMessage=null,this.pendingMessageCallback=null,this.pendingStatus=null,this.responder={start:(o=t==null?void 0:t.start)!==null&&o!==void 0?o:rE.start,sendMetadata:(s=t==null?void 0:t.sendMetadata)!==null&&s!==void 0?s:rE.sendMetadata,sendMessage:(a=t==null?void 0:t.sendMessage)!==null&&a!==void 0?a:rE.sendMessage,sendStatus:(i=t==null?void 0:t.sendStatus)!==null&&i!==void 0?i:rE.sendStatus}}processPendingMessage(){this.pendingMessageCallback&&(this.nextCall.sendMessage(this.pendingMessage,this.pendingMessageCallback),this.pendingMessage=null,this.pendingMessageCallback=null)}processPendingStatus(){this.pendingStatus&&(this.nextCall.sendStatus(this.pendingStatus),this.pendingStatus=null)}start(e){this.responder.start(t=>{var o,s,a,i;let n={onReceiveMetadata:(o=t==null?void 0:t.onReceiveMetadata)!==null&&o!==void 0?o:tE.onReceiveMetadata,onReceiveMessage:(s=t==null?void 0:t.onReceiveMessage)!==null&&s!==void 0?s:tE.onReceiveMessage,onReceiveHalfClose:(a=t==null?void 0:t.onReceiveHalfClose)!==null&&a!==void 0?a:tE.onReceiveHalfClose,onCancel:(i=t==null?void 0:t.onCancel)!==null&&i!==void 0?i:tE.onCancel},l=new rA(n,e);this.nextCall.start(l)})}sendMetadata(e){this.processingMetadata=!0,this.sentMetadata=!0,this.responder.sendMetadata(e,t=>{this.processingMetadata=!1,this.nextCall.sendMetadata(t),this.processPendingMessage(),this.processPendingStatus()})}sendMessage(e,t){this.processingMessage=!0,this.sentMetadata||this.sendMetadata(new eA.Metadata),this.responder.sendMessage(e,o=>{this.processingMessage=!1,this.processingMetadata?(this.pendingMessage=o,this.pendingMessageCallback=t):this.nextCall.sendMessage(o,t)})}sendStatus(e){this.responder.sendStatus(e,t=>{this.processingMetadata||this.processingMessage?this.pendingStatus=t:this.nextCall.sendStatus(t)})}startRead(){this.nextCall.startRead()}getPeer(){return this.nextCall.getPeer()}getDeadline(){return this.nextCall.getDeadline()}getHost(){return this.nextCall.getHost()}};sr.ServerInterceptingCall=iA;var Oj="grpc-accept-encoding",oA="grpc-encoding",Tj="grpc-message",Sj="grpc-status",ZO="grpc-timeout",E_e=/(\d{1,8})\s*([HMSmun])/,m_e={H:36e5,M:6e4,S:1e3,m:1,u:.001,n:1e-6},T_e={[Oj]:"identity,deflate,gzip",[oA]:"identity"},gj={[Aa.constants.HTTP2_HEADER_STATUS]:Aa.constants.HTTP_STATUS_OK,[Aa.constants.HTTP2_HEADER_CONTENT_TYPE]:"application/grpc+proto"},S_e={waitForTrailers:!0},nE=class{constructor(e,t,o,s,a){var i;this.stream=e,this.callEventTracker=o,this.handler=s,this.listener=null,this.deadlineTimer=null,this.deadline=1/0,this.maxSendMessageSize=bt.DEFAULT_MAX_SEND_MESSAGE_LENGTH,this.maxReceiveMessageSize=bt.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH,this.cancelled=!1,this.metadataSent=!1,this.wantTrailers=!1,this.cancelNotified=!1,this.incomingEncoding="identity",this.readQueue=[],this.isReadPending=!1,this.receivedHalfClose=!1,this.streamEnded=!1,this.stream.once("error",u=>{}),this.stream.once("close",()=>{var u;Oo("Request to method "+((u=this.handler)===null||u===void 0?void 0:u.path)+" stream closed with rstCode "+this.stream.rstCode),this.callEventTracker&&!this.streamEnded&&(this.streamEnded=!0,this.callEventTracker.onStreamEnd(!1),this.callEventTracker.onCallEnd({code:bt.Status.CANCELLED,details:"Stream closed before sending status",metadata:null})),this.notifyOnCancel()}),this.stream.on("data",u=>{this.handleDataFrame(u)}),this.stream.pause(),this.stream.on("end",()=>{this.handleEndEvent()}),"grpc.max_send_message_length"in a&&(this.maxSendMessageSize=a["grpc.max_send_message_length"]),"grpc.max_receive_message_length"in a&&(this.maxReceiveMessageSize=a["grpc.max_receive_message_length"]),this.host=(i=t[":authority"])!==null&&i!==void 0?i:t.host,this.decoder=new h_e.StreamDecoder(this.maxReceiveMessageSize);let n=eA.Metadata.fromHttp2Headers(t);vj.isTracerEnabled(yj)&&Oo("Request to "+this.handler.path+" received headers "+JSON.stringify(n.toJSON()));let l=n.get(ZO);l.length>0&&this.handleTimeoutHeader(l[0]);let c=n.get(oA);c.length>0&&(this.incomingEncoding=c[0]),n.remove(ZO),n.remove(oA),n.remove(Oj),n.remove(Aa.constants.HTTP2_HEADER_ACCEPT_ENCODING),n.remove(Aa.constants.HTTP2_HEADER_TE),n.remove(Aa.constants.HTTP2_HEADER_CONTENT_TYPE),this.metadata=n}handleTimeoutHeader(e){let t=e.toString().match(E_e);if(t===null){let a={code:bt.Status.INTERNAL,details:`Invalid ${ZO} value "${e}"`,metadata:null};process.nextTick(()=>{this.sendStatus(a)});return}let o=+t[1]*m_e[t[2]]|0,s=new Date;this.deadline=s.setMilliseconds(s.getMilliseconds()+o),this.deadlineTimer=setTimeout(()=>{let a={code:bt.Status.DEADLINE_EXCEEDED,details:"Deadline exceeded",metadata:null};this.sendStatus(a)},o)}checkCancelled(){return!this.cancelled&&(this.stream.destroyed||this.stream.closed)&&(this.notifyOnCancel(),this.cancelled=!0),this.cancelled}notifyOnCancel(){this.cancelNotified||(this.cancelNotified=!0,this.cancelled=!0,process.nextTick(()=>{var e;(e=this.listener)===null||e===void 0||e.onCancel()}),this.deadlineTimer&&clearTimeout(this.deadlineTimer),this.stream.resume())}maybeSendMetadata(){this.metadataSent||this.sendMetadata(new eA.Metadata)}serializeMessage(e){let t=this.handler.serialize(e),o=t.byteLength,s=Buffer.allocUnsafe(o+5);return s.writeUInt8(0,0),s.writeUInt32BE(o,1),t.copy(s,5),s}decompressMessage(e,t){let o=e.subarray(5);if(t==="identity")return o;if(t==="deflate"||t==="gzip"){let s;return t==="deflate"?s=mj.createInflate():s=mj.createGunzip(),new Promise((a,i)=>{let n=0,l=[];s.on("data",c=>{l.push(c),n+=c.byteLength,this.maxReceiveMessageSize!==-1&&n>this.maxReceiveMessageSize&&(s.destroy(),i({code:bt.Status.RESOURCE_EXHAUSTED,details:`Received message that decompresses to a size larger than ${this.maxReceiveMessageSize}`}))}),s.on("end",()=>{a(Buffer.concat(l))}),s.write(o),s.end()})}else return Promise.reject({code:bt.Status.UNIMPLEMENTED,details:`Received message compressed with unsupported encoding "${t}"`})}async decompressAndMaybePush(e){if(e.type!=="COMPRESSED")throw new Error(`Invalid queue entry type: ${e.type}`);let o=e.compressedMessage.readUInt8(0)===1?this.incomingEncoding:"identity",s;try{s=await this.decompressMessage(e.compressedMessage,o)}catch(a){this.sendStatus(a);return}try{e.parsedMessage=this.handler.deserialize(s)}catch(a){this.sendStatus({code:bt.Status.INTERNAL,details:`Error deserializing request: ${a.message}`});return}e.type="READABLE",this.maybePushNextMessage()}maybePushNextMessage(){if(this.listener&&this.isReadPending&&this.readQueue.length>0&&this.readQueue[0].type!=="COMPRESSED"){this.isReadPending=!1;let e=this.readQueue.shift();e.type==="READABLE"?this.listener.onReceiveMessage(e.parsedMessage):this.listener.onReceiveHalfClose()}}handleDataFrame(e){var t;if(this.checkCancelled())return;Oo("Request to "+this.handler.path+" received data frame of size "+e.length);let o;try{o=this.decoder.write(e)}catch(s){this.sendStatus({code:bt.Status.RESOURCE_EXHAUSTED,details:s.message});return}for(let s of o){this.stream.pause();let a={type:"COMPRESSED",compressedMessage:s,parsedMessage:null};this.readQueue.push(a),this.decompressAndMaybePush(a),(t=this.callEventTracker)===null||t===void 0||t.addMessageReceived()}}handleEndEvent(){this.readQueue.push({type:"HALF_CLOSE",compressedMessage:null,parsedMessage:null}),this.receivedHalfClose=!0,this.maybePushNextMessage()}start(e){Oo("Request to "+this.handler.path+" start called"),!this.checkCancelled()&&(this.listener=e,e.onReceiveMetadata(this.metadata))}sendMetadata(e){if(this.checkCancelled()||this.metadataSent)return;this.metadataSent=!0;let t=e?e.toHttp2Headers():null,o=Object.assign(Object.assign(Object.assign({},gj),T_e),t);this.stream.respond(o,S_e)}sendMessage(e,t){if(this.checkCancelled())return;let o;try{o=this.serializeMessage(e)}catch(s){this.sendStatus({code:bt.Status.INTERNAL,details:`Error serializing response: ${(0,Ej.getErrorMessage)(s)}`,metadata:null});return}if(this.maxSendMessageSize!==-1&&o.length-5>this.maxSendMessageSize){this.sendStatus({code:bt.Status.RESOURCE_EXHAUSTED,details:`Sent message larger than max (${o.length} vs. ${this.maxSendMessageSize})`,metadata:null});return}this.maybeSendMetadata(),Oo("Request to "+this.handler.path+" sent data frame of size "+o.length),this.stream.write(o,s=>{var a;if(s){this.sendStatus({code:bt.Status.INTERNAL,details:`Error writing message: ${(0,Ej.getErrorMessage)(s)}`,metadata:null});return}(a=this.callEventTracker)===null||a===void 0||a.addMessageSent(),t()})}sendStatus(e){var t,o;if(!this.checkCancelled())if(Oo("Request to method "+((t=this.handler)===null||t===void 0?void 0:t.path)+" ended with status code: "+bt.Status[e.code]+" details: "+e.details),this.metadataSent)this.wantTrailers?this.notifyOnCancel():(this.wantTrailers=!0,this.stream.once("wantTrailers",()=>{var s;this.callEventTracker&&!this.streamEnded&&(this.streamEnded=!0,this.callEventTracker.onStreamEnd(!0),this.callEventTracker.onCallEnd(e));let a=Object.assign({[Sj]:e.code,[Tj]:encodeURI(e.details)},(s=e.metadata)===null||s===void 0?void 0:s.toHttp2Headers());this.stream.sendTrailers(a),this.notifyOnCancel()}),this.stream.end());else{this.callEventTracker&&!this.streamEnded&&(this.streamEnded=!0,this.callEventTracker.onStreamEnd(!0),this.callEventTracker.onCallEnd(e));let s=Object.assign(Object.assign({[Sj]:e.code,[Tj]:encodeURI(e.details)},gj),(o=e.metadata)===null||o===void 0?void 0:o.toHttp2Headers());this.stream.respond(s,{endStream:!0}),this.notifyOnCancel()}}startRead(){Oo("Request to "+this.handler.path+" startRead called"),!this.checkCancelled()&&(this.isReadPending=!0,this.readQueue.length===0?this.receivedHalfClose||this.stream.resume():this.maybePushNextMessage())}getPeer(){var e;let t=(e=this.stream.session)===null||e===void 0?void 0:e.socket;return t!=null&&t.remoteAddress?t.remotePort?`${t.remoteAddress}:${t.remotePort}`:t.remoteAddress:"unknown"}getDeadline(){return this.deadline}getHost(){return this.host}};sr.BaseServerInterceptingCall=nE;function g_e(r,e,t,o,s,a){let i={path:s.path,requestStream:s.type==="clientStream"||s.type==="bidi",responseStream:s.type==="serverStream"||s.type==="bidi",requestDeserialize:s.deserialize,responseSerialize:s.serialize},n=new nE(e,t,o,s,a);return r.reduce((l,c)=>c(i,l),n)}});var bj=T(di=>{"use strict";var v_e=di&&di.__runInitializers||function(r,e,t){for(var o=arguments.length>2,s=0;s<e.length;s++)t=o?e[s].call(r,t):e[s].call(r);return o?t:void 0},y_e=di&&di.__esDecorate||function(r,e,t,o,s,a){function i(I){if(I!==void 0&&typeof I!="function")throw new TypeError("Function expected");return I}for(var n=o.kind,l=n==="getter"?"get":n==="setter"?"set":"value",c=!e&&r?o.static?r:r.prototype:null,u=e||(c?Object.getOwnPropertyDescriptor(c,o.name):{}),f,_=!1,m=t.length-1;m>=0;m--){var O={};for(var y in o)O[y]=y==="access"?{}:o[y];for(var y in o.access)O.access[y]=o.access[y];O.addInitializer=function(I){if(_)throw new TypeError("Cannot add initializers after decoration has completed");a.push(i(I||null))};var A=(0,t[m])(n==="accessor"?{get:u.get,set:u.set}:u[l],O);if(n==="accessor"){if(A===void 0)continue;if(A===null||typeof A!="object")throw new TypeError("Object expected");(f=i(A.get))&&(u.get=f),(f=i(A.set))&&(u.set=f),(f=i(A.init))&&s.unshift(f)}else(f=i(A))&&(n==="field"?s.unshift(f):u[l]=f)}c&&Object.defineProperty(c,o.name,u),_=!0};Object.defineProperty(di,"__esModule",{value:!0});di.Server=void 0;var Lt=V("http2"),O_e=V("util"),qe=ue(),Ca=_j(),aA=eE(),Aj=jr(),Na=Pe(),pi=rr(),Cr=Pt(),Qe=_o(),Rj=sA(),Ra=~(1<<31),lA=~(1<<31),A_e=2e4,Nj=~(1<<31),{HTTP2_HEADER_PATH:Cj}=Lt.constants,R_e="server",Pj=Buffer.from("max_age");function Ij(r){Na.trace(qe.LogVerbosity.DEBUG,"server_call",r)}function N_e(){}function C_e(r){return function(e,t){return O_e.deprecate(e,r)}}function cA(r){return{code:qe.Status.UNIMPLEMENTED,details:`The server does not implement the method ${r}`}}function P_e(r,e){let t=cA(e);switch(r){case"unary":return(o,s)=>{s(t,null)};case"clientStream":return(o,s)=>{s(t,null)};case"serverStream":return o=>{o.emit("error",t)};case"bidi":return o=>{o.emit("error",t)};default:throw new Error(`Invalid handlerType ${r}`)}}var I_e=(()=>{var r;let e=[],t;return r=class{constructor(s){var a,i,n,l,c,u;this.boundPorts=(v_e(this,e),new Map),this.http2Servers=new Map,this.sessionIdleTimeouts=new Map,this.handlers=new Map,this.sessions=new Map,this.started=!1,this.shutdown=!1,this.serverAddressString="null",this.channelzEnabled=!0,this.options=s??{},this.options["grpc.enable_channelz"]===0?(this.channelzEnabled=!1,this.channelzTrace=new Qe.ChannelzTraceStub,this.callTracker=new Qe.ChannelzCallTrackerStub,this.listenerChildrenTracker=new Qe.ChannelzChildrenTrackerStub,this.sessionChildrenTracker=new Qe.ChannelzChildrenTrackerStub):(this.channelzTrace=new Qe.ChannelzTrace,this.callTracker=new Qe.ChannelzCallTracker,this.listenerChildrenTracker=new Qe.ChannelzChildrenTracker,this.sessionChildrenTracker=new Qe.ChannelzChildrenTracker),this.channelzRef=(0,Qe.registerChannelzServer)("server",()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzTrace.addTrace("CT_INFO","Server created"),this.maxConnectionAgeMs=(a=this.options["grpc.max_connection_age_ms"])!==null&&a!==void 0?a:Ra,this.maxConnectionAgeGraceMs=(i=this.options["grpc.max_connection_age_grace_ms"])!==null&&i!==void 0?i:Ra,this.keepaliveTimeMs=(n=this.options["grpc.keepalive_time_ms"])!==null&&n!==void 0?n:lA,this.keepaliveTimeoutMs=(l=this.options["grpc.keepalive_timeout_ms"])!==null&&l!==void 0?l:A_e,this.sessionIdleTimeout=(c=this.options["grpc.max_connection_idle_ms"])!==null&&c!==void 0?c:Nj,this.commonServerOptions={maxSendHeaderBlockLength:Number.MAX_SAFE_INTEGER},"grpc-node.max_session_memory"in this.options?this.commonServerOptions.maxSessionMemory=this.options["grpc-node.max_session_memory"]:this.commonServerOptions.maxSessionMemory=Number.MAX_SAFE_INTEGER,"grpc.max_concurrent_streams"in this.options&&(this.commonServerOptions.settings={maxConcurrentStreams:this.options["grpc.max_concurrent_streams"]}),this.interceptors=(u=this.options.interceptors)!==null&&u!==void 0?u:[],this.trace("Server constructed")}getChannelzInfo(){return{trace:this.channelzTrace,callTracker:this.callTracker,listenerChildren:this.listenerChildrenTracker.getChildLists(),sessionChildren:this.sessionChildrenTracker.getChildLists()}}getChannelzSessionInfo(s){var a,i,n;let l=this.sessions.get(s),c=s.socket,u=c.remoteAddress?(0,pi.stringToSubchannelAddress)(c.remoteAddress,c.remotePort):null,f=c.localAddress?(0,pi.stringToSubchannelAddress)(c.localAddress,c.localPort):null,_;if(s.encrypted){let O=c,y=O.getCipher(),A=O.getCertificate(),I=O.getPeerCertificate();_={cipherSuiteStandardName:(a=y.standardName)!==null&&a!==void 0?a:null,cipherSuiteOtherName:y.standardName?null:y.name,localCertificate:A&&"raw"in A?A.raw:null,remoteCertificate:I&&"raw"in I?I.raw:null}}else _=null;return{remoteAddress:u,localAddress:f,security:_,remoteName:null,streamsStarted:l.streamTracker.callsStarted,streamsSucceeded:l.streamTracker.callsSucceeded,streamsFailed:l.streamTracker.callsFailed,messagesSent:l.messagesSent,messagesReceived:l.messagesReceived,keepAlivesSent:l.keepAlivesSent,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:l.streamTracker.lastCallStartedTimestamp,lastMessageSentTimestamp:l.lastMessageSentTimestamp,lastMessageReceivedTimestamp:l.lastMessageReceivedTimestamp,localFlowControlWindow:(i=s.state.localWindowSize)!==null&&i!==void 0?i:null,remoteFlowControlWindow:(n=s.state.remoteWindowSize)!==null&&n!==void 0?n:null}}trace(s){Na.trace(qe.LogVerbosity.DEBUG,R_e,"("+this.channelzRef.id+") "+s)}keepaliveTrace(s){Na.trace(qe.LogVerbosity.DEBUG,"keepalive","("+this.channelzRef.id+") "+s)}addProtoService(){throw new Error("Not implemented. Use addService() instead")}addService(s,a){if(s===null||typeof s!="object"||a===null||typeof a!="object")throw new Error("addService() requires two objects as arguments");let i=Object.keys(s);if(i.length===0)throw new Error("Cannot add an empty service to a server");i.forEach(n=>{let l=s[n],c;l.requestStream?l.responseStream?c="bidi":c="clientStream":l.responseStream?c="serverStream":c="unary";let u=a[n],f;if(u===void 0&&typeof l.originalName=="string"&&(u=a[l.originalName]),u!==void 0?f=u.bind(a):f=P_e(c,n),this.register(l.path,f,l.responseSerialize,l.requestDeserialize,c)===!1)throw new Error(`Method handler for ${l.path} already provided.`)})}removeService(s){if(s===null||typeof s!="object")throw new Error("removeService() requires object as argument");Object.keys(s).forEach(i=>{let n=s[i];this.unregister(n.path)})}bind(s,a){throw new Error("Not implemented. Use bindAsync() instead")}experimentalRegisterListenerToChannelz(s){return(0,Qe.registerChannelzSocket)((0,pi.subchannelAddressToString)(s),()=>({localAddress:s,remoteAddress:null,security:null,remoteName:null,streamsStarted:0,streamsSucceeded:0,streamsFailed:0,messagesSent:0,messagesReceived:0,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null,localFlowControlWindow:null,remoteFlowControlWindow:null}),this.channelzEnabled)}experimentalUnregisterListenerFromChannelz(s){(0,Qe.unregisterChannelzRef)(s)}createHttp2Server(s){let a;if(s._isSecure()){let i=s._getConstructorOptions(),n=s._getSecureContextOptions(),l=Object.assign(Object.assign(Object.assign(Object.assign({},this.commonServerOptions),i),n),{enableTrace:this.options["grpc-node.tls_enable_trace"]===1}),c=n!==null;this.trace("Initial credentials valid: "+c),a=Lt.createSecureServer(l),a.prependListener("connection",f=>{c||(this.trace("Dropped connection from "+JSON.stringify(f.address())+" due to unloaded credentials"),f.destroy())}),a.on("secureConnection",f=>{f.on("error",_=>{this.trace("An incoming TLS connection closed with error: "+_.message)})});let u=f=>{if(f){let _=a;try{_.setSecureContext(f)}catch(m){Na.log(qe.LogVerbosity.ERROR,"Failed to set secure context with error "+m.message),f=null}}c=f!==null,this.trace("Post-update credentials valid: "+c)};s._addWatcher(u),a.on("close",()=>{s._removeWatcher(u)})}else a=Lt.createServer(this.commonServerOptions);return a.setTimeout(0,N_e),this._setupHandlers(a,s._getInterceptors()),a}bindOneAddress(s,a){this.trace("Attempting to bind "+(0,pi.subchannelAddressToString)(s));let i=this.createHttp2Server(a.credentials);return new Promise((n,l)=>{let c=u=>{this.trace("Failed to bind "+(0,pi.subchannelAddressToString)(s)+" with error "+u.message),n({port:"port"in s?s.port:1,error:u.message})};i.once("error",c),i.listen(s,()=>{let u=i.address(),f;typeof u=="string"?f={path:u}:f={host:u.address,port:u.port};let _=this.experimentalRegisterListenerToChannelz(f);this.listenerChildrenTracker.refChild(_),this.http2Servers.set(i,{channelzRef:_,sessions:new Set,ownsChannelzRef:!0}),a.listeningServers.add(i),this.trace("Successfully bound "+(0,pi.subchannelAddressToString)(f)),n({port:"port"in f?f.port:1}),i.removeListener("error",c)})})}async bindManyPorts(s,a){if(s.length===0)return{count:0,port:0,errors:[]};if((0,pi.isTcpSubchannelAddress)(s[0])&&s[0].port===0){let i=await this.bindOneAddress(s[0],a);if(i.error){let n=await this.bindManyPorts(s.slice(1),a);return Object.assign(Object.assign({},n),{errors:[i.error,...n.errors]})}else{let n=s.slice(1).map(u=>(0,pi.isTcpSubchannelAddress)(u)?{host:u.host,port:i.port}:u),l=await Promise.all(n.map(u=>this.bindOneAddress(u,a))),c=[i,...l];return{count:c.filter(u=>u.error===void 0).length,port:i.port,errors:c.filter(u=>u.error).map(u=>u.error)}}}else{let i=await Promise.all(s.map(n=>this.bindOneAddress(n,a)));return{count:i.filter(n=>n.error===void 0).length,port:i[0].port,errors:i.filter(n=>n.error).map(n=>n.error)}}}async bindAddressList(s,a){let i=await this.bindManyPorts(s,a);if(i.count>0)return i.count<s.length&&Na.log(qe.LogVerbosity.INFO,`WARNING Only ${i.count} addresses added out of total ${s.length} resolved`),i.port;{let n=`No address added out of total ${s.length} resolved`;throw Na.log(qe.LogVerbosity.ERROR,n),new Error(`${n} errors: [${i.errors.join(",")}]`)}}resolvePort(s){return new Promise((a,i)=>{let n={onSuccessfulResolution:(c,u,f)=>{n.onSuccessfulResolution=()=>{};let _=[].concat(...c.map(m=>m.addresses));if(_.length===0){i(new Error(`No addresses resolved for port ${s}`));return}a(_)},onError:c=>{i(new Error(c.details))}};(0,Aj.createResolver)(s,n,this.options).updateResolution()})}async bindPort(s,a){let i=await this.resolvePort(s);if(a.cancelled)throw this.completeUnbind(a),new Error("bindAsync operation cancelled by unbind call");let n=await this.bindAddressList(i,a);if(a.cancelled)throw this.completeUnbind(a),new Error("bindAsync operation cancelled by unbind call");return n}normalizePort(s){let a=(0,Cr.parseUri)(s);if(a===null)throw new Error(`Could not parse port "${s}"`);let i=(0,Aj.mapUriDefaultScheme)(a);if(i===null)throw new Error(`Could not get a default scheme for port "${s}"`);return i}bindAsync(s,a,i){if(this.shutdown)throw new Error("bindAsync called after shutdown");if(typeof s!="string")throw new TypeError("port must be a string");if(a===null||!(a instanceof aA.ServerCredentials))throw new TypeError("creds must be a ServerCredentials object");if(typeof i!="function")throw new TypeError("callback must be a function");this.trace("bindAsync port="+s);let n=this.normalizePort(s),l=(_,m)=>{process.nextTick(()=>i(_,m))},c=this.boundPorts.get((0,Cr.uriToString)(n));if(c){if(!a._equals(c.credentials)){l(new Error(`${s} already bound with incompatible credentials`),0);return}c.cancelled=!1,c.completionPromise?c.completionPromise.then(_=>i(null,_),_=>i(_,0)):l(null,c.portNumber);return}c={mapKey:(0,Cr.uriToString)(n),originalUri:n,completionPromise:null,cancelled:!1,portNumber:0,credentials:a,listeningServers:new Set};let u=(0,Cr.splitHostPort)(n.path),f=this.bindPort(n,c);c.completionPromise=f,(u==null?void 0:u.port)===0?f.then(_=>{let m={scheme:n.scheme,authority:n.authority,path:(0,Cr.combineHostPort)({host:u.host,port:_})};c.mapKey=(0,Cr.uriToString)(m),c.completionPromise=null,c.portNumber=_,this.boundPorts.set(c.mapKey,c),i(null,_)},_=>{i(_,0)}):(this.boundPorts.set(c.mapKey,c),f.then(_=>{c.completionPromise=null,c.portNumber=_,i(null,_)},_=>{i(_,0)}))}registerInjectorToChannelz(){return(0,Qe.registerChannelzSocket)("injector",()=>({localAddress:null,remoteAddress:null,security:null,remoteName:null,streamsStarted:0,streamsSucceeded:0,streamsFailed:0,messagesSent:0,messagesReceived:0,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null,localFlowControlWindow:null,remoteFlowControlWindow:null}),this.channelzEnabled)}experimentalCreateConnectionInjectorWithChannelzRef(s,a,i=!1){if(s===null||!(s instanceof aA.ServerCredentials))throw new TypeError("creds must be a ServerCredentials object");this.channelzEnabled&&this.listenerChildrenTracker.refChild(a);let n=this.createHttp2Server(s),l=new Set;return this.http2Servers.set(n,{channelzRef:a,sessions:l,ownsChannelzRef:i}),{injectConnection:c=>{n.emit("connection",c)},drain:c=>{var u,f;for(let _ of l)this.closeSession(_);(f=(u=setTimeout(()=>{for(let _ of l)_.destroy(Lt.constants.NGHTTP2_CANCEL)},c)).unref)===null||f===void 0||f.call(u)},destroy:()=>{this.closeServer(n);for(let c of l)this.closeSession(c)}}}createConnectionInjector(s){if(s===null||!(s instanceof aA.ServerCredentials))throw new TypeError("creds must be a ServerCredentials object");let a=this.registerInjectorToChannelz();return this.experimentalCreateConnectionInjectorWithChannelzRef(s,a,!0)}closeServer(s,a){this.trace("Closing server with address "+JSON.stringify(s.address()));let i=this.http2Servers.get(s);s.close(()=>{i&&i.ownsChannelzRef&&(this.listenerChildrenTracker.unrefChild(i.channelzRef),(0,Qe.unregisterChannelzRef)(i.channelzRef)),this.http2Servers.delete(s),a==null||a()})}closeSession(s,a){var i;this.trace("Closing session initiated by "+((i=s.socket)===null||i===void 0?void 0:i.remoteAddress));let n=this.sessions.get(s),l=()=>{n&&(this.sessionChildrenTracker.unrefChild(n.ref),(0,Qe.unregisterChannelzRef)(n.ref)),a==null||a()};s.closed?queueMicrotask(l):s.close(l)}completeUnbind(s){for(let a of s.listeningServers){let i=this.http2Servers.get(a);if(this.closeServer(a,()=>{s.listeningServers.delete(a)}),i)for(let n of i.sessions)this.closeSession(n)}this.boundPorts.delete(s.mapKey)}unbind(s){this.trace("unbind port="+s);let a=this.normalizePort(s),i=(0,Cr.splitHostPort)(a.path);if((i==null?void 0:i.port)===0)throw new Error("Cannot unbind port 0");let n=this.boundPorts.get((0,Cr.uriToString)(a));n&&(this.trace("unbinding "+n.mapKey+" originally bound as "+(0,Cr.uriToString)(n.originalUri)),n.completionPromise?n.cancelled=!0:this.completeUnbind(n))}drain(s,a){var i,n;this.trace("drain port="+s+" graceTimeMs="+a);let l=this.normalizePort(s),c=(0,Cr.splitHostPort)(l.path);if((c==null?void 0:c.port)===0)throw new Error("Cannot drain port 0");let u=this.boundPorts.get((0,Cr.uriToString)(l));if(!u)return;let f=new Set;for(let _ of u.listeningServers){let m=this.http2Servers.get(_);if(m)for(let O of m.sessions)f.add(O),this.closeSession(O,()=>{f.delete(O)})}(n=(i=setTimeout(()=>{for(let _ of f)_.destroy(Lt.constants.NGHTTP2_CANCEL)},a)).unref)===null||n===void 0||n.call(i)}forceShutdown(){for(let s of this.boundPorts.values())s.cancelled=!0;this.boundPorts.clear();for(let s of this.http2Servers.keys())this.closeServer(s);this.sessions.forEach((s,a)=>{this.closeSession(a),a.destroy(Lt.constants.NGHTTP2_CANCEL)}),this.sessions.clear(),(0,Qe.unregisterChannelzRef)(this.channelzRef),this.shutdown=!0}register(s,a,i,n,l){return this.handlers.has(s)?!1:(this.handlers.set(s,{func:a,serialize:i,deserialize:n,type:l,path:s}),!0)}unregister(s){return this.handlers.delete(s)}start(){if(this.http2Servers.size===0||[...this.http2Servers.keys()].every(s=>!s.listening))throw new Error("server must be bound in order to start");if(this.started===!0)throw new Error("server is already started");this.started=!0}tryShutdown(s){var a;let i=c=>{(0,Qe.unregisterChannelzRef)(this.channelzRef),s(c)},n=0;function l(){n--,n===0&&i()}this.shutdown=!0;for(let[c,u]of this.http2Servers.entries()){n++;let f=u.channelzRef.name;this.trace("Waiting for server "+f+" to close"),this.closeServer(c,()=>{this.trace("Server "+f+" finished closing"),l()});for(let _ of u.sessions.keys()){n++;let m=(a=_.socket)===null||a===void 0?void 0:a.remoteAddress;this.trace("Waiting for session "+m+" to close"),this.closeSession(_,()=>{this.trace("Session "+m+" finished closing"),l()})}}n===0&&i()}addHttp2Port(){throw new Error("Not yet implemented")}getChannelzRef(){return this.channelzRef}_verifyContentType(s,a){let i=a[Lt.constants.HTTP2_HEADER_CONTENT_TYPE];return typeof i!="string"||!i.startsWith("application/grpc")?(s.respond({[Lt.constants.HTTP2_HEADER_STATUS]:Lt.constants.HTTP_STATUS_UNSUPPORTED_MEDIA_TYPE},{endStream:!0}),!1):!0}_retrieveHandler(s){Ij("Received call to method "+s+" at address "+this.serverAddressString);let a=this.handlers.get(s);return a===void 0?(Ij("No handler registered for method "+s+". Sending UNIMPLEMENTED status."),null):a}_respondWithError(s,a,i=null){var n,l;let c=Object.assign({"grpc-status":(n=s.code)!==null&&n!==void 0?n:qe.Status.INTERNAL,"grpc-message":s.details,[Lt.constants.HTTP2_HEADER_STATUS]:Lt.constants.HTTP_STATUS_OK,[Lt.constants.HTTP2_HEADER_CONTENT_TYPE]:"application/grpc+proto"},(l=s.metadata)===null||l===void 0?void 0:l.toHttp2Headers());a.respond(c,{endStream:!0}),this.callTracker.addCallFailed(),i==null||i.streamTracker.addCallFailed()}_channelzHandler(s,a,i){this.onStreamOpened(a);let n=this.sessions.get(a.session);if(this.callTracker.addCallStarted(),n==null||n.streamTracker.addCallStarted(),!this._verifyContentType(a,i)){this.callTracker.addCallFailed(),n==null||n.streamTracker.addCallFailed();return}let l=i[Cj],c=this._retrieveHandler(l);if(!c){this._respondWithError(cA(l),a,n);return}let u={addMessageSent:()=>{n&&(n.messagesSent+=1,n.lastMessageSentTimestamp=new Date)},addMessageReceived:()=>{n&&(n.messagesReceived+=1,n.lastMessageReceivedTimestamp=new Date)},onCallEnd:_=>{_.code===qe.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()},onStreamEnd:_=>{n&&(_?n.streamTracker.addCallSucceeded():n.streamTracker.addCallFailed())}},f=(0,Rj.getServerInterceptingCall)([...s,...this.interceptors],a,i,u,c,this.options);this._runHandlerForCall(f,c)||(this.callTracker.addCallFailed(),n==null||n.streamTracker.addCallFailed(),f.sendStatus({code:qe.Status.INTERNAL,details:`Unknown handler type: ${c.type}`}))}_streamHandler(s,a,i){if(this.onStreamOpened(a),this._verifyContentType(a,i)!==!0)return;let n=i[Cj],l=this._retrieveHandler(n);if(!l){this._respondWithError(cA(n),a,null);return}let c=(0,Rj.getServerInterceptingCall)([...s,...this.interceptors],a,i,null,l,this.options);this._runHandlerForCall(c,l)||c.sendStatus({code:qe.Status.INTERNAL,details:`Unknown handler type: ${l.type}`})}_runHandlerForCall(s,a){let{type:i}=a;if(i==="unary")b_e(s,a);else if(i==="clientStream")L_e(s,a);else if(i==="serverStream")x_e(s,a);else if(i==="bidi")M_e(s,a);else return!1;return!0}_setupHandlers(s,a){if(s===null)return;let i=s.address(),n="null";i&&(typeof i=="string"?n=i:n=i.address+":"+i.port),this.serverAddressString=n;let l=this.channelzEnabled?this._channelzHandler:this._streamHandler,c=this.channelzEnabled?this._channelzSessionHandler(s):this._sessionHandler(s);s.on("stream",l.bind(this,a)),s.on("session",c)}_sessionHandler(s){return a=>{var i,n;(i=this.http2Servers.get(s))===null||i===void 0||i.sessions.add(a);let l=null,c=null,u=null,f=!1,_=this.enableIdleTimeout(a);if(this.maxConnectionAgeMs!==Ra){let I=this.maxConnectionAgeMs/10,M=Math.random()*I*2-I;l=setTimeout(()=>{var F,N;f=!0,this.trace("Connection dropped by max connection age: "+((F=a.socket)===null||F===void 0?void 0:F.remoteAddress));try{a.goaway(Lt.constants.NGHTTP2_NO_ERROR,~(1<<31),Pj)}catch{a.destroy();return}a.close(),this.maxConnectionAgeGraceMs!==Ra&&(c=setTimeout(()=>{a.destroy()},this.maxConnectionAgeGraceMs),(N=c.unref)===null||N===void 0||N.call(c))},this.maxConnectionAgeMs+M),(n=l.unref)===null||n===void 0||n.call(l)}let m=()=>{u&&(clearTimeout(u),u=null)},O=()=>!a.destroyed&&this.keepaliveTimeMs<lA&&this.keepaliveTimeMs>0,y,A=()=>{var I;O()&&(this.keepaliveTrace("Starting keepalive timer for "+this.keepaliveTimeMs+"ms"),u=setTimeout(()=>{m(),y()},this.keepaliveTimeMs),(I=u.unref)===null||I===void 0||I.call(u))};y=()=>{var I;if(!O())return;this.keepaliveTrace("Sending ping with timeout "+this.keepaliveTimeoutMs+"ms");let M="";try{a.ping((N,K,B)=>{m(),N?(this.keepaliveTrace("Ping failed with error: "+N.message),f=!0,a.close()):(this.keepaliveTrace("Received ping response"),A())})||(M="Ping returned false")}catch(F){M=(F instanceof Error?F.message:"")||"Unknown error"}if(M){this.keepaliveTrace("Ping send failed: "+M),this.trace("Connection dropped due to ping send error: "+M),f=!0,a.close();return}u=setTimeout(()=>{m(),this.keepaliveTrace("Ping timeout passed without response"),this.trace("Connection dropped by keepalive timeout"),f=!0,a.close()},this.keepaliveTimeoutMs),(I=u.unref)===null||I===void 0||I.call(u)},A(),a.on("close",()=>{var I,M;f||this.trace(`Connection dropped by client ${(I=a.socket)===null||I===void 0?void 0:I.remoteAddress}`),l&&clearTimeout(l),c&&clearTimeout(c),m(),_!==null&&(clearTimeout(_.timeout),this.sessionIdleTimeouts.delete(a)),(M=this.http2Servers.get(s))===null||M===void 0||M.sessions.delete(a)})}}_channelzSessionHandler(s){return a=>{var i,n,l,c;let u=(0,Qe.registerChannelzSocket)((n=(i=a.socket)===null||i===void 0?void 0:i.remoteAddress)!==null&&n!==void 0?n:"unknown",this.getChannelzSessionInfo.bind(this,a),this.channelzEnabled),f={ref:u,streamTracker:new Qe.ChannelzCallTracker,messagesSent:0,messagesReceived:0,keepAlivesSent:0,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null};(l=this.http2Servers.get(s))===null||l===void 0||l.sessions.add(a),this.sessions.set(a,f);let _=`${a.socket.remoteAddress}:${a.socket.remotePort}`;this.channelzTrace.addTrace("CT_INFO","Connection established by client "+_),this.trace("Connection established by client "+_),this.sessionChildrenTracker.refChild(u);let m=null,O=null,y=null,A=!1,I=this.enableIdleTimeout(a);if(this.maxConnectionAgeMs!==Ra){let B=this.maxConnectionAgeMs/10,G=Math.random()*B*2-B;m=setTimeout(()=>{var te;A=!0,this.channelzTrace.addTrace("CT_INFO","Connection dropped by max connection age from "+_);try{a.goaway(Lt.constants.NGHTTP2_NO_ERROR,~(1<<31),Pj)}catch{a.destroy();return}a.close(),this.maxConnectionAgeGraceMs!==Ra&&(O=setTimeout(()=>{a.destroy()},this.maxConnectionAgeGraceMs),(te=O.unref)===null||te===void 0||te.call(O))},this.maxConnectionAgeMs+G),(c=m.unref)===null||c===void 0||c.call(m)}let M=()=>{y&&(clearTimeout(y),y=null)},F=()=>!a.destroyed&&this.keepaliveTimeMs<lA&&this.keepaliveTimeMs>0,N,K=()=>{var B;F()&&(this.keepaliveTrace("Starting keepalive timer for "+this.keepaliveTimeMs+"ms"),y=setTimeout(()=>{M(),N()},this.keepaliveTimeMs),(B=y.unref)===null||B===void 0||B.call(y))};N=()=>{var B;if(!F())return;this.keepaliveTrace("Sending ping with timeout "+this.keepaliveTimeoutMs+"ms");let G="";try{a.ping(($,le,v)=>{M(),$?(this.keepaliveTrace("Ping failed with error: "+$.message),this.channelzTrace.addTrace("CT_INFO","Connection dropped due to error of a ping frame "+$.message+" return in "+le),A=!0,a.close()):(this.keepaliveTrace("Received ping response"),K())})||(G="Ping returned false")}catch(te){G=(te instanceof Error?te.message:"")||"Unknown error"}if(G){this.keepaliveTrace("Ping send failed: "+G),this.channelzTrace.addTrace("CT_INFO","Connection dropped due to ping send error: "+G),A=!0,a.close();return}f.keepAlivesSent+=1,y=setTimeout(()=>{M(),this.keepaliveTrace("Ping timeout passed without response"),this.channelzTrace.addTrace("CT_INFO","Connection dropped by keepalive timeout from "+_),A=!0,a.close()},this.keepaliveTimeoutMs),(B=y.unref)===null||B===void 0||B.call(y)},K(),a.on("close",()=>{var B;A||this.channelzTrace.addTrace("CT_INFO","Connection dropped by client "+_),this.sessionChildrenTracker.unrefChild(u),(0,Qe.unregisterChannelzRef)(u),m&&clearTimeout(m),O&&clearTimeout(O),M(),I!==null&&(clearTimeout(I.timeout),this.sessionIdleTimeouts.delete(a)),(B=this.http2Servers.get(s))===null||B===void 0||B.sessions.delete(a),this.sessions.delete(a)})}}enableIdleTimeout(s){var a,i;if(this.sessionIdleTimeout>=Nj)return null;let n={activeStreams:0,lastIdle:Date.now(),onClose:this.onStreamClose.bind(this,s),timeout:setTimeout(this.onIdleTimeout,this.sessionIdleTimeout,this,s)};(i=(a=n.timeout).unref)===null||i===void 0||i.call(a),this.sessionIdleTimeouts.set(s,n);let{socket:l}=s;return this.trace("Enable idle timeout for "+l.remoteAddress+":"+l.remotePort),n}onIdleTimeout(s,a){let{socket:i}=a,n=s.sessionIdleTimeouts.get(a);n!==void 0&&n.activeStreams===0&&(Date.now()-n.lastIdle>=s.sessionIdleTimeout?(s.trace("Session idle timeout triggered for "+(i==null?void 0:i.remoteAddress)+":"+(i==null?void 0:i.remotePort)+" last idle at "+n.lastIdle),s.closeSession(a)):n.timeout.refresh())}onStreamOpened(s){let a=s.session,i=this.sessionIdleTimeouts.get(a);i&&(i.activeStreams+=1,s.once("close",i.onClose))}onStreamClose(s){var a,i;let n=this.sessionIdleTimeouts.get(s);n&&(n.activeStreams-=1,n.activeStreams===0&&(n.lastIdle=Date.now(),n.timeout.refresh(),this.trace("Session onStreamClose"+((a=s.socket)===null||a===void 0?void 0:a.remoteAddress)+":"+((i=s.socket)===null||i===void 0?void 0:i.remotePort)+" at "+n.lastIdle)))}},(()=>{let o=typeof Symbol=="function"&&Symbol.metadata?Object.create(null):void 0;t=[C_e("Calling start() is no longer necessary. It can be safely omitted.")],y_e(r,null,t,{kind:"method",name:"start",static:!1,private:!1,access:{has:s=>"start"in s,get:s=>s.start},metadata:o},null,e),o&&Object.defineProperty(r,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o})})(),r})();di.Server=I_e;async function b_e(r,e){let t;function o(i,n,l,c){if(i){r.sendStatus((0,Ca.serverErrorToStatus)(i,l));return}r.sendMessage(n,()=>{r.sendStatus({code:qe.Status.OK,details:"OK",metadata:l??null})})}let s,a=null;r.start({onReceiveMetadata(i){s=i,r.startRead()},onReceiveMessage(i){if(a){r.sendStatus({code:qe.Status.UNIMPLEMENTED,details:`Received a second request message for server streaming method ${e.path}`,metadata:null});return}a=i,r.startRead()},onReceiveHalfClose(){if(!a){r.sendStatus({code:qe.Status.UNIMPLEMENTED,details:`Received no request message for server streaming method ${e.path}`,metadata:null});return}t=new Ca.ServerWritableStreamImpl(e.path,r,s,a);try{e.func(t,o)}catch(i){r.sendStatus({code:qe.Status.UNKNOWN,details:`Server method handler threw error ${i.message}`,metadata:null})}},onCancel(){t&&(t.cancelled=!0,t.emit("cancelled","cancelled"))}})}function L_e(r,e){let t;function o(s,a,i,n){if(s){r.sendStatus((0,Ca.serverErrorToStatus)(s,i));return}r.sendMessage(a,()=>{r.sendStatus({code:qe.Status.OK,details:"OK",metadata:i??null})})}r.start({onReceiveMetadata(s){t=new Ca.ServerDuplexStreamImpl(e.path,r,s);try{e.func(t,o)}catch(a){r.sendStatus({code:qe.Status.UNKNOWN,details:`Server method handler threw error ${a.message}`,metadata:null})}},onReceiveMessage(s){t.push(s)},onReceiveHalfClose(){t.push(null)},onCancel(){t&&(t.cancelled=!0,t.emit("cancelled","cancelled"),t.destroy())}})}function x_e(r,e){let t,o,s=null;r.start({onReceiveMetadata(a){o=a,r.startRead()},onReceiveMessage(a){if(s){r.sendStatus({code:qe.Status.UNIMPLEMENTED,details:`Received a second request message for server streaming method ${e.path}`,metadata:null});return}s=a,r.startRead()},onReceiveHalfClose(){if(!s){r.sendStatus({code:qe.Status.UNIMPLEMENTED,details:`Received no request message for server streaming method ${e.path}`,metadata:null});return}t=new Ca.ServerWritableStreamImpl(e.path,r,o,s);try{e.func(t)}catch(a){r.sendStatus({code:qe.Status.UNKNOWN,details:`Server method handler threw error ${a.message}`,metadata:null})}},onCancel(){t&&(t.cancelled=!0,t.emit("cancelled","cancelled"),t.destroy())}})}function M_e(r,e){let t;r.start({onReceiveMetadata(o){t=new Ca.ServerDuplexStreamImpl(e.path,r,o);try{e.func(t)}catch(s){r.sendStatus({code:qe.Status.UNKNOWN,details:`Server method handler threw error ${s.message}`,metadata:null})}},onReceiveMessage(o){t.push(o)},onReceiveHalfClose(){t.push(null)},onCancel(){t&&(t.cancelled=!0,t.emit("cancelled","cancelled"),t.destroy())}})}});var Lj=T(iE=>{"use strict";Object.defineProperty(iE,"__esModule",{value:!0});iE.StatusBuilder=void 0;var uA=class{constructor(){this.code=null,this.details=null,this.metadata=null}withCode(e){return this.code=e,this}withDetails(e){return this.details=e,this}withMetadata(e){return this.metadata=e,this}build(){let e={};return this.code!==null&&(e.code=this.code),this.details!==null&&(e.details=this.details),this.metadata!==null&&(e.metadata=this.metadata),e}};iE.StatusBuilder=uA});var fA=T(Pa=>{"use strict";Object.defineProperty(Pa,"__esModule",{value:!0});Pa.msToDuration=w_e;Pa.durationToMs=D_e;Pa.isDuration=U_e;Pa.parseDuration=B_e;function w_e(r){return{seconds:r/1e3|0,nanos:r%1e3*1e6|0}}function D_e(r){return r.seconds*1e3+r.nanos/1e6|0}function U_e(r){return typeof r.seconds=="number"&&typeof r.nanos=="number"}var k_e=/^(\d+)(?:\.(\d+))?s$/;function B_e(r){let e=r.match(k_e);return e?{seconds:Number.parseInt(e[1],10),nanos:e[2]?Number.parseInt(e[2].padEnd(9,"0"),10):0}:null}});var oE=T(on=>{"use strict";Object.defineProperty(on,"__esModule",{value:!0});on.LeafLoadBalancer=on.PickFirstLoadBalancer=on.PickFirstLoadBalancingConfig=void 0;on.shuffled=Dj;on.setup=Y_e;var pA=so(),$e=tr(),Ao=ti(),xj=rr(),V_e=Pe(),F_e=ue(),Mj=rr(),wj=V("net"),G_e="pick_first";function iu(r){V_e.trace(F_e.LogVerbosity.DEBUG,G_e,r)}var ou="pick_first",H_e=250,Ia=class r{constructor(e){this.shuffleAddressList=e}getLoadBalancerName(){return ou}toJsonObject(){return{[ou]:{shuffleAddressList:this.shuffleAddressList}}}getShuffleAddressList(){return this.shuffleAddressList}static createFromJson(e){if("shuffleAddressList"in e&&typeof e.shuffleAddressList!="boolean")throw new Error("pick_first config field shuffleAddressList must be a boolean if provided");return new r(e.shuffleAddressList===!0)}};on.PickFirstLoadBalancingConfig=Ia;var dA=class{constructor(e){this.subchannel=e}pick(e){return{pickResultType:Ao.PickResultType.COMPLETE,subchannel:this.subchannel,status:null,onCallStarted:null,onCallEnded:null}}};function Dj(r){let e=r.slice();for(let t=e.length-1;t>1;t--){let o=Math.floor(Math.random()*(t+1)),s=e[t];e[t]=e[o],e[o]=s}return e}function q_e(r){if(r.length===0)return[];let e=[],t=[],o=[],s=(0,Mj.isTcpSubchannelAddress)(r[0])&&(0,wj.isIPv6)(r[0].host);for(let n of r)(0,Mj.isTcpSubchannelAddress)(n)&&(0,wj.isIPv6)(n.host)?t.push(n):o.push(n);let a=s?t:o,i=s?o:t;for(let n=0;n<Math.max(a.length,i.length);n++)n<a.length&&e.push(a[n]),n<i.length&&e.push(i[n]);return e}var Uj="grpc-node.internal.pick-first.report_health_status",su=class{constructor(e){this.channelControlHelper=e,this.children=[],this.currentState=$e.ConnectivityState.IDLE,this.currentSubchannelIndex=0,this.currentPick=null,this.subchannelStateListener=(t,o,s,a,i)=>{this.onSubchannelStateUpdate(t,o,s,i)},this.pickedSubchannelHealthListener=()=>this.calculateAndReportNewState(),this.stickyTransientFailureMode=!1,this.reportHealthStatus=!1,this.lastError=null,this.latestAddressList=null,this.latestOptions={},this.connectionDelayTimeout=setTimeout(()=>{},0),clearTimeout(this.connectionDelayTimeout)}allChildrenHaveReportedTF(){return this.children.every(e=>e.hasReportedTransientFailure)}resetChildrenReportedTF(){this.children.every(e=>e.hasReportedTransientFailure=!1)}calculateAndReportNewState(){var e;if(this.currentPick)if(this.reportHealthStatus&&!this.currentPick.isHealthy()){let t=`Picked subchannel ${this.currentPick.getAddress()} is unhealthy`;this.updateState($e.ConnectivityState.TRANSIENT_FAILURE,new Ao.UnavailablePicker({details:t}),t)}else this.updateState($e.ConnectivityState.READY,new dA(this.currentPick),null);else if(((e=this.latestAddressList)===null||e===void 0?void 0:e.length)===0){let t=`No connection established. Last error: ${this.lastError}`;this.updateState($e.ConnectivityState.TRANSIENT_FAILURE,new Ao.UnavailablePicker({details:t}),t)}else if(this.children.length===0)this.updateState($e.ConnectivityState.IDLE,new Ao.QueuePicker(this),null);else if(this.stickyTransientFailureMode){let t=`No connection established. Last error: ${this.lastError}`;this.updateState($e.ConnectivityState.TRANSIENT_FAILURE,new Ao.UnavailablePicker({details:t}),t)}else this.updateState($e.ConnectivityState.CONNECTING,new Ao.QueuePicker(this),null)}requestReresolution(){this.channelControlHelper.requestReresolution()}maybeEnterStickyTransientFailureMode(){if(this.allChildrenHaveReportedTF()){if(this.requestReresolution(),this.resetChildrenReportedTF(),this.stickyTransientFailureMode){this.calculateAndReportNewState();return}this.stickyTransientFailureMode=!0;for(let{subchannel:e}of this.children)e.startConnecting();this.calculateAndReportNewState()}}removeCurrentPick(){this.currentPick!==null&&(this.currentPick.removeConnectivityStateListener(this.subchannelStateListener),this.channelControlHelper.removeChannelzChild(this.currentPick.getChannelzRef()),this.currentPick.removeHealthStateWatcher(this.pickedSubchannelHealthListener),this.currentPick.unref(),this.currentPick=null)}onSubchannelStateUpdate(e,t,o,s){var a;if(!((a=this.currentPick)===null||a===void 0)&&a.realSubchannelEquals(e)){o!==$e.ConnectivityState.READY&&(this.removeCurrentPick(),this.calculateAndReportNewState());return}for(let[i,n]of this.children.entries())if(e.realSubchannelEquals(n.subchannel)){o===$e.ConnectivityState.READY&&this.pickSubchannel(n.subchannel),o===$e.ConnectivityState.TRANSIENT_FAILURE&&(n.hasReportedTransientFailure=!0,s&&(this.lastError=s),this.maybeEnterStickyTransientFailureMode(),i===this.currentSubchannelIndex&&this.startNextSubchannelConnecting(i+1)),n.subchannel.startConnecting();return}}startNextSubchannelConnecting(e){clearTimeout(this.connectionDelayTimeout);for(let[t,o]of this.children.entries())if(t>=e){let s=o.subchannel.getConnectivityState();if(s===$e.ConnectivityState.IDLE||s===$e.ConnectivityState.CONNECTING){this.startConnecting(t);return}}this.maybeEnterStickyTransientFailureMode()}startConnecting(e){var t,o;clearTimeout(this.connectionDelayTimeout),this.currentSubchannelIndex=e,this.children[e].subchannel.getConnectivityState()===$e.ConnectivityState.IDLE&&(iu("Start connecting to subchannel with address "+this.children[e].subchannel.getAddress()),process.nextTick(()=>{var s;(s=this.children[e])===null||s===void 0||s.subchannel.startConnecting()})),this.connectionDelayTimeout=setTimeout(()=>{this.startNextSubchannelConnecting(e+1)},H_e),(o=(t=this.connectionDelayTimeout).unref)===null||o===void 0||o.call(t)}pickSubchannel(e){iu("Pick subchannel with address "+e.getAddress()),this.stickyTransientFailureMode=!1,e.ref(),this.channelControlHelper.addChannelzChild(e.getChannelzRef()),this.removeCurrentPick(),this.resetSubchannelList(),e.addConnectivityStateListener(this.subchannelStateListener),e.addHealthStateWatcher(this.pickedSubchannelHealthListener),this.currentPick=e,clearTimeout(this.connectionDelayTimeout),this.calculateAndReportNewState()}updateState(e,t,o){iu($e.ConnectivityState[this.currentState]+" -> "+$e.ConnectivityState[e]),this.currentState=e,this.channelControlHelper.updateState(e,t,o)}resetSubchannelList(){for(let e of this.children)e.subchannel.removeConnectivityStateListener(this.subchannelStateListener),e.subchannel.unref(),this.channelControlHelper.removeChannelzChild(e.subchannel.getChannelzRef());this.currentSubchannelIndex=0,this.children=[]}connectToAddressList(e,t){iu("connectToAddressList(["+e.map(s=>(0,xj.subchannelAddressToString)(s))+"])");let o=e.map(s=>({subchannel:this.channelControlHelper.createSubchannel(s,t),hasReportedTransientFailure:!1}));for(let{subchannel:s}of o)if(s.getConnectivityState()===$e.ConnectivityState.READY){this.pickSubchannel(s);return}for(let{subchannel:s}of o)s.ref(),this.channelControlHelper.addChannelzChild(s.getChannelzRef());this.resetSubchannelList(),this.children=o;for(let{subchannel:s}of this.children)s.addConnectivityStateListener(this.subchannelStateListener);for(let s of this.children)s.subchannel.getConnectivityState()===$e.ConnectivityState.TRANSIENT_FAILURE&&(s.hasReportedTransientFailure=!0);this.startNextSubchannelConnecting(0),this.calculateAndReportNewState()}updateAddressList(e,t,o){if(!(t instanceof Ia))return;this.reportHealthStatus=o[Uj],t.getShuffleAddressList()&&(e=Dj(e));let s=[].concat(...e.map(i=>i.addresses));iu("updateAddressList(["+s.map(i=>(0,xj.subchannelAddressToString)(i))+"])"),s.length===0&&(this.lastError="No addresses resolved");let a=q_e(s);this.latestAddressList=a,this.latestOptions=o,this.connectToAddressList(a,o)}exitIdle(){this.currentState===$e.ConnectivityState.IDLE&&this.latestAddressList&&this.connectToAddressList(this.latestAddressList,this.latestOptions)}resetBackoff(){}destroy(){this.resetSubchannelList(),this.removeCurrentPick()}getTypeName(){return ou}};on.PickFirstLoadBalancer=su;var j_e=new Ia(!1),hA=class{constructor(e,t,o){this.endpoint=e,this.options=o,this.latestState=$e.ConnectivityState.IDLE;let s=(0,pA.createChildChannelControlHelper)(t,{updateState:(a,i,n)=>{this.latestState=a,this.latestPicker=i,t.updateState(a,i,n)}});this.pickFirstBalancer=new su(s),this.latestPicker=new Ao.QueuePicker(this.pickFirstBalancer)}startConnecting(){this.pickFirstBalancer.updateAddressList([this.endpoint],j_e,Object.assign(Object.assign({},this.options),{[Uj]:!0}))}updateEndpoint(e,t){this.options=t,this.endpoint=e,this.latestState!==$e.ConnectivityState.IDLE&&this.startConnecting()}getConnectivityState(){return this.latestState}getPicker(){return this.latestPicker}getEndpoint(){return this.endpoint}exitIdle(){this.pickFirstBalancer.exitIdle()}destroy(){this.pickFirstBalancer.destroy()}};on.LeafLoadBalancer=hA;function Y_e(){(0,pA.registerLoadBalancerType)(ou,su,Ia),(0,pA.registerDefaultLoadBalancerType)(ou)}});var kj=T(aE=>{"use strict";Object.defineProperty(aE,"__esModule",{value:!0});aE.FileWatcherCertificateProvider=void 0;var K_e=V("fs"),z_e=Pe(),$_e=ue(),X_e=V("util"),W_e="certificate_provider";function sE(r){z_e.trace($_e.LogVerbosity.DEBUG,W_e,r)}var _A=(0,X_e.promisify)(K_e.readFile),EA=class{constructor(e){if(this.config=e,this.refreshTimer=null,this.fileResultPromise=null,this.latestCaUpdate=void 0,this.caListeners=new Set,this.latestIdentityUpdate=void 0,this.identityListeners=new Set,this.lastUpdateTime=null,e.certificateFile===void 0!=(e.privateKeyFile===void 0))throw new Error("certificateFile and privateKeyFile must be set or unset together");if(e.certificateFile===void 0&&e.caCertificateFile===void 0)throw new Error("At least one of certificateFile and caCertificateFile must be set");sE("File watcher constructed with config "+JSON.stringify(e))}updateCertificates(){this.fileResultPromise||(this.fileResultPromise=Promise.allSettled([this.config.certificateFile?_A(this.config.certificateFile):Promise.reject(),this.config.privateKeyFile?_A(this.config.privateKeyFile):Promise.reject(),this.config.caCertificateFile?_A(this.config.caCertificateFile):Promise.reject()]),this.fileResultPromise.then(([e,t,o])=>{if(this.refreshTimer){sE("File watcher read certificates certificate "+e.status+", privateKey "+t.status+", CA certificate "+o.status),this.lastUpdateTime=new Date,this.fileResultPromise=null,e.status==="fulfilled"&&t.status==="fulfilled"?this.latestIdentityUpdate={certificate:e.value,privateKey:t.value}:this.latestIdentityUpdate=null,o.status==="fulfilled"?this.latestCaUpdate={caCertificate:o.value}:this.latestCaUpdate=null;for(let s of this.identityListeners)s(this.latestIdentityUpdate);for(let s of this.caListeners)s(this.latestCaUpdate)}}),sE("File watcher initiated certificate update"))}maybeStartWatchingFiles(){if(!this.refreshTimer){let e=this.lastUpdateTime?new Date().getTime()-this.lastUpdateTime.getTime():1/0;e>this.config.refreshIntervalMs&&this.updateCertificates(),e>this.config.refreshIntervalMs*2&&(this.latestCaUpdate=void 0,this.latestIdentityUpdate=void 0),this.refreshTimer=setInterval(()=>this.updateCertificates(),this.config.refreshIntervalMs),sE("File watcher started watching")}}maybeStopWatchingFiles(){this.caListeners.size===0&&this.identityListeners.size===0&&(this.fileResultPromise=null,this.refreshTimer&&(clearInterval(this.refreshTimer),this.refreshTimer=null))}addCaCertificateListener(e){this.caListeners.add(e),this.maybeStartWatchingFiles(),this.latestCaUpdate!==void 0&&process.nextTick(e,this.latestCaUpdate)}removeCaCertificateListener(e){this.caListeners.delete(e),this.maybeStopWatchingFiles()}addIdentityCertificateListener(e){this.identityListeners.add(e),this.maybeStartWatchingFiles(),this.latestIdentityUpdate!==void 0&&process.nextTick(e,this.latestIdentityUpdate)}removeIdentityCertificateListener(e){this.identityListeners.delete(e),this.maybeStopWatchingFiles()}};aE.FileWatcherCertificateProvider=EA});var TA=T(k=>{"use strict";Object.defineProperty(k,"__esModule",{value:!0});k.SUBCHANNEL_ARGS_EXCLUDE_KEY_PREFIX=k.createCertificateProviderChannelCredentials=k.FileWatcherCertificateProvider=k.createCertificateProviderServerCredentials=k.createServerCredentialsWithInterceptors=k.BaseSubchannelWrapper=k.registerAdminService=k.FilterStackFactory=k.BaseFilter=k.PickResultType=k.QueuePicker=k.UnavailablePicker=k.ChildLoadBalancerHandler=k.EndpointMap=k.endpointHasAddress=k.endpointToString=k.subchannelAddressToString=k.LeafLoadBalancer=k.isLoadBalancerNameRegistered=k.parseLoadBalancingConfig=k.selectLbConfigFromList=k.registerLoadBalancerType=k.createChildChannelControlHelper=k.BackoffTimeout=k.parseDuration=k.durationToMs=k.splitHostPort=k.uriToString=k.createResolver=k.registerResolver=k.log=k.trace=void 0;var Bj=Pe();Object.defineProperty(k,"trace",{enumerable:!0,get:function(){return Bj.trace}});Object.defineProperty(k,"log",{enumerable:!0,get:function(){return Bj.log}});var Vj=jr();Object.defineProperty(k,"registerResolver",{enumerable:!0,get:function(){return Vj.registerResolver}});Object.defineProperty(k,"createResolver",{enumerable:!0,get:function(){return Vj.createResolver}});var Fj=Pt();Object.defineProperty(k,"uriToString",{enumerable:!0,get:function(){return Fj.uriToString}});Object.defineProperty(k,"splitHostPort",{enumerable:!0,get:function(){return Fj.splitHostPort}});var Gj=fA();Object.defineProperty(k,"durationToMs",{enumerable:!0,get:function(){return Gj.durationToMs}});Object.defineProperty(k,"parseDuration",{enumerable:!0,get:function(){return Gj.parseDuration}});var J_e=Ac();Object.defineProperty(k,"BackoffTimeout",{enumerable:!0,get:function(){return J_e.BackoffTimeout}});var au=so();Object.defineProperty(k,"createChildChannelControlHelper",{enumerable:!0,get:function(){return au.createChildChannelControlHelper}});Object.defineProperty(k,"registerLoadBalancerType",{enumerable:!0,get:function(){return au.registerLoadBalancerType}});Object.defineProperty(k,"selectLbConfigFromList",{enumerable:!0,get:function(){return au.selectLbConfigFromList}});Object.defineProperty(k,"parseLoadBalancingConfig",{enumerable:!0,get:function(){return au.parseLoadBalancingConfig}});Object.defineProperty(k,"isLoadBalancerNameRegistered",{enumerable:!0,get:function(){return au.isLoadBalancerNameRegistered}});var Q_e=oE();Object.defineProperty(k,"LeafLoadBalancer",{enumerable:!0,get:function(){return Q_e.LeafLoadBalancer}});var lE=rr();Object.defineProperty(k,"subchannelAddressToString",{enumerable:!0,get:function(){return lE.subchannelAddressToString}});Object.defineProperty(k,"endpointToString",{enumerable:!0,get:function(){return lE.endpointToString}});Object.defineProperty(k,"endpointHasAddress",{enumerable:!0,get:function(){return lE.endpointHasAddress}});Object.defineProperty(k,"EndpointMap",{enumerable:!0,get:function(){return lE.EndpointMap}});var Z_e=jh();Object.defineProperty(k,"ChildLoadBalancerHandler",{enumerable:!0,get:function(){return Z_e.ChildLoadBalancerHandler}});var mA=ti();Object.defineProperty(k,"UnavailablePicker",{enumerable:!0,get:function(){return mA.UnavailablePicker}});Object.defineProperty(k,"QueuePicker",{enumerable:!0,get:function(){return mA.QueuePicker}});Object.defineProperty(k,"PickResultType",{enumerable:!0,get:function(){return mA.PickResultType}});var eEe=TO();Object.defineProperty(k,"BaseFilter",{enumerable:!0,get:function(){return eEe.BaseFilter}});var tEe=_O();Object.defineProperty(k,"FilterStackFactory",{enumerable:!0,get:function(){return tEe.FilterStackFactory}});var rEe=$h();Object.defineProperty(k,"registerAdminService",{enumerable:!0,get:function(){return rEe.registerAdminService}});var nEe=X_();Object.defineProperty(k,"BaseSubchannelWrapper",{enumerable:!0,get:function(){return nEe.BaseSubchannelWrapper}});var Hj=eE();Object.defineProperty(k,"createServerCredentialsWithInterceptors",{enumerable:!0,get:function(){return Hj.createServerCredentialsWithInterceptors}});Object.defineProperty(k,"createCertificateProviderServerCredentials",{enumerable:!0,get:function(){return Hj.createCertificateProviderServerCredentials}});var iEe=kj();Object.defineProperty(k,"FileWatcherCertificateProvider",{enumerable:!0,get:function(){return iEe.FileWatcherCertificateProvider}});var oEe=vc();Object.defineProperty(k,"createCertificateProviderChannelCredentials",{enumerable:!0,get:function(){return oEe.createCertificateProviderChannelCredentials}});var sEe=VO();Object.defineProperty(k,"SUBCHANNEL_ARGS_EXCLUDE_KEY_PREFIX",{enumerable:!0,get:function(){return sEe.SUBCHANNEL_ARGS_EXCLUDE_KEY_PREFIX}})});var qj=T(gA=>{"use strict";Object.defineProperty(gA,"__esModule",{value:!0});gA.setup=lEe;var aEe=jr(),SA=class{constructor(e,t,o){this.listener=t,this.hasReturnedResult=!1,this.endpoints=[];let s;e.authority===""?s="/"+e.path:s=e.path,this.endpoints=[{addresses:[{path:s}]}]}updateResolution(){this.hasReturnedResult||(this.hasReturnedResult=!0,process.nextTick(this.listener.onSuccessfulResolution,this.endpoints,null,null,null,{}))}destroy(){this.hasReturnedResult=!1}static getDefaultAuthority(e){return"localhost"}};function lEe(){(0,aEe.registerResolver)("unix",SA)}});var $j=T(AA=>{"use strict";Object.defineProperty(AA,"__esModule",{value:!0});AA.setup=pEe;var jj=V("net"),cE=ue(),vA=ht(),Yj=jr(),Kj=Pt(),cEe=Pe(),uEe="ip_resolver";function zj(r){cEe.trace(cE.LogVerbosity.DEBUG,uEe,r)}var yA="ipv4",OA="ipv6",fEe=443,uE=class{constructor(e,t,o){var s;this.listener=t,this.endpoints=[],this.error=null,this.hasReturnedResult=!1,zj("Resolver constructed for target "+(0,Kj.uriToString)(e));let a=[];if(!(e.scheme===yA||e.scheme===OA)){this.error={code:cE.Status.UNAVAILABLE,details:`Unrecognized scheme ${e.scheme} in IP resolver`,metadata:new vA.Metadata};return}let i=e.path.split(",");for(let n of i){let l=(0,Kj.splitHostPort)(n);if(l===null){this.error={code:cE.Status.UNAVAILABLE,details:`Failed to parse ${e.scheme} address ${n}`,metadata:new vA.Metadata};return}if(e.scheme===yA&&!(0,jj.isIPv4)(l.host)||e.scheme===OA&&!(0,jj.isIPv6)(l.host)){this.error={code:cE.Status.UNAVAILABLE,details:`Failed to parse ${e.scheme} address ${n}`,metadata:new vA.Metadata};return}a.push({host:l.host,port:(s=l.port)!==null&&s!==void 0?s:fEe})}this.endpoints=a.map(n=>({addresses:[n]})),zj("Parsed "+e.scheme+" address list "+a)}updateResolution(){this.hasReturnedResult||(this.hasReturnedResult=!0,process.nextTick(()=>{this.error?this.listener.onError(this.error):this.listener.onSuccessfulResolution(this.endpoints,null,null,null,{})}))}destroy(){this.hasReturnedResult=!1}static getDefaultAuthority(e){return e.path.split(",")[0]}};function pEe(){(0,Yj.registerResolver)(yA,uE),(0,Yj.registerResolver)(OA,uE)}});var Qj=T(lu=>{"use strict";Object.defineProperty(lu,"__esModule",{value:!0});lu.RoundRobinLoadBalancer=void 0;lu.setup=mEe;var Jj=so(),yt=tr(),RA=ti(),dEe=Pe(),hEe=ue(),Xj=rr(),_Ee=oE(),EEe="round_robin";function Wj(r){dEe.trace(hEe.LogVerbosity.DEBUG,EEe,r)}var fE="round_robin",NA=class r{getLoadBalancerName(){return fE}constructor(){}toJsonObject(){return{[fE]:{}}}static createFromJson(e){return new r}},CA=class{constructor(e,t=0){this.children=e,this.nextIndex=t}pick(e){let t=this.children[this.nextIndex].picker;return this.nextIndex=(this.nextIndex+1)%this.children.length,t.pick(e)}peekNextEndpoint(){return this.children[this.nextIndex].endpoint}},pE=class{constructor(e){this.channelControlHelper=e,this.children=[],this.currentState=yt.ConnectivityState.IDLE,this.currentReadyPicker=null,this.updatesPaused=!1,this.lastError=null,this.childChannelControlHelper=(0,Jj.createChildChannelControlHelper)(e,{updateState:(t,o,s)=>{this.currentState===yt.ConnectivityState.READY&&t!==yt.ConnectivityState.READY&&this.channelControlHelper.requestReresolution(),s&&(this.lastError=s),this.calculateAndUpdateState()}})}countChildrenWithState(e){return this.children.filter(t=>t.getConnectivityState()===e).length}calculateAndUpdateState(){if(!this.updatesPaused){if(this.countChildrenWithState(yt.ConnectivityState.READY)>0){let e=this.children.filter(o=>o.getConnectivityState()===yt.ConnectivityState.READY),t=0;if(this.currentReadyPicker!==null){let o=this.currentReadyPicker.peekNextEndpoint();t=e.findIndex(s=>(0,Xj.endpointEqual)(s.getEndpoint(),o)),t<0&&(t=0)}this.updateState(yt.ConnectivityState.READY,new CA(e.map(o=>({endpoint:o.getEndpoint(),picker:o.getPicker()})),t),null)}else if(this.countChildrenWithState(yt.ConnectivityState.CONNECTING)>0)this.updateState(yt.ConnectivityState.CONNECTING,new RA.QueuePicker(this),null);else if(this.countChildrenWithState(yt.ConnectivityState.TRANSIENT_FAILURE)>0){let e=`round_robin: No connection established. Last error: ${this.lastError}`;this.updateState(yt.ConnectivityState.TRANSIENT_FAILURE,new RA.UnavailablePicker({details:e}),e)}else this.updateState(yt.ConnectivityState.IDLE,new RA.QueuePicker(this),null);for(let e of this.children)e.getConnectivityState()===yt.ConnectivityState.IDLE&&e.exitIdle()}}updateState(e,t,o){Wj(yt.ConnectivityState[this.currentState]+" -> "+yt.ConnectivityState[e]),e===yt.ConnectivityState.READY?this.currentReadyPicker=t:this.currentReadyPicker=null,this.currentState=e,this.channelControlHelper.updateState(e,t,o)}resetSubchannelList(){for(let e of this.children)e.destroy()}updateAddressList(e,t,o){this.resetSubchannelList(),Wj("Connect to endpoint list "+e.map(Xj.endpointToString)),this.updatesPaused=!0,this.children=e.map(s=>new _Ee.LeafLoadBalancer(s,this.childChannelControlHelper,o));for(let s of this.children)s.startConnecting();this.updatesPaused=!1,this.calculateAndUpdateState()}exitIdle(){}resetBackoff(){}destroy(){this.resetSubchannelList()}getTypeName(){return fE}};lu.RoundRobinLoadBalancer=pE;function mEe(){(0,Jj.registerLoadBalancerType)(fE,pE,NA)}});var t4=T(No=>{"use strict";var PA;Object.defineProperty(No,"__esModule",{value:!0});No.OutlierDetectionLoadBalancer=No.OutlierDetectionLoadBalancingConfig=void 0;No.setup=PEe;var TEe=tr(),Zj=ue(),Ro=fA(),e4=TA(),SEe=so(),gEe=jh(),vEe=ti(),IA=rr(),yEe=X_(),OEe=Pe(),AEe="outlier_detection";function it(r){OEe.trace(Zj.LogVerbosity.DEBUG,AEe,r)}var DA="outlier_detection",REe=((PA=process.env.GRPC_EXPERIMENTAL_ENABLE_OUTLIER_DETECTION)!==null&&PA!==void 0?PA:"true")==="true",NEe={stdev_factor:1900,enforcement_percentage:100,minimum_hosts:5,request_volume:100},CEe={threshold:85,enforcement_percentage:100,minimum_hosts:5,request_volume:50};function ba(r,e,t,o){if(e in r&&r[e]!==void 0&&typeof r[e]!==t){let s=o?`${o}.${e}`:e;throw new Error(`outlier detection config ${s} parse error: expected ${t}, got ${typeof r[e]}`)}}function bA(r,e,t){let o=t?`${t}.${e}`:e;if(e in r&&r[e]!==void 0){if(!(0,Ro.isDuration)(r[e]))throw new Error(`outlier detection config ${o} parse error: expected Duration, got ${typeof r[e]}`);if(!(r[e].seconds>=0&&r[e].seconds<=315576e6&&r[e].nanos>=0&&r[e].nanos<=999999999))throw new Error(`outlier detection config ${o} parse error: values out of range for non-negative Duaration`)}}function dE(r,e,t){let o=t?`${t}.${e}`:e;if(ba(r,e,"number",t),e in r&&r[e]!==void 0&&!(r[e]>=0&&r[e]<=100))throw new Error(`outlier detection config ${o} parse error: value out of range for percentage (0-100)`)}var cu=class r{constructor(e,t,o,s,a,i,n){if(this.childPolicy=n,n.getLoadBalancerName()==="pick_first")throw new Error("outlier_detection LB policy cannot have a pick_first child policy");this.intervalMs=e??1e4,this.baseEjectionTimeMs=t??3e4,this.maxEjectionTimeMs=o??3e5,this.maxEjectionPercent=s??10,this.successRateEjection=a?Object.assign(Object.assign({},NEe),a):null,this.failurePercentageEjection=i?Object.assign(Object.assign({},CEe),i):null}getLoadBalancerName(){return DA}toJsonObject(){var e,t;return{outlier_detection:{interval:(0,Ro.msToDuration)(this.intervalMs),base_ejection_time:(0,Ro.msToDuration)(this.baseEjectionTimeMs),max_ejection_time:(0,Ro.msToDuration)(this.maxEjectionTimeMs),max_ejection_percent:this.maxEjectionPercent,success_rate_ejection:(e=this.successRateEjection)!==null&&e!==void 0?e:void 0,failure_percentage_ejection:(t=this.failurePercentageEjection)!==null&&t!==void 0?t:void 0,child_policy:[this.childPolicy.toJsonObject()]}}}getIntervalMs(){return this.intervalMs}getBaseEjectionTimeMs(){return this.baseEjectionTimeMs}getMaxEjectionTimeMs(){return this.maxEjectionTimeMs}getMaxEjectionPercent(){return this.maxEjectionPercent}getSuccessRateEjectionConfig(){return this.successRateEjection}getFailurePercentageEjectionConfig(){return this.failurePercentageEjection}getChildPolicy(){return this.childPolicy}static createFromJson(e){var t;if(bA(e,"interval"),bA(e,"base_ejection_time"),bA(e,"max_ejection_time"),dE(e,"max_ejection_percent"),"success_rate_ejection"in e&&e.success_rate_ejection!==void 0){if(typeof e.success_rate_ejection!="object")throw new Error("outlier detection config success_rate_ejection must be an object");ba(e.success_rate_ejection,"stdev_factor","number","success_rate_ejection"),dE(e.success_rate_ejection,"enforcement_percentage","success_rate_ejection"),ba(e.success_rate_ejection,"minimum_hosts","number","success_rate_ejection"),ba(e.success_rate_ejection,"request_volume","number","success_rate_ejection")}if("failure_percentage_ejection"in e&&e.failure_percentage_ejection!==void 0){if(typeof e.failure_percentage_ejection!="object")throw new Error("outlier detection config failure_percentage_ejection must be an object");dE(e.failure_percentage_ejection,"threshold","failure_percentage_ejection"),dE(e.failure_percentage_ejection,"enforcement_percentage","failure_percentage_ejection"),ba(e.failure_percentage_ejection,"minimum_hosts","number","failure_percentage_ejection"),ba(e.failure_percentage_ejection,"request_volume","number","failure_percentage_ejection")}if(!("child_policy"in e)||!Array.isArray(e.child_policy))throw new Error("outlier detection config child_policy must be an array");let o=(0,SEe.selectLbConfigFromList)(e.child_policy);if(!o)throw new Error("outlier detection config child_policy: no valid recognized policy found");return new r(e.interval?(0,Ro.durationToMs)(e.interval):null,e.base_ejection_time?(0,Ro.durationToMs)(e.base_ejection_time):null,e.max_ejection_time?(0,Ro.durationToMs)(e.max_ejection_time):null,(t=e.max_ejection_percent)!==null&&t!==void 0?t:null,e.success_rate_ejection,e.failure_percentage_ejection,o)}};No.OutlierDetectionLoadBalancingConfig=cu;var xA=class extends yEe.BaseSubchannelWrapper{constructor(e,t){super(e),this.mapEntry=t,this.refCount=0}ref(){this.child.ref(),this.refCount+=1}unref(){if(this.child.unref(),this.refCount-=1,this.refCount<=0&&this.mapEntry){let e=this.mapEntry.subchannelWrappers.indexOf(this);e>=0&&this.mapEntry.subchannelWrappers.splice(e,1)}}eject(){this.setHealthy(!1)}uneject(){this.setHealthy(!0)}getMapEntry(){return this.mapEntry}getWrappedSubchannel(){return this.child}};function LA(){return{success:0,failure:0}}var MA=class{constructor(){this.activeBucket=LA(),this.inactiveBucket=LA()}addSuccess(){this.activeBucket.success+=1}addFailure(){this.activeBucket.failure+=1}switchBuckets(){this.inactiveBucket=this.activeBucket,this.activeBucket=LA()}getLastSuccesses(){return this.inactiveBucket.success}getLastFailures(){return this.inactiveBucket.failure}},wA=class{constructor(e,t){this.wrappedPicker=e,this.countCalls=t}pick(e){let t=this.wrappedPicker.pick(e);if(t.pickResultType===vEe.PickResultType.COMPLETE){let o=t.subchannel,s=o.getMapEntry();if(s){let a=t.onCallEnded;return this.countCalls&&(a=i=>{var n;i===Zj.Status.OK?s.counter.addSuccess():s.counter.addFailure(),(n=t.onCallEnded)===null||n===void 0||n.call(t,i)}),Object.assign(Object.assign({},t),{subchannel:o.getWrappedSubchannel(),onCallEnded:a})}else return Object.assign(Object.assign({},t),{subchannel:o.getWrappedSubchannel()})}else return t}},hE=class{constructor(e){this.entryMap=new IA.EndpointMap,this.latestConfig=null,this.timerStartTime=null,this.childBalancer=new gEe.ChildLoadBalancerHandler((0,e4.createChildChannelControlHelper)(e,{createSubchannel:(t,o)=>{let s=e.createSubchannel(t,o),a=this.entryMap.getForSubchannelAddress(t),i=new xA(s,a);return(a==null?void 0:a.currentEjectionTimestamp)!==null&&i.eject(),a==null||a.subchannelWrappers.push(i),i},updateState:(t,o,s)=>{t===TEe.ConnectivityState.READY?e.updateState(t,new wA(o,this.isCountingEnabled()),s):e.updateState(t,o,s)}})),this.ejectionTimer=setInterval(()=>{},0),clearInterval(this.ejectionTimer)}isCountingEnabled(){return this.latestConfig!==null&&(this.latestConfig.getSuccessRateEjectionConfig()!==null||this.latestConfig.getFailurePercentageEjectionConfig()!==null)}getCurrentEjectionPercent(){let e=0;for(let t of this.entryMap.values())t.currentEjectionTimestamp!==null&&(e+=1);return e*100/this.entryMap.size}runSuccessRateCheck(e){if(!this.latestConfig)return;let t=this.latestConfig.getSuccessRateEjectionConfig();if(!t)return;it("Running success rate check");let o=t.request_volume,s=0,a=[];for(let[f,_]of this.entryMap.entries()){let m=_.counter.getLastSuccesses(),O=_.counter.getLastFailures();it("Stats for "+(0,IA.endpointToString)(f)+": successes="+m+" failures="+O+" targetRequestVolume="+o),m+O>=o&&(s+=1,a.push(m/(m+O)))}if(it("Found "+s+" success rate candidates; currentEjectionPercent="+this.getCurrentEjectionPercent()+" successRates=["+a+"]"),s<t.minimum_hosts)return;let i=a.reduce((f,_)=>f+_)/a.length,n=0;for(let f of a){let _=f-i;n+=_*_}let l=n/a.length,c=Math.sqrt(l),u=i-c*(t.stdev_factor/1e3);it("stdev="+c+" ejectionThreshold="+u);for(let[f,_]of this.entryMap.entries()){if(this.getCurrentEjectionPercent()>=this.latestConfig.getMaxEjectionPercent())break;let m=_.counter.getLastSuccesses(),O=_.counter.getLastFailures();if(m+O<o)continue;let y=m/(m+O);if(it("Checking candidate "+f+" successRate="+y),y<u){let A=Math.random()*100;it("Candidate "+f+" randomNumber="+A+" enforcement_percentage="+t.enforcement_percentage),A<t.enforcement_percentage&&(it("Ejecting candidate "+f),this.eject(_,e))}}}runFailurePercentageCheck(e){if(!this.latestConfig)return;let t=this.latestConfig.getFailurePercentageEjectionConfig();if(!t)return;it("Running failure percentage check. threshold="+t.threshold+" request volume threshold="+t.request_volume);let o=0;for(let s of this.entryMap.values()){let a=s.counter.getLastSuccesses(),i=s.counter.getLastFailures();a+i>=t.request_volume&&(o+=1)}if(!(o<t.minimum_hosts))for(let[s,a]of this.entryMap.entries()){if(this.getCurrentEjectionPercent()>=this.latestConfig.getMaxEjectionPercent())break;let i=a.counter.getLastSuccesses(),n=a.counter.getLastFailures();if(it("Candidate successes="+i+" failures="+n),i+n<t.request_volume)continue;if(n*100/(n+i)>t.threshold){let c=Math.random()*100;it("Candidate "+s+" randomNumber="+c+" enforcement_percentage="+t.enforcement_percentage),c<t.enforcement_percentage&&(it("Ejecting candidate "+s),this.eject(a,e))}}}eject(e,t){e.currentEjectionTimestamp=new Date,e.ejectionTimeMultiplier+=1;for(let o of e.subchannelWrappers)o.eject()}uneject(e){e.currentEjectionTimestamp=null;for(let t of e.subchannelWrappers)t.uneject()}switchAllBuckets(){for(let e of this.entryMap.values())e.counter.switchBuckets()}startTimer(e){var t,o;this.ejectionTimer=setTimeout(()=>this.runChecks(),e),(o=(t=this.ejectionTimer).unref)===null||o===void 0||o.call(t)}runChecks(){let e=new Date;if(it("Ejection timer running"),this.switchAllBuckets(),!!this.latestConfig){this.timerStartTime=e,this.startTimer(this.latestConfig.getIntervalMs()),this.runSuccessRateCheck(e),this.runFailurePercentageCheck(e);for(let[t,o]of this.entryMap.entries())if(o.currentEjectionTimestamp===null)o.ejectionTimeMultiplier>0&&(o.ejectionTimeMultiplier-=1);else{let s=this.latestConfig.getBaseEjectionTimeMs(),a=this.latestConfig.getMaxEjectionTimeMs(),i=new Date(o.currentEjectionTimestamp.getTime());i.setMilliseconds(i.getMilliseconds()+Math.min(s*o.ejectionTimeMultiplier,Math.max(s,a))),i<new Date&&(it("Unejecting "+t),this.uneject(o))}}}updateAddressList(e,t,o){if(!(t instanceof cu))return;it("Received update with config: "+JSON.stringify(t.toJsonObject(),void 0,2));for(let a of e)this.entryMap.has(a)||(it("Adding map entry for "+(0,IA.endpointToString)(a)),this.entryMap.set(a,{counter:new MA,currentEjectionTimestamp:null,ejectionTimeMultiplier:0,subchannelWrappers:[]}));this.entryMap.deleteMissing(e);let s=t.getChildPolicy();if(this.childBalancer.updateAddressList(e,s,o),t.getSuccessRateEjectionConfig()||t.getFailurePercentageEjectionConfig())if(this.timerStartTime){it("Previous timer existed. Replacing timer"),clearTimeout(this.ejectionTimer);let a=t.getIntervalMs()-(new Date().getTime()-this.timerStartTime.getTime());this.startTimer(a)}else it("Starting new timer"),this.timerStartTime=new Date,this.startTimer(t.getIntervalMs()),this.switchAllBuckets();else{it("Counting disabled. Cancelling timer."),this.timerStartTime=null,clearTimeout(this.ejectionTimer);for(let a of this.entryMap.values())this.uneject(a),a.ejectionTimeMultiplier=0}this.latestConfig=t}exitIdle(){this.childBalancer.exitIdle()}resetBackoff(){this.childBalancer.resetBackoff()}destroy(){clearTimeout(this.ejectionTimer),this.childBalancer.destroy()}getTypeName(){return DA}};No.OutlierDetectionLoadBalancer=hE;function PEe(){REe&&(0,e4.registerLoadBalancerType)(DA,hE,cu)}});var uu=T(w=>{"use strict";Object.defineProperty(w,"__esModule",{value:!0});w.experimental=w.ServerInterceptingCall=w.ResponderBuilder=w.ServerListenerBuilder=w.addAdminServicesToServer=w.getChannelzHandlers=w.getChannelzServiceDefinition=w.InterceptorConfigurationError=w.InterceptingCall=w.RequesterBuilder=w.ListenerBuilder=w.StatusBuilder=w.getClientChannel=w.ServerCredentials=w.Server=w.setLogVerbosity=w.setLogger=w.load=w.loadObject=w.CallCredentials=w.ChannelCredentials=w.waitForClientReady=w.closeClient=w.Channel=w.makeGenericClientConstructor=w.makeClientConstructor=w.loadPackageDefinition=w.Client=w.compressionAlgorithms=w.propagate=w.connectivityState=w.status=w.logVerbosity=w.Metadata=w.credentials=void 0;var _E=Mh();Object.defineProperty(w,"CallCredentials",{enumerable:!0,get:function(){return _E.CallCredentials}});var IEe=Wv();Object.defineProperty(w,"Channel",{enumerable:!0,get:function(){return IEe.ChannelImplementation}});var bEe=EO();Object.defineProperty(w,"compressionAlgorithms",{enumerable:!0,get:function(){return bEe.CompressionAlgorithms}});var LEe=tr();Object.defineProperty(w,"connectivityState",{enumerable:!0,get:function(){return LEe.ConnectivityState}});var EE=vc();Object.defineProperty(w,"ChannelCredentials",{enumerable:!0,get:function(){return EE.ChannelCredentials}});var r4=Xv();Object.defineProperty(w,"Client",{enumerable:!0,get:function(){return r4.Client}});var UA=ue();Object.defineProperty(w,"logVerbosity",{enumerable:!0,get:function(){return UA.LogVerbosity}});Object.defineProperty(w,"status",{enumerable:!0,get:function(){return UA.Status}});Object.defineProperty(w,"propagate",{enumerable:!0,get:function(){return UA.Propagate}});var n4=Pe(),kA=Qv();Object.defineProperty(w,"loadPackageDefinition",{enumerable:!0,get:function(){return kA.loadPackageDefinition}});Object.defineProperty(w,"makeClientConstructor",{enumerable:!0,get:function(){return kA.makeClientConstructor}});Object.defineProperty(w,"makeGenericClientConstructor",{enumerable:!0,get:function(){return kA.makeClientConstructor}});var xEe=ht();Object.defineProperty(w,"Metadata",{enumerable:!0,get:function(){return xEe.Metadata}});var MEe=bj();Object.defineProperty(w,"Server",{enumerable:!0,get:function(){return MEe.Server}});var wEe=eE();Object.defineProperty(w,"ServerCredentials",{enumerable:!0,get:function(){return wEe.ServerCredentials}});var DEe=Lj();Object.defineProperty(w,"StatusBuilder",{enumerable:!0,get:function(){return DEe.StatusBuilder}});w.credentials={combineChannelCredentials:(r,...e)=>e.reduce((t,o)=>t.compose(o),r),combineCallCredentials:(r,...e)=>e.reduce((t,o)=>t.compose(o),r),createInsecure:EE.ChannelCredentials.createInsecure,createSsl:EE.ChannelCredentials.createSsl,createFromSecureContext:EE.ChannelCredentials.createFromSecureContext,createFromMetadataGenerator:_E.CallCredentials.createFromMetadataGenerator,createFromGoogleCredential:_E.CallCredentials.createFromGoogleCredential,createEmpty:_E.CallCredentials.createEmpty};var UEe=r=>r.close();w.closeClient=UEe;var kEe=(r,e,t)=>r.waitForReady(e,t);w.waitForClientReady=kEe;var BEe=(r,e)=>{throw new Error("Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead")};w.loadObject=BEe;var VEe=(r,e,t)=>{throw new Error("Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead")};w.load=VEe;var FEe=r=>{n4.setLogger(r)};w.setLogger=FEe;var GEe=r=>{n4.setLoggerVerbosity(r)};w.setLogVerbosity=GEe;var HEe=r=>r4.Client.prototype.getChannel.call(r);w.getClientChannel=HEe;var mE=Kv();Object.defineProperty(w,"ListenerBuilder",{enumerable:!0,get:function(){return mE.ListenerBuilder}});Object.defineProperty(w,"RequesterBuilder",{enumerable:!0,get:function(){return mE.RequesterBuilder}});Object.defineProperty(w,"InterceptingCall",{enumerable:!0,get:function(){return mE.InterceptingCall}});Object.defineProperty(w,"InterceptorConfigurationError",{enumerable:!0,get:function(){return mE.InterceptorConfigurationError}});var i4=_o();Object.defineProperty(w,"getChannelzServiceDefinition",{enumerable:!0,get:function(){return i4.getChannelzServiceDefinition}});Object.defineProperty(w,"getChannelzHandlers",{enumerable:!0,get:function(){return i4.getChannelzHandlers}});var qEe=$h();Object.defineProperty(w,"addAdminServicesToServer",{enumerable:!0,get:function(){return qEe.addAdminServicesToServer}});var BA=sA();Object.defineProperty(w,"ServerListenerBuilder",{enumerable:!0,get:function(){return BA.ServerListenerBuilder}});Object.defineProperty(w,"ResponderBuilder",{enumerable:!0,get:function(){return BA.ResponderBuilder}});Object.defineProperty(w,"ServerInterceptingCall",{enumerable:!0,get:function(){return BA.ServerInterceptingCall}});var jEe=TA();w.experimental=jEe;var YEe=tO(),KEe=qj(),zEe=$j(),$Ee=oE(),XEe=Qj(),WEe=t4(),JEe=_o();YEe.setup(),KEe.setup(),zEe.setup(),$Ee.setup(),XEe.setup(),WEe.setup(),JEe.setup()});var o4=T(TE=>{"use strict";Object.defineProperty(TE,"__esModule",{value:!0});TE.createServiceClientConstructor=void 0;var QEe=uu();function ZEe(r,e){let t={export:{path:r,requestStream:!1,responseStream:!1,requestSerialize:o=>o,requestDeserialize:o=>o,responseSerialize:o=>o,responseDeserialize:o=>o}};return QEe.makeGenericClientConstructor(t,e)}TE.createServiceClientConstructor=ZEe});var fu=T(ar=>{"use strict";Object.defineProperty(ar,"__esModule",{value:!0});ar.createOtlpGrpcExporterTransport=ar.GrpcExporterTransport=ar.createEmptyMetadata=ar.createSslCredentials=ar.createInsecureCredentials=void 0;var eme=0,tme=2;function rme(r){return r==="gzip"?tme:eme}function nme(){let{credentials:r}=uu();return r.createInsecure()}ar.createInsecureCredentials=nme;function ime(r,e,t){let{credentials:o}=uu();return o.createSsl(r,e,t)}ar.createSslCredentials=ime;function ome(){let{Metadata:r}=uu();return new r}ar.createEmptyMetadata=ome;var SE=class{constructor(e){this._parameters=e}shutdown(){var e;(e=this._client)===null||e===void 0||e.close()}send(e,t){let o=Buffer.from(e);if(this._client==null){let{createServiceClientConstructor:s}=o4();try{this._metadata=this._parameters.metadata()}catch(i){return Promise.resolve({status:"failure",error:i})}let a=s(this._parameters.grpcPath,this._parameters.grpcName);try{this._client=new a(this._parameters.address,this._parameters.credentials(),{"grpc.default_compression_algorithm":rme(this._parameters.compression)})}catch(i){return Promise.resolve({status:"failure",error:i})}}return new Promise(s=>{let a=Date.now()+t;if(this._metadata==null)return s({error:new Error("metadata was null"),status:"failure"});this._client.export(o,this._metadata,{deadline:a},(i,n)=>{s(i?{status:"failure",error:i}:{data:n,status:"success"})})})}};ar.GrpcExporterTransport=SE;function sme(r){return new SE(r)}ar.createOtlpGrpcExporterTransport=sme});var s4=T(gE=>{"use strict";Object.defineProperty(gE,"__esModule",{value:!0});gE.VERSION=void 0;gE.VERSION="0.56.0"});var f4=T(hi=>{"use strict";Object.defineProperty(hi,"__esModule",{value:!0});hi.getOtlpGrpcDefaultConfiguration=hi.mergeOtlpGrpcConfigurationWithDefaults=hi.validateAndNormalizeUrl=void 0;var c4=(_n(),ee(pc)),pu=fu(),ame=s4(),lme=V("url"),a4=(P(),ee(ot));function u4(r){var e;r=r.trim(),r.match(/^([\w]{1,8}):\/\//)||(r=`https://${r}`);let o=new lme.URL(r);return o.protocol==="unix:"?r:(o.pathname&&o.pathname!=="/"&&a4.diag.warn("URL path should not be set when using grpc, the path part of the URL will be ignored."),o.protocol!==""&&!(!((e=o.protocol)===null||e===void 0)&&e.match(/^(http)s?:$/))&&a4.diag.warn("URL protocol should be http(s)://. Using http://."),o.host)}hi.validateAndNormalizeUrl=u4;function l4(r,e){for(let[t,o]of Object.entries(e.getMap()))r.get(t).length<1&&r.set(t,o)}function cme(r,e,t){var o,s,a,i,n;let l=(s=(o=r.url)!==null&&o!==void 0?o:e.url)!==null&&s!==void 0?s:t.url;return Object.assign(Object.assign({},(0,c4.mergeOtlpSharedConfigurationWithDefaults)(r,e,t)),{metadata:()=>{var c,u,f,_;let m=t.metadata();return l4(m,(u=(c=r.metadata)===null||c===void 0?void 0:c.call(r).clone())!==null&&u!==void 0?u:(0,pu.createEmptyMetadata)()),l4(m,(_=(f=e.metadata)===null||f===void 0?void 0:f.call(e))!==null&&_!==void 0?_:(0,pu.createEmptyMetadata)()),m},url:u4(l),credentials:(n=(a=r.credentials)!==null&&a!==void 0?a:(i=e.credentials)===null||i===void 0?void 0:i.call(e,l))!==null&&n!==void 0?n:t.credentials(l)})}hi.mergeOtlpGrpcConfigurationWithDefaults=cme;function ume(){return Object.assign(Object.assign({},(0,c4.getSharedConfigurationDefaults)()),{metadata:()=>{let r=(0,pu.createEmptyMetadata)();return r.set("User-Agent",`OTel-OTLP-Exporter-JavaScript/${ame.VERSION}`),r},url:"http://localhost:4317",credentials:r=>r.startsWith("http://")?()=>(0,pu.createInsecureCredentials)():()=>(0,pu.createSslCredentials)()})}hi.getOtlpGrpcDefaultConfiguration=ume});function vE(r){return r.setValue(VA,!0)}function p4(r){return r.deleteValue(VA)}function La(r){return r.getValue(VA)===!0}var VA,du=p(()=>{P();VA=De("OpenTelemetry SDK Context Key SUPPRESS_TRACING")});var yE,d4=p(()=>{yE="baggage"});function AE(r){return r.reduce((e,t)=>{let o=`${e}${e!==""?",":""}${t}`;return o.length>8192?e:o},"")}function RE(r){return r.getAllEntries().map(([e,t])=>{let o=`${encodeURIComponent(e)}=${encodeURIComponent(t.value)}`;return t.metadata!==void 0&&(o+=";"+t.metadata.toString()),o})}function hu(r){let e=r.split(";");if(e.length<=0)return;let t=e.shift();if(!t)return;let o=t.indexOf("=");if(o<=0)return;let s=decodeURIComponent(t.substring(0,o).trim()),a=decodeURIComponent(t.substring(o+1).trim()),i;return e.length>0&&(i=br(e.join(";"))),{key:s,value:a,metadata:i}}function _4(r){return typeof r!="string"||r.length===0?{}:r.split(",").map(e=>hu(e)).filter(e=>e!==void 0&&e.value.length>0).reduce((e,t)=>(e[t.key]=t.value,e),{})}var FA=p(()=>{P()});var NE,E4=p(()=>{P();du();d4();FA();NE=class{inject(e,t,o){let s=Ue.getBaggage(e);if(!s||La(e))return;let a=RE(s).filter(n=>n.length<=4096).slice(0,180),i=AE(a);i.length>0&&o.set(t,yE,i)}extract(e,t,o){let s=o.get(t,yE),a=Array.isArray(s)?s.join(","):s;if(!a)return e;let i={};return a.length===0||(a.split(",").forEach(l=>{let c=hu(l);if(c){let u={value:c.value};c.metadata&&(u.metadata=c.metadata),i[c.key]=u}}),Object.entries(i).length===0)?e:Ue.setBaggage(e,Ue.createBaggage(i))}fields(){return[yE]}}});var CE,m4=p(()=>{CE=class{constructor(e,t){this._monotonicClock=t,this._epochMillis=e.now(),this._performanceMillis=t.now()}now(){let e=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+e}}});function T4(r){let e={};if(typeof r!="object"||r==null)return e;for(let[t,o]of Object.entries(r)){if(!GA(t)){S.warn(`Invalid attribute key: ${t}`);continue}if(!HA(o)){S.warn(`Invalid attribute value set for key: ${t}`);continue}Array.isArray(o)?e[t]=o.slice():e[t]=o}return e}function GA(r){return typeof r=="string"&&r.length>0}function HA(r){return r==null?!0:Array.isArray(r)?dme(r):S4(r)}function dme(r){let e;for(let t of r)if(t!=null){if(!e){if(S4(t)){e=typeof t;continue}return!1}if(typeof t!==e)return!1}return!0}function S4(r){switch(typeof r){case"number":case"boolean":case"string":return!0}return!1}var g4=p(()=>{P()});function PE(){return r=>{S.error(hme(r))}}function hme(r){return typeof r=="string"?r:JSON.stringify(_me(r))}function _me(r){let e={},t=r;for(;t!==null;)Object.getOwnPropertyNames(t).forEach(o=>{if(e[o])return;let s=t[o];s&&(e[o]=String(s))}),t=Object.getPrototypeOf(t);return e}var qA=p(()=>{P()});function y4(r){v4=r}function IE(r){try{v4(r)}catch{}}var v4,jA=p(()=>{qA();v4=PE()});var xa,YA=p(()=>{(function(r){r.AlwaysOff="always_off",r.AlwaysOn="always_on",r.ParentBasedAlwaysOff="parentbased_always_off",r.ParentBasedAlwaysOn="parentbased_always_on",r.ParentBasedTraceIdRatio="parentbased_traceidratio",r.TraceIdRatio="traceidratio"})(xa||(xa={}))});function Tme(r){return mme.indexOf(r)>-1}function gme(r){return Sme.indexOf(r)>-1}function yme(r){return vme.indexOf(r)>-1}function Ome(r,e,t){if(typeof t[r]>"u")return;let o=String(t[r]);e[r]=o.toLowerCase()==="true"}function Ame(r,e,t,o=-1/0,s=1/0){if(typeof t[r]<"u"){let a=Number(t[r]);isNaN(a)||(a<o?e[r]=o:a>s?e[r]=s:e[r]=a)}}function Rme(r,e,t,o=Eme){let s=t[r];typeof s=="string"&&(e[r]=s.split(o).map(a=>a.trim()))}function Cme(r,e,t){let o=t[r];if(typeof o=="string"){let s=Nme[o.toUpperCase()];s!=null&&(e[r]=s)}}function Tu(r){let e={};for(let t in mu){let o=t;switch(o){case"OTEL_LOG_LEVEL":Cme(o,e,r);break;default:if(Tme(o))Ome(o,e,r);else if(gme(o))Ame(o,e,r);else if(yme(o))Rme(o,e,r);else{let s=r[o];typeof s<"u"&&s!==null&&(e[o]=String(s))}}}return e}var Eme,mme,Sme,vme,_u,Eu,KA,zA,mu,Nme,$A=p(()=>{P();YA();Eme=",",mme=["OTEL_SDK_DISABLED"];Sme=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_BLRP_EXPORT_TIMEOUT","OTEL_BLRP_MAX_EXPORT_BATCH_SIZE","OTEL_BLRP_MAX_QUEUE_SIZE","OTEL_BLRP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_OTLP_LOGS_TIMEOUT","OTEL_EXPORTER_JAEGER_AGENT_PORT"];vme=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS","OTEL_SEMCONV_STABILITY_OPT_IN"];_u=1/0,Eu=128,KA=128,zA=128,mu={OTEL_SDK_DISABLED:!1,CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_BLRP_EXPORT_TIMEOUT:3e4,OTEL_BLRP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BLRP_MAX_QUEUE_SIZE:2048,OTEL_BLRP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_AGENT_PORT:6832,OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_LOGS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_OTLP_LOGS_HEADERS:"",OTEL_EXPORTER_OTLP_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_TRACES_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_METRICS_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_LOGS_TIMEOUT:1e4,OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:H.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:_u,OTEL_ATTRIBUTE_COUNT_LIMIT:Eu,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:_u,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:Eu,OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT:_u,OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT:Eu,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:KA,OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:zA,OTEL_TRACES_EXPORTER:"",OTEL_TRACES_SAMPLER:xa.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:"",OTEL_LOGS_EXPORTER:"",OTEL_EXPORTER_OTLP_INSECURE:"",OTEL_EXPORTER_OTLP_TRACES_INSECURE:"",OTEL_EXPORTER_OTLP_METRICS_INSECURE:"",OTEL_EXPORTER_OTLP_LOGS_INSECURE:"",OTEL_EXPORTER_OTLP_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_COMPRESSION:"",OTEL_EXPORTER_OTLP_TRACES_COMPRESSION:"",OTEL_EXPORTER_OTLP_METRICS_COMPRESSION:"",OTEL_EXPORTER_OTLP_LOGS_COMPRESSION:"",OTEL_EXPORTER_OTLP_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_TRACES_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_LOGS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE:"cumulative",OTEL_SEMCONV_STABILITY_OPT_IN:[]};Nme={ALL:H.ALL,VERBOSE:H.VERBOSE,DEBUG:H.DEBUG,INFO:H.INFO,WARN:H.WARN,ERROR:H.ERROR,NONE:H.NONE}});function bE(){let r=Tu(process.env);return Object.assign({},mu,r)}function LE(){return Tu(process.env)}var O4=p(()=>{$A()});var xE,A4=p(()=>{xE=typeof globalThis=="object"?globalThis:global});function R4(r){return r>=48&&r<=57?r-48:r>=97&&r<=102?r-87:r-55}function ME(r){let e=new Uint8Array(r.length/2),t=0;for(let o=0;o<r.length;o+=2){let s=R4(r.charCodeAt(o)),a=R4(r.charCodeAt(o+1));e[t++]=s<<4|a}return e}var XA=p(()=>{});function wE(r){return Buffer.from(ME(r)).toString("base64")}var N4=p(()=>{XA()});function C4(r){return function(){for(let t=0;t<r/4;t++)DE.writeUInt32BE(Math.random()*2**32>>>0,t*4);for(let t=0;t<r&&!(DE[t]>0);t++)t===r-1&&(DE[r-1]=1);return DE.toString("hex",0,r)}}var Ma,DE,P4=p(()=>{Ma=class{constructor(){this.generateTraceId=C4(16),this.generateSpanId=C4(8)}},DE=Buffer.allocUnsafe(16)});import{performance as Pme}from"perf_hooks";var _i,I4=p(()=>{_i=Pme});var UE,WA=p(()=>{UE="1.29.0"});var kE,b4=p(()=>{WA();Ve();kE={[Se]:"opentelemetry",[st]:"node",[ge]:wt,[ve]:UE}});function BE(r){r.unref()}var L4=p(()=>{});var x4=p(()=>{O4();A4();N4();P4();I4();b4();L4()});var JA=p(()=>{x4()});function wa(r){let e=r/1e3,t=Math.trunc(e),o=Math.round(r%1e3*bme);return[t,o]}function FE(){let r=_i.timeOrigin;if(typeof r!="number"){let e=_i;r=e.timing&&e.timing.fetchStart}return r}function QA(r){let e=wa(FE()),t=wa(typeof r=="number"?r:_i.now());return ZA(e,t)}function w4(r){if(GE(r))return r;if(typeof r=="number")return r<FE()?QA(r):wa(r);if(r instanceof Date)return wa(r.getTime());throw TypeError("Invalid input type")}function D4(r,e){let t=e[0]-r[0],o=e[1]-r[1];return o<0&&(t-=1,o+=VE),[t,o]}function U4(r){let e=M4,t=`${"0".repeat(e)}${r[1]}Z`,o=t.substring(t.length-e-1);return new Date(r[0]*1e3).toISOString().replace("000Z",o)}function k4(r){return r[0]*VE+r[1]}function B4(r){return r[0]*1e3+r[1]/1e6}function V4(r){return r[0]*1e6+r[1]/1e3}function GE(r){return Array.isArray(r)&&r.length===2&&typeof r[0]=="number"&&typeof r[1]=="number"}function F4(r){return GE(r)||typeof r=="number"||r instanceof Date}function ZA(r,e){let t=[r[0]+e[0],r[1]+e[1]];return t[1]>=VE&&(t[1]-=VE,t[0]+=1),t}var M4,Ime,bme,VE,G4=p(()=>{JA();M4=9,Ime=6,bme=Math.pow(10,Ime),VE=Math.pow(10,M4)});var HE,H4=p(()=>{(function(r){r[r.SUCCESS=0]="SUCCESS",r[r.FAILED=1]="FAILED"})(HE||(HE={}))});var qE,q4=p(()=>{P();qE=class{constructor(e={}){var t;this._propagators=(t=e.propagators)!==null&&t!==void 0?t:[],this._fields=Array.from(new Set(this._propagators.map(o=>typeof o.fields=="function"?o.fields():[]).reduce((o,s)=>o.concat(s),[])))}inject(e,t,o){for(let s of this._propagators)try{s.inject(e,t,o)}catch(a){S.warn(`Failed to inject with ${s.constructor.name}. Err: ${a.message}`)}}extract(e,t,o){return this._propagators.reduce((s,a)=>{try{return a.extract(s,t,o)}catch(i){S.warn(`Failed to extract with ${a.constructor.name}. Err: ${i.message}`)}return s},e)}fields(){return this._fields.slice()}}});function j4(r){return Mme.test(r)}function Y4(r){return wme.test(r)&&!Dme.test(r)}var eR,Lme,xme,Mme,wme,Dme,K4=p(()=>{eR="[_0-9a-z-*/]",Lme=`[a-z]${eR}{0,255}`,xme=`[a-z0-9]${eR}{0,240}@[a-z]${eR}{0,13}`,Mme=new RegExp(`^(?:${Lme}|${xme})$`),wme=/^[ -~]{0,255}[!-~]$/,Dme=/,|=/});var z4,Ume,$4,X4,Da,tR=p(()=>{K4();z4=32,Ume=512,$4=",",X4="=",Da=class r{constructor(e){this._internalState=new Map,e&&this._parse(e)}set(e,t){let o=this._clone();return o._internalState.has(e)&&o._internalState.delete(e),o._internalState.set(e,t),o}unset(e){let t=this._clone();return t._internalState.delete(e),t}get(e){return this._internalState.get(e)}serialize(){return this._keys().reduce((e,t)=>(e.push(t+X4+this.get(t)),e),[]).join($4)}_parse(e){e.length>Ume||(this._internalState=e.split($4).reverse().reduce((t,o)=>{let s=o.trim(),a=s.indexOf(X4);if(a!==-1){let i=s.slice(0,a),n=s.slice(a+1,o.length);j4(i)&&Y4(n)&&t.set(i,n)}return t},new Map),this._internalState.size>z4&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,z4))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let e=new r;return e._internalState=new Map(this._internalState),e}}});function rR(r){let e=Hme.exec(r);return!e||e[1]==="00"&&e[5]?null:{traceId:e[2],spanId:e[3],traceFlags:parseInt(e[4],16)}}var Su,gu,kme,Bme,Vme,Fme,Gme,Hme,jE,W4=p(()=>{P();du();tR();Su="traceparent",gu="tracestate",kme="00",Bme="(?!ff)[\\da-f]{2}",Vme="(?![0]{32})[\\da-f]{32}",Fme="(?![0]{16})[\\da-f]{16}",Gme="[\\da-f]{2}",Hme=new RegExp(`^\\s?(${Bme})-(${Vme})-(${Fme})-(${Gme})(-.*)?\\s?$`);jE=class{inject(e,t,o){let s=ie.getSpanContext(e);if(!s||La(e)||!xe(s))return;let a=`${kme}-${s.traceId}-${s.spanId}-0${Number(s.traceFlags||se.NONE).toString(16)}`;o.set(t,Su,a),s.traceState&&o.set(t,gu,s.traceState.serialize())}extract(e,t,o){let s=o.get(t,Su);if(!s)return e;let a=Array.isArray(s)?s[0]:s;if(typeof a!="string")return e;let i=rR(a);if(!i)return e;i.isRemote=!0;let n=o.get(t,gu);if(n){let l=Array.isArray(n)?n.join(","):n;i.traceState=new Da(typeof l=="string"?l:void 0)}return ie.setSpanContext(e,i)}fields(){return[Su,gu]}}});function J4(r,e){return r.setValue(nR,e)}function Q4(r){return r.deleteValue(nR)}function Z4(r){return r.getValue(nR)}var nR,YE,e6=p(()=>{P();nR=De("OpenTelemetry SDK Context Key RPC_METADATA");(function(r){r.HTTP="http"})(YE||(YE={}))});var Co,iR=p(()=>{P();Co=class{shouldSample(){return{decision:ke.NOT_RECORD}}toString(){return"AlwaysOffSampler"}}});var Ei,oR=p(()=>{P();Ei=class{shouldSample(){return{decision:ke.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}}});var KE,t6=p(()=>{P();jA();iR();oR();KE=class{constructor(e){var t,o,s,a;this._root=e.root,this._root||(IE(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new Ei),this._remoteParentSampled=(t=e.remoteParentSampled)!==null&&t!==void 0?t:new Ei,this._remoteParentNotSampled=(o=e.remoteParentNotSampled)!==null&&o!==void 0?o:new Co,this._localParentSampled=(s=e.localParentSampled)!==null&&s!==void 0?s:new Ei,this._localParentNotSampled=(a=e.localParentNotSampled)!==null&&a!==void 0?a:new Co}shouldSample(e,t,o,s,a,i){let n=ie.getSpanContext(e);return!n||!xe(n)?this._root.shouldSample(e,t,o,s,a,i):n.isRemote?n.traceFlags&se.SAMPLED?this._remoteParentSampled.shouldSample(e,t,o,s,a,i):this._remoteParentNotSampled.shouldSample(e,t,o,s,a,i):n.traceFlags&se.SAMPLED?this._localParentSampled.shouldSample(e,t,o,s,a,i):this._localParentNotSampled.shouldSample(e,t,o,s,a,i)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}}});var zE,r6=p(()=>{P();zE=class{constructor(e=0){this._ratio=e,this._ratio=this._normalize(e),this._upperBound=Math.floor(this._ratio*4294967295)}shouldSample(e,t){return{decision:Mt(t)&&this._accumulate(t)<this._upperBound?ke.RECORD_AND_SAMPLED:ke.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(e){return typeof e!="number"||isNaN(e)?0:e>=1?1:e<=0?0:e}_accumulate(e){let t=0;for(let o=0;o<e.length/8;o++){let s=o*8,a=parseInt(e.slice(s,s+8),16);t=(t^a)>>>0}return t}}});function Xme(r,e){return function(t){return r(e(t))}}function sR(r){if(!Wme(r)||Jme(r)!==qme)return!1;let e=$me(r);if(e===null)return!0;let t=o6.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&n6.call(t)===zme}function Wme(r){return r!=null&&typeof r=="object"}function Jme(r){return r==null?r===void 0?Yme:jme:Po&&Po in Object(r)?Qme(r):Zme(r)}function Qme(r){let e=o6.call(r,Po),t=r[Po],o=!1;try{r[Po]=void 0,o=!0}catch{}let s=s6.call(r);return o&&(e?r[Po]=t:delete r[Po]),s}function Zme(r){return s6.call(r)}var qme,jme,Yme,Kme,n6,zme,$me,i6,o6,Po,s6,a6=p(()=>{qme="[object Object]",jme="[object Null]",Yme="[object Undefined]",Kme=Function.prototype,n6=Kme.toString,zme=n6.call(Object),$me=Xme(Object.getPrototypeOf,Object),i6=Object.prototype,o6=i6.hasOwnProperty,Po=Symbol?Symbol.toStringTag:void 0,s6=i6.toString});function c6(...r){let e=r.shift(),t=new WeakMap;for(;r.length>0;)e=u6(e,r.shift(),0,t);return e}function aR(r){return XE(r)?r.slice():r}function u6(r,e,t=0,o){let s;if(!(t>eTe)){if(t++,$E(r)||$E(e)||f6(e))s=aR(e);else if(XE(r)){if(s=r.slice(),XE(e))for(let a=0,i=e.length;a<i;a++)s.push(aR(e[a]));else if(vu(e)){let a=Object.keys(e);for(let i=0,n=a.length;i<n;i++){let l=a[i];s[l]=aR(e[l])}}}else if(vu(r))if(vu(e)){if(!tTe(r,e))return e;s=Object.assign({},r);let a=Object.keys(e);for(let i=0,n=a.length;i<n;i++){let l=a[i],c=e[l];if($E(c))typeof c>"u"?delete s[l]:s[l]=c;else{let u=s[l],f=c;if(l6(r,l,o)||l6(e,l,o))delete s[l];else{if(vu(u)&&vu(f)){let _=o.get(u)||[],m=o.get(f)||[];_.push({obj:r,key:l}),m.push({obj:e,key:l}),o.set(u,_),o.set(f,m)}s[l]=u6(s[l],c,t,o)}}}}else s=e;return s}}function l6(r,e,t){let o=t.get(r[e])||[];for(let s=0,a=o.length;s<a;s++){let i=o[s];if(i.key===e&&i.obj===r)return!0}return!1}function XE(r){return Array.isArray(r)}function f6(r){return typeof r=="function"}function vu(r){return!$E(r)&&!XE(r)&&!f6(r)&&typeof r=="object"}function $E(r){return typeof r=="string"||typeof r=="number"||typeof r=="boolean"||typeof r>"u"||r instanceof Date||r instanceof RegExp||r===null}function tTe(r,e){return!(!sR(r)||!sR(e))}var eTe,p6=p(()=>{a6();eTe=20});function d6(r,e){let t,o=new Promise(function(a,i){t=setTimeout(function(){i(new yu("Operation timed out."))},e)});return Promise.race([r,o]).then(s=>(clearTimeout(t),s),s=>{throw clearTimeout(t),s})}var yu,h6=p(()=>{yu=class r extends Error{constructor(e){super(e),Object.setPrototypeOf(this,r.prototype)}}});function lR(r,e){return typeof e=="string"?r===e:!!r.match(e)}function _6(r,e){if(!e)return!1;for(let t of e)if(lR(r,t))return!0;return!1}var E6=p(()=>{});function m6(r){return typeof r=="function"&&typeof r.__original=="function"&&typeof r.__unwrap=="function"&&r.__wrapped===!0}var T6=p(()=>{});var WE,S6=p(()=>{WE=class{constructor(){this._promise=new Promise((e,t)=>{this._resolve=e,this._reject=t})}get promise(){return this._promise}resolve(e){this._resolve(e)}reject(e){this._reject(e)}}});var JE,g6=p(()=>{S6();JE=class{constructor(e,t){this._callback=e,this._that=t,this._isCalled=!1,this._deferred=new WE}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...e){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...e)).then(t=>this._deferred.resolve(t),t=>this._deferred.reject(t))}catch(t){this._deferred.reject(t)}}return this._deferred.promise}}});function v6(r,e){return new Promise(t=>{me.with(vE(me.active()),()=>{r.export(e,o=>{t(o)})})})}var y6=p(()=>{P();du()});var O6={};Ae(O6,{AlwaysOffSampler:()=>Co,AlwaysOnSampler:()=>Ei,AnchoredClock:()=>CE,BindOnceFuture:()=>JE,CompositePropagator:()=>qE,DEFAULT_ATTRIBUTE_COUNT_LIMIT:()=>Eu,DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT:()=>_u,DEFAULT_ENVIRONMENT:()=>mu,DEFAULT_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:()=>KA,DEFAULT_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:()=>zA,ExportResultCode:()=>HE,ParentBasedSampler:()=>KE,RPCType:()=>YE,RandomIdGenerator:()=>Ma,SDK_INFO:()=>kE,TRACE_PARENT_HEADER:()=>Su,TRACE_STATE_HEADER:()=>gu,TimeoutError:()=>yu,TraceIdRatioBasedSampler:()=>zE,TraceState:()=>Da,TracesSamplerValues:()=>xa,VERSION:()=>UE,W3CBaggagePropagator:()=>NE,W3CTraceContextPropagator:()=>jE,_globalThis:()=>xE,addHrTimes:()=>ZA,baggageUtils:()=>rTe,callWithTimeout:()=>d6,deleteRPCMetadata:()=>Q4,getEnv:()=>bE,getEnvWithoutDefaults:()=>LE,getRPCMetadata:()=>Z4,getTimeOrigin:()=>FE,globalErrorHandler:()=>IE,hexToBase64:()=>wE,hexToBinary:()=>ME,hrTime:()=>QA,hrTimeDuration:()=>D4,hrTimeToMicroseconds:()=>V4,hrTimeToMilliseconds:()=>B4,hrTimeToNanoseconds:()=>k4,hrTimeToTimeStamp:()=>U4,internal:()=>nTe,isAttributeKey:()=>GA,isAttributeValue:()=>HA,isTimeInput:()=>F4,isTimeInputHrTime:()=>GE,isTracingSuppressed:()=>La,isUrlIgnored:()=>_6,isWrapped:()=>m6,loggingErrorHandler:()=>PE,merge:()=>c6,millisToHrTime:()=>wa,otperformance:()=>_i,parseEnvironment:()=>Tu,parseTraceParent:()=>rR,sanitizeAttributes:()=>T4,setGlobalErrorHandler:()=>y4,setRPCMetadata:()=>J4,suppressTracing:()=>vE,timeInputToHrTime:()=>w4,unrefTimer:()=>BE,unsuppressTracing:()=>p4,urlMatches:()=>lR});var rTe,nTe,A6=p(()=>{E4();m4();g4();jA();qA();G4();XA();H4();FA();JA();q4();W4();e6();iR();oR();t6();r6();du();tR();$A();p6();YA();h6();E6();T6();g6();WA();y6();rTe={getKeyPairs:RE,serializeKeyPairs:AE,parseKeyPairsIntoRecord:_4,parsePairKeyValue:hu},nTe={_export:v6}});var I6=T(QE=>{"use strict";Object.defineProperty(QE,"__esModule",{value:!0});QE.getOtlpGrpcConfigurationFromEnv=void 0;var R6=(A6(),ee(O6)),Ou=fu(),iTe=(Qs(),ee(i3)),oTe=V("fs"),sTe=V("path"),C6=(P(),ee(ot));function cR(r,e){if(r!=null&&r!=="")return r;if(e!=null&&e!=="")return e}function aTe(r){var e,t;let o=(e=process.env[`OTEL_EXPORTER_OTLP_${r}_HEADERS`])===null||e===void 0?void 0:e.trim(),s=(t=process.env.OTEL_EXPORTER_OTLP_HEADERS)===null||t===void 0?void 0:t.trim(),a=R6.baggageUtils.parseKeyPairsIntoRecord(o),i=R6.baggageUtils.parseKeyPairsIntoRecord(s);if(Object.keys(a).length===0&&Object.keys(i).length===0)return;let n=Object.assign({},i,a),l=(0,Ou.createEmptyMetadata)();for(let[c,u]of Object.entries(n))l.set(c,u);return l}function lTe(r){let e=aTe(r);if(e!=null)return()=>e}function cTe(r){var e,t;let o=(e=process.env[`OTEL_EXPORTER_OTLP_${r}_ENDPOINT`])===null||e===void 0?void 0:e.trim(),s=(t=process.env.OTEL_EXPORTER_OTLP_ENDPOINT)===null||t===void 0?void 0:t.trim();return cR(o,s)}function uTe(r){var e,t;let o=(e=process.env[`OTEL_EXPORTER_OTLP_${r}_INSECURE`])===null||e===void 0?void 0:e.toLowerCase().trim(),s=(t=process.env.OTEL_EXPORTER_OTLP_INSECURE)===null||t===void 0?void 0:t.toLowerCase().trim();return cR(o,s)==="true"}function uR(r,e,t){var o,s;let a=(o=process.env[r])===null||o===void 0?void 0:o.trim(),i=(s=process.env[e])===null||s===void 0?void 0:s.trim(),n=cR(a,i);if(n!=null)try{return oTe.readFileSync(sTe.resolve(process.cwd(),n))}catch{C6.diag.warn(t);return}else return}function fTe(r){return uR(`OTEL_EXPORTER_OTLP_${r}_CLIENT_CERTIFICATE`,"OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE","Failed to read client certificate chain file")}function pTe(r){return uR(`OTEL_EXPORTER_OTLP_${r}_CLIENT_KEY`,"OTEL_EXPORTER_OTLP_CLIENT_KEY","Failed to read client certificate private key file")}function N6(r){return uR(`OTEL_EXPORTER_OTLP_${r}_CERTIFICATE`,"OTEL_EXPORTER_OTLP_CERTIFICATE","Failed to read root certificate file")}function P6(r){let e=pTe(r),t=fTe(r),o=N6(r),s=e!=null&&t!=null;return o!=null&&!s?(C6.diag.warn("Client key and certificate must both be provided, but one was missing - attempting to create credentials from just the root certificate"),(0,Ou.createSslCredentials)(N6(r))):(0,Ou.createSslCredentials)(o,e,t)}function dTe(r){return uTe(r)?(0,Ou.createInsecureCredentials)():P6(r)}function hTe(r){return Object.assign(Object.assign({},(0,iTe.getSharedConfigurationFromEnvironment)(r)),{metadata:lTe(r),url:cTe(r),credentials:e=>e.startsWith("http://")?()=>(0,Ou.createInsecureCredentials)():e.startsWith("https://")?()=>P6(r):()=>dTe(r)})}QE.getOtlpGrpcConfigurationFromEnv=hTe});var L6=T(ZE=>{"use strict";Object.defineProperty(ZE,"__esModule",{value:!0});ZE.convertLegacyOtlpGrpcOptions=void 0;var _Te=(P(),ee(ot)),b6=f4(),ETe=fu(),mTe=I6();function TTe(r,e){r.headers&&_Te.diag.warn("Headers cannot be set when using grpc");let t=r.credentials;return(0,b6.mergeOtlpGrpcConfigurationWithDefaults)({url:r.url,metadata:()=>{var o;return(o=r.metadata)!==null&&o!==void 0?o:(0,ETe.createEmptyMetadata)()},compression:r.compression,timeoutMillis:r.timeoutMillis,concurrencyLimit:r.concurrencyLimit,credentials:t!=null?()=>t:void 0},(0,mTe.getOtlpGrpcConfigurationFromEnv)(e),(0,b6.getOtlpGrpcDefaultConfiguration)())}ZE.convertLegacyOtlpGrpcOptions=TTe});var x6=T(em=>{"use strict";Object.defineProperty(em,"__esModule",{value:!0});em.createOtlpGrpcExportDelegate=void 0;var STe=(_n(),ee(pc)),gTe=fu();function vTe(r,e,t,o){return(0,STe.createOtlpNetworkExportDelegate)(r,e,(0,gTe.createOtlpGrpcExporterTransport)({address:r.url,compression:r.compression,credentials:r.credentials,metadata:r.metadata,grpcName:t,grpcPath:o}))}em.createOtlpGrpcExportDelegate=vTe});var fR=T(Ua=>{"use strict";Object.defineProperty(Ua,"__esModule",{value:!0});Ua.createOtlpGrpcExportDelegate=Ua.convertLegacyOtlpGrpcOptions=void 0;var yTe=L6();Object.defineProperty(Ua,"convertLegacyOtlpGrpcOptions",{enumerable:!0,get:function(){return yTe.convertLegacyOtlpGrpcOptions}});var OTe=x6();Object.defineProperty(Ua,"createOtlpGrpcExportDelegate",{enumerable:!0,get:function(){return OTe.createOtlpGrpcExportDelegate}})});var w6=T(tm=>{"use strict";Object.defineProperty(tm,"__esModule",{value:!0});tm.OTLPLogExporter=void 0;var M6=fR(),ATe=(Jn(),ee(nv)),RTe=(_n(),ee(pc)),pR=class extends RTe.OTLPExporterBase{constructor(e={}){super((0,M6.createOtlpGrpcExportDelegate)((0,M6.convertLegacyOtlpGrpcOptions)(e,"LOGS"),ATe.ProtobufLogsSerializer,"LogsExportService","/opentelemetry.proto.collector.logs.v1.LogsService/Export"))}};tm.OTLPLogExporter=pR});var D6=T(Io=>{"use strict";var NTe=Io&&Io.__createBinding||(Object.create?(function(r,e,t,o){o===void 0&&(o=t),Object.defineProperty(r,o,{enumerable:!0,get:function(){return e[t]}})}):(function(r,e,t,o){o===void 0&&(o=t),r[o]=e[t]})),CTe=Io&&Io.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&NTe(e,r,t)};Object.defineProperty(Io,"__esModule",{value:!0});CTe(w6(),Io)});var U6,k6=p(()=>{U6="0.56.0"});var ka,B6=p(()=>{_n();Jn();Qs();k6();ka=class extends Br{constructor(e={}){super(Hr(qr(e,"LOGS","v1/logs",{"User-Agent":`OTel-OTLP-Exporter-JavaScript/${U6}`,"Content-Type":"application/x-protobuf"}),gh))}}});var V6=p(()=>{B6()});var F6=p(()=>{V6()});var G6={};Ae(G6,{OTLPLogExporter:()=>ka});var H6=p(()=>{F6()});var q6,j6=p(()=>{q6="0.56.0"});var Ba,Y6=p(()=>{_n();Jn();j6();Qs();Ba=class extends Br{constructor(e={}){super(Hr(qr(e,"TRACES","v1/traces",{"User-Agent":`OTel-OTLP-Exporter-JavaScript/${q6}`,"Content-Type":"application/x-protobuf"}),vh))}}});var K6=p(()=>{Y6()});var z6=p(()=>{K6()});var $6={};Ae($6,{OTLPTraceExporter:()=>Ba});var X6=p(()=>{z6()});var W6,J6=p(()=>{W6="0.56.0"});var dR,Q6=p(()=>{_n();J6();Jn();Qs();dR=class extends Br{constructor(e={}){super(Hr(qr(e,"TRACES","v1/traces",{"User-Agent":`OTel-OTLP-Exporter-JavaScript/${W6}`,"Content-Type":"application/json"}),yh))}}});var Z6=p(()=>{Q6()});var eY=p(()=>{Z6()});var tY={};Ae(tY,{OTLPTraceExporter:()=>dR});var rY=p(()=>{eY()});var iY=T(rm=>{"use strict";Object.defineProperty(rm,"__esModule",{value:!0});rm.OTLPTraceExporter=void 0;var nY=fR(),PTe=(Jn(),ee(nv)),ITe=(_n(),ee(pc)),hR=class extends ITe.OTLPExporterBase{constructor(e={}){super((0,nY.createOtlpGrpcExportDelegate)((0,nY.convertLegacyOtlpGrpcOptions)(e,"TRACES"),PTe.ProtobufTraceSerializer,"TraceExportService","/opentelemetry.proto.collector.trace.v1.TraceService/Export"))}};rm.OTLPTraceExporter=hR});var oY=T(bo=>{"use strict";var bTe=bo&&bo.__createBinding||(Object.create?(function(r,e,t,o){o===void 0&&(o=t),Object.defineProperty(r,o,{enumerable:!0,get:function(){return e[t]}})}):(function(r,e,t,o){o===void 0&&(o=t),r[o]=e[t]})),LTe=bo&&bo.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&bTe(e,r,t)};Object.defineProperty(bo,"__esModule",{value:!0});LTe(iY(),bo)});var nm,sY=p(()=>{(function(r){r.AlwaysOff="always_off",r.AlwaysOn="always_on",r.ParentBasedAlwaysOff="parentbased_always_off",r.ParentBasedAlwaysOn="parentbased_always_on",r.ParentBasedTraceIdRatio="parentbased_traceidratio",r.TraceIdRatio="traceidratio"})(nm||(nm={}))});function wTe(r){return MTe.indexOf(r)>-1}function UTe(r){return DTe.indexOf(r)>-1}function BTe(r){return kTe.indexOf(r)>-1}function GTe(r,e,t){if(typeof t[r]>"u")return;let o=String(t[r]);e[r]=o.toLowerCase()==="true"}function HTe(r,e,t,o=-1/0,s=1/0){if(typeof t[r]<"u"){let a=Number(t[r]);isNaN(a)||(a<o?e[r]=o:a>s?e[r]=s:e[r]=a)}}function qTe(r,e,t,o=xTe){let s=t[r];typeof s=="string"&&(e[r]=s.split(o).map(a=>a.trim()))}function YTe(r,e,t){let o=t[r];if(typeof o=="string"){let s=jTe[o.toUpperCase()];s!=null&&(e[r]=s)}}function aY(r){let e={};for(let t in mR){let o=t;switch(o){case"OTEL_LOG_LEVEL":YTe(o,e,r);break;default:if(wTe(o))GTe(o,e,r);else if(UTe(o))HTe(o,e,r);else if(BTe(o))qTe(o,e,r);else{let s=r[o];typeof s<"u"&&s!==null&&(e[o]=String(s))}}}return e}var xTe,MTe,DTe,kTe,_R,ER,VTe,FTe,mR,jTe,lY=p(()=>{P();sY();xTe=",",MTe=["OTEL_SDK_DISABLED"];DTe=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_BLRP_EXPORT_TIMEOUT","OTEL_BLRP_MAX_EXPORT_BATCH_SIZE","OTEL_BLRP_MAX_QUEUE_SIZE","OTEL_BLRP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_OTLP_LOGS_TIMEOUT","OTEL_EXPORTER_JAEGER_AGENT_PORT"];kTe=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS","OTEL_SEMCONV_STABILITY_OPT_IN"];_R=1/0,ER=128,VTe=128,FTe=128,mR={OTEL_SDK_DISABLED:!1,CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_BLRP_EXPORT_TIMEOUT:3e4,OTEL_BLRP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BLRP_MAX_QUEUE_SIZE:2048,OTEL_BLRP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_AGENT_PORT:6832,OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_LOGS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_OTLP_LOGS_HEADERS:"",OTEL_EXPORTER_OTLP_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_TRACES_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_METRICS_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_LOGS_TIMEOUT:1e4,OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:H.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:_R,OTEL_ATTRIBUTE_COUNT_LIMIT:ER,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:_R,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:ER,OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT:_R,OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT:ER,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:VTe,OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:FTe,OTEL_TRACES_EXPORTER:"",OTEL_TRACES_SAMPLER:nm.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:"",OTEL_LOGS_EXPORTER:"",OTEL_EXPORTER_OTLP_INSECURE:"",OTEL_EXPORTER_OTLP_TRACES_INSECURE:"",OTEL_EXPORTER_OTLP_METRICS_INSECURE:"",OTEL_EXPORTER_OTLP_LOGS_INSECURE:"",OTEL_EXPORTER_OTLP_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_COMPRESSION:"",OTEL_EXPORTER_OTLP_TRACES_COMPRESSION:"",OTEL_EXPORTER_OTLP_METRICS_COMPRESSION:"",OTEL_EXPORTER_OTLP_LOGS_COMPRESSION:"",OTEL_EXPORTER_OTLP_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_TRACES_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_LOGS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE:"cumulative",OTEL_SEMCONV_STABILITY_OPT_IN:[]};jTe={ALL:H.ALL,VERBOSE:H.VERBOSE,DEBUG:H.DEBUG,INFO:H.INFO,WARN:H.WARN,ERROR:H.ERROR,NONE:H.NONE}});function Au(){let r=aY(process.env);return Object.assign({},mR,r)}var cY=p(()=>{lY()});var fY=p(()=>{cY()});var pY=p(()=>{fY()});function Ru(r){return r[0]*1e6+r[1]/1e3}var QTe,ZTe,Q3e,Z3e,dY=p(()=>{QTe=9,ZTe=6,Q3e=Math.pow(10,ZTe),Z3e=Math.pow(10,QTe)});var sn,hY=p(()=>{(function(r){r[r.SUCCESS=0]="SUCCESS",r[r.FAILED=1]="FAILED"})(sn||(sn={}))});var im=p(()=>{dY();hY();pY()});import*as eSe from"http";import*as tSe from"https";import*as _Y from"url";function Lo(r,e){let t=_Y.parse(r),o=Object.assign({method:"POST",headers:Object.assign({"Content-Type":"application/json"},e)},t);return function(a,i){if(a.length===0)return S.debug("Zipkin send with empty spans"),i({code:sn.SUCCESS});let{request:n}=o.protocol==="http:"?eSe:tSe,l=n(o,u=>{let f="";u.on("data",_=>{f+=_}),u.on("end",()=>{let _=u.statusCode||0;return S.debug(`Zipkin response status code: ${_}, body: ${f}`),_<400?i({code:sn.SUCCESS}):i({code:sn.FAILED,error:new Error(`Got unexpected status code from zipkin: ${_}`)})})});l.on("error",u=>i({code:sn.FAILED,error:u}));let c=JSON.stringify(a);S.debug(`Zipkin request payload: ${c}`),l.write(c,"utf8"),l.end()}}var EY=p(()=>{P();im()});var mY=p(()=>{EY()});var TR=p(()=>{mY()});var xo,TY=p(()=>{(function(r){r.CLIENT="CLIENT",r.SERVER="SERVER",r.CONSUMER="CONSUMER",r.PRODUCER="PRODUCER"})(xo||(xo={}))});function vY(r,e,t,o){return{traceId:r.spanContext().traceId,parentId:r.parentSpanId,name:r.name,id:r.spanContext().spanId,kind:nSe[r.kind],timestamp:Ru(r.startTime),duration:Math.round(Ru(r.duration)),localEndpoint:{serviceName:e},tags:iSe(r,t,o),annotations:r.events.length?oSe(r.events):void 0}}function iSe({attributes:r,resource:e,status:t,droppedAttributesCount:o,droppedEventsCount:s,droppedLinksCount:a},i,n){let l={};for(let c of Object.keys(r))l[c]=String(r[c]);return t.code!==Lr.UNSET&&(l[i]=String(Lr[t.code])),t.code===Lr.ERROR&&t.message&&(l[n]=t.message),o&&(l["otel.dropped_attributes_count"]=String(o)),s&&(l["otel.dropped_events_count"]=String(s)),a&&(l["otel.dropped_links_count"]=String(a)),Object.keys(e.attributes).forEach(c=>l[c]=String(e.attributes[c])),l}function oSe(r){return r.map(e=>({timestamp:Math.round(Ru(e.time)),value:e.name}))}var nSe,SY,gY,yY=p(()=>{P();im();TY();nSe={[qt.CLIENT]:xo.CLIENT,[qt.SERVER]:xo.SERVER,[qt.CONSUMER]:xo.CONSUMER,[qt.PRODUCER]:xo.PRODUCER,[qt.INTERNAL]:void 0},SY="otel.status_code",gY="error"});function OY(r){return function(){return r()}}var AY=p(()=>{});var om,RY=p(()=>{P();im();TR();yY();Ve();AY();om=class{constructor(e={}){this.DEFAULT_SERVICE_NAME="OpenTelemetry Service",this._sendingPromises=[],this._urlStr=e.url||Au().OTEL_EXPORTER_ZIPKIN_ENDPOINT,this._send=Lo(this._urlStr,e.headers),this._serviceName=e.serviceName,this._statusCodeTagName=e.statusCodeTagName||SY,this._statusDescriptionTagName=e.statusDescriptionTagName||gY,this._isShutdown=!1,typeof e.getExportRequestHeaders=="function"?this._getHeaders=OY(e.getExportRequestHeaders):this._beforeSend=function(){}}export(e,t){let o=String(this._serviceName||e[0].resource.attributes[at]||this.DEFAULT_SERVICE_NAME);if(S.debug("Zipkin exporter export"),this._isShutdown){setTimeout(()=>t({code:sn.FAILED,error:new Error("Exporter has been shutdown")}));return}let s=new Promise(i=>{this._sendSpans(e,o,n=>{i(),t(n)})});this._sendingPromises.push(s);let a=()=>{let i=this._sendingPromises.indexOf(s);this._sendingPromises.splice(i,1)};s.then(a,a)}shutdown(){return S.debug("Zipkin exporter shutdown"),this._isShutdown=!0,this.forceFlush()}forceFlush(){return new Promise((e,t)=>{Promise.all(this._sendingPromises).then(()=>{e()},t)})}_beforeSend(){this._getHeaders&&(this._send=Lo(this._urlStr,this._getHeaders()))}_sendSpans(e,t,o){let s=e.map(a=>vY(a,String(a.attributes[at]||a.resource.attributes[at]||t),this._statusCodeTagName,this._statusDescriptionTagName));return this._beforeSend(),this._send(s,a=>{if(o)return o(a)})}}});var NY={};Ae(NY,{ZipkinExporter:()=>om,prepareSend:()=>Lo});var CY=p(()=>{TR();RY()});var LY=T(an=>{"use strict";Object.defineProperty(an,"__esModule",{value:!0});an.getSpanProcessorsFromEnv=an.getOtlpProtocolFromEnv=an.filterBlanksAndNulls=an.getResourceDetectorsFromEnv=void 0;var Mo=(P(),ee(ot)),am=(xr(),ee(Af)),PY=(X6(),ee($6)),sSe=(rY(),ee(tY)),aSe=oY(),lSe=(CY(),ee(NY)),Nu=(Ud(),ee(Dd)),sm=(Hi(),ee(ws)),cSe="env",uSe="host",fSe="os",pSe="process",dSe="serviceinstance";function hSe(){var r,e;let t=new Map([[cSe,Nu.envDetectorSync],[uSe,Nu.hostDetectorSync],[fSe,Nu.osDetectorSync],[dSe,Nu.serviceInstanceIdDetectorSync],[pSe,Nu.processDetectorSync]]),o=(e=(r=process.env.OTEL_NODE_RESOURCE_DETECTORS)===null||r===void 0?void 0:r.split(","))!==null&&e!==void 0?e:["all"];return o.includes("all")?[...t.values()].flat():o.includes("none")?[]:o.flatMap(s=>{let a=t.get(s);return a||Mo.diag.warn(`Invalid resource detector "${s}" specified in the environment variable OTEL_NODE_RESOURCE_DETECTORS`),a||[]})}an.getResourceDetectorsFromEnv=hSe;function IY(r){return r.map(e=>e.trim()).filter(e=>e!=="null"&&e!=="")}an.filterBlanksAndNulls=IY;function bY(){var r,e,t;let o=(0,am.getEnvWithoutDefaults)();return(t=(e=(r=o.OTEL_EXPORTER_OTLP_TRACES_PROTOCOL)!==null&&r!==void 0?r:o.OTEL_EXPORTER_OTLP_PROTOCOL)!==null&&e!==void 0?e:(0,am.getEnv)().OTEL_EXPORTER_OTLP_TRACES_PROTOCOL)!==null&&t!==void 0?t:(0,am.getEnv)().OTEL_EXPORTER_OTLP_PROTOCOL}an.getOtlpProtocolFromEnv=bY;function _Se(){let r=bY();switch(r){case"grpc":return new aSe.OTLPTraceExporter;case"http/json":return new sSe.OTLPTraceExporter;case"http/protobuf":return new PY.OTLPTraceExporter;default:return Mo.diag.warn(`Unsupported OTLP traces protocol: ${r}. Using http/protobuf.`),new PY.OTLPTraceExporter}}function ESe(){try{let{JaegerExporter:r}=V("@opentelemetry/exporter-jaeger");return new r}catch(r){throw new Error(`Could not instantiate JaegerExporter. This could be due to the JaegerExporter's lack of support for bundling. If possible, use @opentelemetry/exporter-trace-otlp-proto instead. Original Error: ${r}`)}}function mSe(){var r;let e=new Map([["otlp",()=>_Se()],["zipkin",()=>new lSe.ZipkinExporter],["console",()=>new sm.ConsoleSpanExporter],["jaeger",()=>ESe()]]),t=[],o=[],s=IY(Array.from(new Set((0,am.getEnv)().OTEL_TRACES_EXPORTER.split(","))));if(s[0]==="none")return Mo.diag.warn('OTEL_TRACES_EXPORTER contains "none". SDK will not be initialized.'),[];s.length===0?(Mo.diag.warn("OTEL_TRACES_EXPORTER is empty. Using default otlp exporter."),s=["otlp"]):s.length>1&&s.includes("none")&&(Mo.diag.warn('OTEL_TRACES_EXPORTER contains "none" along with other exporters. Using default otlp exporter.'),s=["otlp"]);for(let a of s){let i=(r=e.get(a))===null||r===void 0?void 0:r();i?t.push(i):Mo.diag.warn(`Unrecognized OTEL_TRACES_EXPORTER value: ${a}.`)}for(let a of t)a instanceof sm.ConsoleSpanExporter?o.push(new sm.SimpleSpanProcessor(a)):o.push(new sm.BatchSpanProcessor(a));return t.length===0&&Mo.diag.warn("Unable to set up trace exporter(s) due to invalid exporter and/or protocol values."),o}an.getSpanProcessorsFromEnv=mSe});var MY=T(lm=>{"use strict";Object.defineProperty(lm,"__esModule",{value:!0});lm.NodeSDK=void 0;var ln=(P(),ee(ot)),TSe=(hl(),ee(dw)),SSe=(uF(),ee(cF)),Va=(Ud(),ee(Dd)),Cu=(xT(),ee(LT)),gSe=(c3(),ee(l3)),vSe=D6(),SR=(H6(),ee(G6)),ySe=(kp(),ee(WT)),OSe=(Hi(),ee(ws)),ASe=HS(),RSe=(Ve(),ee(zx)),xY=(xr(),ee(Af)),gR=LY(),vR=class{constructor(e={}){var t,o,s,a,i,n,l;let c=(0,xY.getEnv)(),u=(0,xY.getEnvWithoutDefaults)();if(c.OTEL_SDK_DISABLED&&(this._disabled=!0),u.OTEL_LOG_LEVEL&&ln.diag.setLogger(new ln.DiagConsoleLogger,{logLevel:u.OTEL_LOG_LEVEL}),this._configuration=e,this._resource=(t=e.resource)!==null&&t!==void 0?t:new Va.Resource({}),this._mergeResourceWithDefaults=(o=e.mergeResourceWithDefaults)!==null&&o!==void 0?o:!0,this._autoDetectResources=(s=e.autoDetectResources)!==null&&s!==void 0?s:!0,this._autoDetectResources?e.resourceDetectors!=null?this._resourceDetectors=e.resourceDetectors:process.env.OTEL_NODE_RESOURCE_DETECTORS!=null?this._resourceDetectors=(0,gR.getResourceDetectorsFromEnv)():this._resourceDetectors=[Va.envDetector,Va.processDetector,Va.hostDetector]:this._resourceDetectors=[],this._serviceName=e.serviceName,e.traceExporter||e.spanProcessor||e.spanProcessors){let f={};e.sampler&&(f.sampler=e.sampler),e.spanLimits&&(f.spanLimits=e.spanLimits),e.idGenerator&&(f.idGenerator=e.idGenerator),e.spanProcessor&&ln.diag.warn("The 'spanProcessor' option is deprecated. Please use 'spanProcessors' instead.");let _=(a=e.spanProcessor)!==null&&a!==void 0?a:new OSe.BatchSpanProcessor(e.traceExporter),m=(i=e.spanProcessors)!==null&&i!==void 0?i:[_];this._tracerProviderConfig={tracerConfig:f,spanProcessors:m,contextManager:e.contextManager,textMapPropagator:e.textMapPropagator}}if(e.logRecordProcessors?this._loggerProviderConfig={logRecordProcessors:e.logRecordProcessors}:e.logRecordProcessor?(this._loggerProviderConfig={logRecordProcessors:[e.logRecordProcessor]},ln.diag.warn("The 'logRecordProcessor' option is deprecated. Please use 'logRecordProcessors' instead.")):this.configureLoggerProviderFromEnv(),e.metricReader||e.views){let f={};e.metricReader&&(f.reader=e.metricReader),e.views&&(f.views=e.views),this._meterProviderConfig=f}this._instrumentations=(l=(n=e.instrumentations)===null||n===void 0?void 0:n.flat())!==null&&l!==void 0?l:[]}start(){var e,t,o,s,a,i;if(this._disabled)return;if((0,SSe.registerInstrumentations)({instrumentations:this._instrumentations}),this._autoDetectResources){let l={detectors:this._resourceDetectors};this._resource=this._resource.merge((0,Va.detectResourcesSync)(l))}this._resource=this._serviceName===void 0?this._resource:this._resource.merge(new Va.Resource({[RSe.SEMRESATTRS_SERVICE_NAME]:this._serviceName}));let n=this._tracerProviderConfig?this._tracerProviderConfig.spanProcessors:(0,gR.getSpanProcessorsFromEnv)();if(this._tracerProvider=new ASe.NodeTracerProvider(Object.assign(Object.assign({},this._configuration),{resource:this._resource,mergeResourceWithDefaults:this._mergeResourceWithDefaults,spanProcessors:n})),n.length>0&&this._tracerProvider.register({contextManager:(t=(e=this._tracerProviderConfig)===null||e===void 0?void 0:e.contextManager)!==null&&t!==void 0?t:(o=this._configuration)===null||o===void 0?void 0:o.contextManager,propagator:(s=this._tracerProviderConfig)===null||s===void 0?void 0:s.textMapPropagator}),this._loggerProviderConfig){let l=new Cu.LoggerProvider({resource:this._resource,mergeResourceWithDefaults:this._mergeResourceWithDefaults});for(let c of this._loggerProviderConfig.logRecordProcessors)l.addLogRecordProcessor(c);this._loggerProvider=l,TSe.logs.setGlobalLoggerProvider(l)}if(this._meterProviderConfig){let l=[];this._meterProviderConfig.reader&&l.push(this._meterProviderConfig.reader);let c=new ySe.MeterProvider({resource:this._resource,views:(i=(a=this._meterProviderConfig)===null||a===void 0?void 0:a.views)!==null&&i!==void 0?i:[],readers:l,mergeResourceWithDefaults:this._mergeResourceWithDefaults});this._meterProvider=c,ln.metrics.setGlobalMeterProvider(c);for(let u of this._instrumentations)u.setMeterProvider(ln.metrics.getMeterProvider())}}shutdown(){let e=[];return this._tracerProvider&&e.push(this._tracerProvider.shutdown()),this._loggerProvider&&e.push(this._loggerProvider.shutdown()),this._meterProvider&&e.push(this._meterProvider.shutdown()),Promise.all(e).then(()=>{})}configureLoggerProviderFromEnv(){var e;let t=(e=process.env.OTEL_LOGS_EXPORTER)!==null&&e!==void 0?e:"",o=(0,gR.filterBlanksAndNulls)(t.split(","));if(o.length===0&&(ln.diag.info("OTEL_LOGS_EXPORTER is empty. Using default otlp exporter."),o.push("otlp")),o.includes("none")){ln.diag.info('OTEL_LOGS_EXPORTER contains "none". Logger provider will not be initialized.');return}let s=[];o.forEach(a=>{var i,n;if(a==="otlp"){let l=(n=(i=process.env.OTEL_EXPORTER_OTLP_LOGS_PROTOCOL)!==null&&i!==void 0?i:process.env.OTEL_EXPORTER_OTLP_PROTOCOL)===null||n===void 0?void 0:n.trim();switch(l){case"grpc":s.push(new vSe.OTLPLogExporter);break;case"http/json":s.push(new gSe.OTLPLogExporter);break;case"http/protobuf":s.push(new SR.OTLPLogExporter);break;case void 0:case"":s.push(new SR.OTLPLogExporter);break;default:ln.diag.warn(`Unsupported OTLP logs protocol: "${l}". Using http/protobuf.`),s.push(new SR.OTLPLogExporter)}}else a==="console"?s.push(new Cu.ConsoleLogRecordExporter):ln.diag.warn(`Unsupported OTEL_LOGS_EXPORTER value: "${a}". Supported values are: otlp, console, none.`)}),s.length>0&&(this._loggerProviderConfig={logRecordProcessors:s.map(a=>a instanceof Cu.ConsoleLogRecordExporter?new Cu.SimpleLogRecordProcessor(a):new Cu.BatchLogRecordProcessor(a))})}};lm.NodeSDK=vR});var wY=T(Xe=>{"use strict";Object.defineProperty(Xe,"__esModule",{value:!0});Xe.NodeSDK=Xe.tracing=Xe.resources=Xe.node=Xe.metrics=Xe.logs=Xe.core=Xe.contextBase=Xe.api=void 0;Xe.api=(P(),ee(ot));Xe.contextBase=(P(),ee(ot));Xe.core=(xr(),ee(Af));Xe.logs=(xT(),ee(LT));Xe.metrics=(kp(),ee(WT));Xe.node=HS();Xe.resources=(Ud(),ee(Dd));Xe.tracing=(Hi(),ee(ws));var NSe=MY();Object.defineProperty(Xe,"NodeSDK",{enumerable:!0,get:function(){return NSe.NodeSDK}})});P();import{env as Pu,version as CSe}from"process";P();Ve();var $x="1.30.1";Ve();var Oi={[Se]:"opentelemetry",[st]:"node",[ge]:wt,[ve]:$x};var Fo;(function(r){r[r.SUCCESS=0]="SUCCESS",r[r.FAILED=1]="FAILED"})(Fo||(Fo={}));var Ku=class{constructor(){this._promise=new Promise((e,t)=>{this._resolve=e,this._reject=t})}get promise(){return this._promise}resolve(e){this._resolve(e)}reject(e){this._reject(e)}};var el=class{constructor(e,t){this._callback=e,this._that=t,this._isCalled=!1,this._deferred=new Ku}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...e){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...e)).then(t=>this._deferred.resolve(t),t=>this._deferred.reject(t))}catch(t){this._deferred.reject(t)}}return this._deferred.promise}};function zu(){return`unknown_service:${process.argv0}`}var Ai=class r{constructor(e,t){var o;this._attributes=e,this.asyncAttributesPending=t!=null,this._syncAttributes=(o=this._attributes)!==null&&o!==void 0?o:{},this._asyncAttributesPromise=t==null?void 0:t.then(s=>(this._attributes=Object.assign({},this._attributes,s),this.asyncAttributesPending=!1,s),s=>(S.debug("a resource's async attributes promise rejected: %s",s),this.asyncAttributesPending=!1,{}))}static empty(){return r.EMPTY}static default(){return new r({[at]:zu(),[ge]:Oi[ge],[Se]:Oi[Se],[ve]:Oi[ve]})}get attributes(){var e;return this.asyncAttributesPending&&S.error("Accessing resource attributes before async attributes settled"),(e=this._attributes)!==null&&e!==void 0?e:{}}async waitForAsyncAttributes(){this.asyncAttributesPending&&await this._asyncAttributesPromise}merge(e){var t;if(!e)return this;let o=Object.assign(Object.assign({},this._syncAttributes),(t=e._syncAttributes)!==null&&t!==void 0?t:e.attributes);if(!this._asyncAttributesPromise&&!e._asyncAttributesPromise)return new r(o);let s=Promise.all([this._asyncAttributesPromise,e._asyncAttributesPromise]).then(([a,i])=>{var n;return Object.assign(Object.assign(Object.assign(Object.assign({},this._syncAttributes),a),(n=e._syncAttributes)!==null&&n!==void 0?n:e.attributes),i)});return new r(o,s)}};Ai.EMPTY=new Ai({});var BY=Nn(wY(),1);P();Jn();var Fa,wo,Ga,DY,UY,cm=class{constructor(){Lu(this,Ga);Lu(this,Fa);Lu(this,wo);pm(this,Fa,new el(dm(this,Ga,DY),this)),pm(this,wo,S.createComponentLogger({namespace:"netlify-span-exporter"}))}convert(e){return $n(e,{useHex:!0,useLongBits:!1})}export(e,t){if(ko(this,wo).debug(`export ${e.length} spans`),ko(this,Fa).isCalled){t({code:Fo.FAILED,error:new Error("Exporter has been shutdown")});return}return dm(this,Ga,UY).call(this,e,t)}shutdown(){return ko(this,wo).debug("Shutting down"),ko(this,Fa).call()}forceFlush(){return ko(this,wo).debug("force flush"),Promise.resolve()}};Fa=new WeakMap,wo=new WeakMap,Ga=new WeakSet,DY=function(){return this.forceFlush()},UY=function(e,t){if(console.log("__nfOTLPTrace",JSON.stringify(this.convert(e))),t)return t({code:Fo.SUCCESS})};Pu.NETLIFY_DEBUG_OPENTELEMETRY&&S.setLogger(new wu,{logLevel:H.ALL,suppressOverrideMessage:!0});var kY,PSe=new Ai({"service.name":SERVICE_NAME??"lambda-function","service.version":SERVICE_VERSION,"process.runtime.name":"nodejs","process.runtime.version":CSe.slice(1),"deployment.environment":(kY=Pu.URL)!=null&&kY.includes("netlifystg.com")?"staging":"production","http.url":Pu.URL,"netlify.site.id":Pu.SITE_ID,"netlify.site.name":Pu.SITE_NAME}),ISe=new BY.default.NodeSDK({resource:PSe,traceExporter:new cm});ISe.start();
/*! Bundled license information:

@grpc/proto-loader/build/src/util.js:
@grpc/proto-loader/build/src/index.js:
  (**
   * @license
   * Copyright 2018 gRPC authors.
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *     http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *
   *)

long/umd/index.js:
  (**
   * @license
   * Copyright 2009 The Closure Library Authors
   * Copyright 2020 Daniel Wirtz / The long.js Authors.
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *     http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *
   * SPDX-License-Identifier: Apache-2.0
   *)
*/
